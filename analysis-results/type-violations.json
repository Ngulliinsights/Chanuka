{
  "timestamp": "2026-02-16T22:58:37.972Z",
  "totalViolations": 434,
  "byCategory": {
    "enum_conversion": 163,
    "dynamic_property": 44,
    "api_response": 11,
    "database_operation": 22,
    "type_assertion": 3,
    "test_code": 53,
    "other": 138
  },
  "byFile": {
    "client\\src\\main.tsx": 1,
    "client\\src\\scripts\\run-emergency-triage.ts": 2,
    "client\\src\\core\\core-monitoring.ts": 2,
    "client\\src\\tests\\performance\\home-page-performance.test.tsx": 2,
    "client\\src\\lib\\templates\\component-templates.ts": 2,
    "client\\src\\lib\\services\\services-monitoring.ts": 2,
    "client\\src\\lib\\hooks\\useValidation.ts": 2,
    "client\\src\\lib\\hooks\\useOfflineDetection.tsx": 2,
    "client\\src\\lib\\hooks\\useOfflineCapabilities.ts": 2,
    "client\\src\\lib\\hooks\\use-performance-monitor.ts": 2,
    "client\\src\\lib\\hooks\\use-offline-detection.ts": 2,
    "client\\src\\lib\\hooks\\use-i18n.tsx": 2,
    "client\\src\\lib\\hooks\\hooks-monitoring.ts": 2,
    "client\\src\\lib\\demo\\community-integration-demo.ts": 1,
    "client\\src\\core\\personalization\\persona-detector.test.tsx": 2,
    "client\\src\\core\\performance\\monitor.ts": 1,
    "client\\src\\core\\navigation\\test-navigation.ts": 3,
    "client\\src\\core\\navigation\\route-preloading.ts": 1,
    "client\\src\\core\\navigation\\NavigationPerformance.test.tsx": 6,
    "client\\src\\core\\navigation\\NavigationConsistency.tsx": 2,
    "client\\src\\core\\navigation\\NavigationConsistency.test.tsx": 2,
    "client\\src\\core\\navigation\\context.tsx": 4,
    "client\\src\\core\\monitoring\\monitoring-init.ts": 1,
    "client\\src\\core\\dashboard\\context.tsx": 3,
    "client\\src\\core\\browser\\BrowserCompatibilityReport.tsx": 1,
    "client\\src\\core\\auth\\service.ts": 1,
    "client\\src\\core\\auth\\initialization.ts": 1,
    "client\\src\\core\\analytics\\AnalyticsIntegration.tsx": 1,
    "client\\src\\__tests__\\strategic\\monitoring\\performance-monitor.test.ts": 3,
    "client\\src\\__tests__\\strategic\\monitoring\\monitoring-init.test.ts": 1,
    "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts": 11,
    "client\\src\\__tests__\\strategic\\error-handling\\cross-system-propagation.test.tsx": 9,
    "client\\src\\lib\\infrastructure\\monitoring\\monitoring-integration.ts": 1,
    "client\\src\\lib\\infrastructure\\monitoring\\cross-system-error-analytics.ts": 5,
    "client\\src\\lib\\hooks\\utils\\performance.ts": 11,
    "client\\src\\lib\\hooks\\utils\\error-handling.ts": 1,
    "client\\src\\lib\\design-system\\utils\\performance.ts": 4,
    "client\\src\\lib\\design-system\\typography\\text.tsx": 1,
    "client\\src\\lib\\design-system\\tokens\\validation.ts": 1,
    "client\\src\\lib\\design-system\\media\\Logo.tsx": 1,
    "client\\src\\lib\\design-system\\standards\\low-bandwidth.ts": 1,
    "client\\src\\lib\\design-system\\standards\\interactive-states.ts": 2,
    "client\\src\\lib\\design-system\\interactive\\Calendar.tsx": 1,
    "client\\src\\lib\\data\\mock\\realtime.ts": 1,
    "client\\src\\lib\\data\\mock\\discussions.ts": 4,
    "client\\src\\lib\\data\\mock\\community.ts": 4,
    "client\\src\\lib\\data\\mock\\bills.ts": 2,
    "client\\src\\lib\\components\\performance\\PerformanceMonitor.tsx": 1,
    "client\\src\\lib\\components\\home\\RecentActivity.tsx": 1,
    "client\\src\\features\\dashboard\\validation\\run-property-tests.ts": 1,
    "client\\src\\features\\dashboard\\validation\\config.property.test.ts": 1,
    "client\\src\\features\\community\\hooks\\useDiscussion.ts": 1,
    "client\\src\\core\\security\\__tests__\\unified-security.test.ts": 3,
    "client\\src\\core\\realtime\\services\\notifications.ts": 3,
    "client\\src\\core\\realtime\\services\\community.ts": 6,
    "client\\src\\core\\realtime\\hooks\\use-websocket.ts": 9,
    "client\\src\\core\\navigation\\hooks\\use-navigation-performance.ts": 2,
    "client\\src\\core\\loading\\utils\\connection-utils.ts": 1,
    "client\\src\\core\\error\\components\\example.tsx": 2,
    "client\\src\\core\\community\\hooks\\useUnifiedDiscussion.ts": 1,
    "client\\src\\lib\\ui\\loading\\examples\\GlobalLoadingExample.tsx": 1,
    "client\\src\\core\\error\\components\\utils\\error-reporter.ts": 2,
    "client\\src\\core\\error\\components\\utils\\error-normalizer.ts": 2,
    "server\\utils\\db-helpers.ts": 4,
    "server\\storage\\user-storage-with-transformers.example.ts": 3,
    "server\\storage\\bill-storage-with-transformers.example.ts": 7,
    "server\\config\\index.ts": 1,
    "server\\tests\\integration\\websocket-backward-compatibility.test.ts": 10,
    "server\\infrastructure\\security\\input-validation-service.ts": 1,
    "server\\infrastructure\\security\\data-privacy-service.ts": 2,
    "server\\infrastructure\\observability\\external-api-management.ts": 1,
    "server\\infrastructure\\observability\\audit-log.ts": 5,
    "server\\infrastructure\\schema\\integration-extended.ts": 7,
    "server\\infrastructure\\notifications\\smart-notification-filter.ts": 1,
    "server\\infrastructure\\notifications\\notification-scheduler.ts": 1,
    "server\\infrastructure\\notifications\\notification-orchestrator.ts": 2,
    "server\\infrastructure\\notifications\\notification-channels.ts": 2,
    "server\\infrastructure\\notifications\\email-service.ts": 2,
    "server\\infrastructure\\migration\\repository-deployment-validator.ts": 3,
    "server\\infrastructure\\migration\\phase1-deployment-orchestrator.ts": 5,
    "server\\infrastructure\\migration\\deployment-orchestrator.ts": 3,
    "server\\infrastructure\\migration\\deployment-monitoring-dashboard.ts": 3,
    "server\\infrastructure\\integration\\service-orchestrator.ts": 3,
    "server\\infrastructure\\errors\\recovery-patterns.ts": 1,
    "server\\infrastructure\\errors\\migration-example.ts": 3,
    "server\\infrastructure\\errors\\error-configuration.ts": 8,
    "server\\infrastructure\\config\\manager.ts": 3,
    "server\\infrastructure\\cache\\single-flight-cache.ts": 2,
    "server\\infrastructure\\cache\\interfaces.ts": 1,
    "server\\infrastructure\\cache\\factory.ts": 5,
    "server\\infrastructure\\cache\\factory.test.ts": 1,
    "server\\infrastructure\\cache\\caching-service.test.ts": 1,
    "server\\infrastructure\\cache\\cache-wrappers.test.ts": 1,
    "server\\infrastructure\\cache\\cache-factory.ts": 6,
    "server\\infrastructure\\cache\\adapters-factory-integration.test.ts": 14,
    "server\\features\\community\\social-integration.ts": 1,
    "server\\features\\community\\community.ts": 9,
    "server\\features\\community\\comment.ts": 1,
    "server\\features\\bills\\voting-pattern-analysis.ts": 5,
    "server\\features\\bills\\voting-pattern-analysis-router.ts": 5,
    "server\\features\\bills\\sponsorship.routes.ts": 4,
    "server\\features\\bills\\bills-router-migrated.ts": 3,
    "server\\features\\bills\\bill-tracking.routes.ts": 2,
    "server\\features\\argument-intelligence\\argument-intelligence-router.ts": 2,
    "server\\features\\analytics\\transparency-dashboard.ts": 5,
    "server\\features\\analytics\\regulatory-change-monitoring.ts": 6,
    "server\\features\\analytics\\ml-analysis.ts": 2,
    "server\\features\\analytics\\engagement-analytics.ts": 1,
    "server\\features\\analysis\\analysis.routes.ts": 1,
    "server\\features\\admin\\external-api-dashboard.ts": 1,
    "server\\features\\admin\\admin.ts": 1,
    "server\\features\\accountability\\ledger.service.ts": 2,
    "server\\infrastructure\\websocket\\utils\\circular-buffer.ts": 2,
    "server\\infrastructure\\websocket\\monitoring\\metrics-reporter.test.ts": 1,
    "server\\infrastructure\\websocket\\core\\websocket-service.ts": 1,
    "server\\infrastructure\\core\\validation\\validation-services-init.ts": 1,
    "server\\infrastructure\\core\\errors\\error-tracker.ts": 11,
    "server\\infrastructure\\cache\\utilities\\cache-warmer.ts": 1,
    "server\\infrastructure\\cache\\monitoring\\metrics-collector.ts": 1,
    "server\\infrastructure\\cache\\clustering\\cluster-manager.ts": 1,
    "server\\infrastructure\\adapters\\mappings\\user-mapping.ts": 1,
    "server\\features\\users\\domain\\citizen-verification.ts": 1,
    "server\\features\\bills\\infrastructure\\bill-storage.ts": 1,
    "server\\features\\bills\\application\\sponsorship-analysis.service.ts": 1,
    "server\\features\\bills\\application\\bills.ts": 1,
    "server\\features\\argument-intelligence\\application\\argument-processor.ts": 1,
    "server\\features\\analytics\\services\\engagement.service.ts": 4,
    "server\\features\\analytics\\financial-disclosure\\monitoring.ts": 2,
    "server\\features\\analytics\\financial-disclosure\\index.ts": 5,
    "server\\features\\analytics\\middleware\\analytics-context.ts": 6,
    "server\\features\\analytics\\config\\analytics.config.ts": 2,
    "server\\features\\analysis\\application\\constitutional-analysis.service.ts": 3,
    "server\\features\\alert-preferences\\application\\alert-preferences-service.ts": 9,
    "server\\features\\advocacy\\application\\impact-tracker.ts": 1,
    "server\\features\\admin\\moderation\\moderation-orchestrator.service.ts": 1,
    "server\\infrastructure\\websocket\\core\\__tests__\\subscription-manager.test.ts": 5,
    "server\\infrastructure\\websocket\\core\\__tests__\\operation-queue-manager.test.ts": 1,
    "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts": 14,
    "server\\features\\bills\\domain\\services\\bill-domain-service.ts": 1,
    "server\\features\\alert-preferences\\domain\\services\\unified-alert-preference-service.ts": 1,
    "server\\features\\alert-preferences\\domain\\services\\alert-delivery-service.ts": 3,
    "shared\\__tests__\\websocket-reconnection.property.test.ts": 7,
    "shared\\ml\\testing\\test-server.ts": 2,
    "shared\\ml\\services\\analysis-pipeline.ts": 2,
    "shared\\core\\utils\\type-guards.ts": 2,
    "shared\\core\\utils\\security-utils.test.ts": 10,
    "shared\\core\\utils\\performance-utils.ts": 2,
    "shared\\core\\utils\\concurrency-migration-router.ts": 1,
    "shared\\core\\utils\\common-utils.ts": 2,
    "shared\\platform\\kenya\\anonymity\\anonymity-helper.ts": 1,
    "shared\\core\\primitives\\types\\branded.ts": 1,
    "shared\\core\\middleware\\error-handler\\provider.ts": 2
  },
  "bySeverity": {
    "critical": 0,
    "high": 0,
    "medium": 381,
    "low": 53
  },
  "violations": [
    {
      "file": "client\\src\\main.tsx",
      "line": 26,
      "column": 37,
      "context": "function setupProcessEnvironment(): void {\n  try {\n    const globalWindow = globalThis as any;\n\n    if (typeof globalWindow.process === 'undefined') {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\scripts\\run-emergency-triage.ts",
      "line": 362,
      "column": 11,
      "context": "if (typeof window !== 'undefined') {\n  // Make available globally for browser console usage\n  (window as any).EmergencyTriageRunner = EmergencyTriageRunner;\n  (window as any).startEmergencyTriage = () => {\n    const runner = new EmergencyTriageRunner();",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\scripts\\run-emergency-triage.ts",
      "line": 363,
      "column": 11,
      "context": "  // Make available globally for browser console usage\n  (window as any).EmergencyTriageRunner = EmergencyTriageRunner;\n  (window as any).startEmergencyTriage = () => {\n    const runner = new EmergencyTriageRunner();\n    return runner.start();",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\core-monitoring.ts",
      "line": 51,
      "column": 56,
      "context": "    if (!this.monitoringEnabled) return;\n\n    const appError = error instanceof Error && !(error as any).type\n      ? createError(\n          CoreErrorDomain.SYSTEM,",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\core-monitoring.ts",
      "line": 562,
      "column": 68,
      "context": "\n  private isOperationEnabled(operation: string): boolean {\n    const monitoring = ServiceArchitectureMonitoring.getInstance() as any;\n    return monitoring.enabledOperations.has('*') || monitoring.enabledOperations.has(operation);\n  }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\tests\\performance\\home-page-performance.test.tsx",
      "line": 53,
      "column": 25,
      "context": "          let clsValue = 0;\n          for (const entry of list.getEntries()) {\n            if (!(entry as any).hadRecentInput) {\n              clsValue += (entry as any).value;\n            }",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\tests\\performance\\home-page-performance.test.tsx",
      "line": 54,
      "column": 34,
      "context": "          for (const entry of list.getEntries()) {\n            if (!(entry as any).hadRecentInput) {\n              clsValue += (entry as any).value;\n            }\n          }",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\lib\\templates\\component-templates.ts",
      "line": 620,
      "column": 31,
      "context": "    } catch (err) {\n      const ${camelName}Error: ${pascalName}Error = {\n        type: 'RUNTIME_ERROR' as any,\n        message: err instanceof Error ? err.message : 'Unknown error',\n        details: { originalError: err },",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\templates\\component-templates.ts",
      "line": 742,
      "column": 18,
      "context": "    data !== null &&\n    'id' in data &&\n    typeof (data as any).id === 'string'\n  );\n}",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\services\\services-monitoring.ts",
      "line": 172,
      "column": 43,
      "context": "  // Private helper methods\n  private ensureAppError(error: AppError | Error, context: ErrorContext): AppError {\n    if (error instanceof Error && !(error as any).type) {\n      return createError(\n        ErrorDomain.SYSTEM,",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\services\\services-monitoring.ts",
      "line": 623,
      "column": 64,
      "context": "\n  private isOperationEnabled(operation: string): boolean {\n    const monitoring = LibraryServicesMonitoring.getInstance() as any;\n    return monitoring.enabledOperations.has('*') \n      || monitoring.enabledOperations.has(operation);",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\useValidation.ts",
      "line": 96,
      "column": 59,
      "context": "  try {\r\n    // Create a partial schema for the field\r\n    const fieldSchema = schema.pick({ [fieldName]: true } as any);\r\n    const result = fieldSchema.safeParse({ [fieldName]: value });\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\useValidation.ts",
      "line": 102,
      "column": 28,
      "context": "      return {\r\n        success: true,\r\n        data: (result.data as any)[fieldName],\r\n      };\r\n    }\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\useOfflineDetection.tsx",
      "line": 52,
      "column": 39,
      "context": "    debounceTimerRef.current = setTimeout(() => {\n      if (typeof navigator !== 'undefined' && 'connection' in navigator) {\n        const connection = (navigator as any).connection;\n        if (connection) {\n          const quality: ConnectionQuality = {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\useOfflineDetection.tsx",
      "line": 193,
      "column": 37,
      "context": "  useEffect(() => {\n    if (typeof navigator !== 'undefined' && 'connection' in navigator) {\n      const connection = (navigator as any).connection;\n      if (connection) {\n        const handleConnectionChange = () => {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\useOfflineCapabilities.ts",
      "line": 122,
      "column": 9,
      "context": "         priority: 'high',\n         maxRetries: 3\n      } as any); // Using 'as any' as a temporary workaround because the API is different.\n      // Actually, looking at Step 506, processQueue is public.\n      await backgroundSyncManager.processQueue();",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\useOfflineCapabilities.ts",
      "line": 122,
      "column": 28,
      "context": "         priority: 'high',\n         maxRetries: 3\n      } as any); // Using 'as any' as a temporary workaround because the API is different.\n      // Actually, looking at Step 506, processQueue is public.\n      await backgroundSyncManager.processQueue();",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\use-performance-monitor.ts",
      "line": 119,
      "column": 40,
      "context": "    // Track memory if enabled\n    if (trackMemory && 'memory' in performance) {\n      const memoryUsage = (performance as any).memory.usedJSHeapSize;\n      monitor.recordCustomMetric({\n        name: `${componentName}_memory`,",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\use-performance-monitor.ts",
      "line": 371,
      "column": 55,
      "context": "       // The config types might not strictly match, so we cast or adapt as needed\n       // Assuming partial update is supported\n       monitor.getAlertsManager().updateConfig(config as any);\n    },\n    []",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\use-offline-detection.ts",
      "line": 51,
      "column": 39,
      "context": "    debounceTimerRef.current = setTimeout(() => {\n      if (typeof navigator !== 'undefined' && 'connection' in navigator) {\n        const connection = (navigator as any).connection;\n        if (connection) {\n          const quality: ConnectionQuality = {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\use-offline-detection.ts",
      "line": 192,
      "column": 37,
      "context": "  useEffect(() => {\n    if (typeof navigator !== 'undefined' && 'connection' in navigator) {\n      const connection = (navigator as any).connection;\n      if (connection) {\n        const handleConnectionChange = () => {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\use-i18n.tsx",
      "line": 105,
      "column": 44,
      "context": "              if (process.env.NODE_ENV === 'development' && typeof window !== 'undefined') {\n                const warnedKeysKey = '__i18n_warned_keys__';\n                const warnedKeys = (window as any)[warnedKeysKey] || new Set();\n                if (!warnedKeys.has(key)) {\n                  warnedKeys.add(key);",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\use-i18n.tsx",
      "line": 108,
      "column": 27,
      "context": "                if (!warnedKeys.has(key)) {\n                  warnedKeys.add(key);\n                  (window as any)[warnedKeysKey] = warnedKeys;\n                  console.debug(`[i18n] Missing translation key: ${key}`);\n                }",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\hooks-monitoring.ts",
      "line": 51,
      "column": 56,
      "context": "    if (!this.monitoringEnabled) return;\n\n    const appError = error instanceof Error && !(error as any).type\n      ? createError(\n          ErrorDomain.SYSTEM,",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\hooks-monitoring.ts",
      "line": 531,
      "column": 54,
      "context": "\n  private isOperationEnabled(operation: string): boolean {\n    const monitoring = HooksMonitoring.getInstance() as any;\n    return monitoring.enabledOperations.has('*') || monitoring.enabledOperations.has(operation);\n  }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\demo\\community-integration-demo.ts",
      "line": 36,
      "column": 11,
      "context": "if (typeof window !== 'undefined') {\n  const demo = new CommunityIntegrationDemo();\n  (window as any).communityDemo = demo;\n}\n",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\personalization\\persona-detector.test.tsx",
      "line": 225,
      "column": 21,
      "context": "        confidence: 0.8,\n        lastUpdated: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(), // 2 days ago\n        metrics: {} as any,\n        preferences: {} as any,\n        history: [],",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\personalization\\persona-detector.test.tsx",
      "line": 226,
      "column": 25,
      "context": "        lastUpdated: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(), // 2 days ago\n        metrics: {} as any,\n        preferences: {} as any,\n        history: [],\n      };",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\performance\\monitor.ts",
      "line": 472,
      "column": 47,
      "context": "    try {\n      // Check for memory API support (Chromium-based browsers)\n      // Using type-safe approach instead of 'as any'\n      const perfWithMemory = window.performance as PerformanceWithMemory;\n      const memory = perfWithMemory.memory;",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\test-navigation.ts",
      "line": 19,
      "column": 20,
      "context": "  path: '/bills/test-bill',\n  href: '/bills/test-bill',\n  icon: 'document' as any, // Simplified for testing\n  section: 'legislative',\n  description: 'A test bill for navigation',",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\test-navigation.ts",
      "line": 31,
      "column": 18,
      "context": "    path: '/',\n    href: '/',\n    icon: 'home' as any,\n    section: 'legislative',\n  },",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\test-navigation.ts",
      "line": 40,
      "column": 19,
      "context": "    path: '/community',\n    href: '/community',\n    icon: 'users' as any,\n    section: 'community',\n    requiresAuth: true,",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\route-preloading.ts",
      "line": 72,
      "column": 34,
      "context": "\n  constructor() {\n    this.connection = (navigator as any).connection || null;\n    this.initializePreloading();\n  }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\NavigationPerformance.test.tsx",
      "line": 250,
      "column": 22,
      "context": "\n      // Check that optimized navigate function is available\n      expect((window as any).__optimizedNavigate).toBeDefined();\n      expect(typeof (window as any).__optimizedNavigate).toBe('function');\n    });",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\NavigationPerformance.test.tsx",
      "line": 251,
      "column": 29,
      "context": "      // Check that optimized navigate function is available\n      expect((window as any).__optimizedNavigate).toBeDefined();\n      expect(typeof (window as any).__optimizedNavigate).toBe('function');\n    });\n",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\NavigationPerformance.test.tsx",
      "line": 261,
      "column": 22,
      "context": "      );\n\n      expect((window as any).__optimizedNavigate).toBeDefined();\n\n      unmount();",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\core\\navigation\\NavigationPerformance.test.tsx",
      "line": 265,
      "column": 22,
      "context": "      unmount();\n\n      expect((window as any).__optimizedNavigate).toBeUndefined();\n    });\n  });",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\core\\navigation\\NavigationPerformance.test.tsx",
      "line": 294,
      "column": 22,
      "context": "    it('should handle missing IntersectionObserver gracefully', () => {\n      const originalIntersectionObserver = window.IntersectionObserver;\n      delete (window as any).IntersectionObserver;\n\n      expect(() => {",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\core\\navigation\\NavigationPerformance.test.tsx",
      "line": 310,
      "column": 22,
      "context": "    it('should handle missing PerformanceObserver gracefully', () => {\n      const originalPerformanceObserver = window.PerformanceObserver;\n      delete (window as any).PerformanceObserver;\n\n      expect(() => {",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\core\\navigation\\NavigationConsistency.tsx",
      "line": 222,
      "column": 50,
      "context": "\n    // Track page view for analytics (if analytics service is available)\n    if (typeof window !== 'undefined' && (window as any).gtag) {\n      (window as any).gtag('config', 'GA_MEASUREMENT_ID', {\n        page_title: metadata.title,",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\NavigationConsistency.tsx",
      "line": 223,
      "column": 15,
      "context": "    // Track page view for analytics (if analytics service is available)\n    if (typeof window !== 'undefined' && (window as any).gtag) {\n      (window as any).gtag('config', 'GA_MEASUREMENT_ID', {\n        page_title: metadata.title,\n        page_location: window.location.href,",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\NavigationConsistency.test.tsx",
      "line": 267,
      "column": 15,
      "context": "    it('should track page views when gtag is available', () => {\n      const mockGtag = vi.fn();\n      (window as any).gtag = mockGtag;\n\n      render(",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\core\\navigation\\NavigationConsistency.test.tsx",
      "line": 281,
      "column": 22,
      "context": "\n      // Cleanup\n      delete (window as any).gtag;\n    });\n",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\core\\navigation\\context.tsx",
      "line": 52,
      "column": 60,
      "context": "\n    // Select navigation state from Redux store\n    const state = useSelector((state: RootState) => (state as any).navigation);\n\n    // Handle mounting",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\context.tsx",
      "line": 97,
      "column": 91,
      "context": "          dispatch(updateBreadcrumbs(generateBreadcrumbs(currentPath)));\n           \n          dispatch(updateRelatedPages(calculateRelatedPages(currentPath, state.user_role) as any));\n          dispatch(addToRecentPages({ path: currentPath, title: document.title || currentPath }));\n        });",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\context.tsx",
      "line": 137,
      "column": 43,
      "context": "      (pages: RelatedPage[]) => {\n         \n        dispatch(updateRelatedPages(pages as any));\n      },\n      [dispatch]",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\context.tsx",
      "line": 160,
      "column": 48,
      "context": "      ) => {\n         \n        dispatch(updatePreferences(preferences as any));\n      },\n      [dispatch]",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\monitoring\\monitoring-init.ts",
      "line": 187,
      "column": 42,
      "context": "        applicationId: this.config.datadog!.applicationId,\n        clientToken: this.config.datadog!.clientToken,\n        site: (this.config.datadog?.site as any) ?? 'datadoghq.com',\n        service: 'chanuka-client',\n        env: this.config.environment,",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\dashboard\\context.tsx",
      "line": 118,
      "column": 21,
      "context": "\n      state.widgets.forEach((widget: WidgetConfig) => {\n        if ((widget as any).refreshInterval && (widget as any).refreshInterval > 0) {\n          const interval = setInterval(() => {\n            // Use a self-executing function to avoid closure issues",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\dashboard\\context.tsx",
      "line": 118,
      "column": 56,
      "context": "\n      state.widgets.forEach((widget: WidgetConfig) => {\n        if ((widget as any).refreshInterval && (widget as any).refreshInterval > 0) {\n          const interval = setInterval(() => {\n            // Use a self-executing function to avoid closure issues",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\dashboard\\context.tsx",
      "line": 127,
      "column": 22,
      "context": "              });\n            }\n          }, (widget as any).refreshInterval * 1000);\n          intervals.push(interval);\n        }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\browser\\BrowserCompatibilityReport.tsx",
      "line": 37,
      "column": 50,
      "context": "    // Check for issues on mount\n    if (compatibilityStatus) {\n      const criticalCount = (compatibilityStatus as any)?.score < 50 ? 1 : 0;\n      const highCount = warnings.length;\n      onIssuesDetected?.(criticalCount, highCount);",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\auth\\service.ts",
      "line": 69,
      "column": 25,
      "context": "    name: authUser.name,\n    verified: authUser.verified,\n    role: authUser.role as any, // Cast if necessary, or ensure 'citizen' matches\n    \n    // Other fields",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\auth\\initialization.ts",
      "line": 249,
      "column": 34,
      "context": "      logger.info('Existing session restored', {\n        component: 'AuthServiceInitializer',\n        userId: (tokenData?.user as any)?.id || 'unknown',\n        expiresAt: new Date(this.state.expiresAt!),\n      });",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\analytics\\AnalyticsIntegration.tsx",
      "line": 59,
      "column": 82,
      "context": "\n      // Start journey using the centralized tracker; it returns a session id\n      sessionId.current = journeyTracker.current.startJourney(user?.id, userRole as any);\n\n      logger.info('Analytics session started', {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\monitoring\\performance-monitor.test.ts",
      "line": 86,
      "column": 43,
      "context": "\n    // Mock the getInstance methods\n    (PerformanceBudgetChecker.getInstance as any).mockReturnValue(mockBudgetChecker);\n    (PerformanceAlertsManager.getInstance as any).mockReturnValue(mockAlertsManager);\n    (WebVitalsMonitor.getInstance as any).mockReturnValue(mockWebVitalsMonitor);",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\monitoring\\performance-monitor.test.ts",
      "line": 87,
      "column": 43,
      "context": "    // Mock the getInstance methods\n    (PerformanceBudgetChecker.getInstance as any).mockReturnValue(mockBudgetChecker);\n    (PerformanceAlertsManager.getInstance as any).mockReturnValue(mockAlertsManager);\n    (WebVitalsMonitor.getInstance as any).mockReturnValue(mockWebVitalsMonitor);\n",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\monitoring\\performance-monitor.test.ts",
      "line": 88,
      "column": 35,
      "context": "    (PerformanceBudgetChecker.getInstance as any).mockReturnValue(mockBudgetChecker);\n    (PerformanceAlertsManager.getInstance as any).mockReturnValue(mockAlertsManager);\n    (WebVitalsMonitor.getInstance as any).mockReturnValue(mockWebVitalsMonitor);\n\n    // Create monitor instance using singleton pattern",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\monitoring\\monitoring-init.test.ts",
      "line": 79,
      "column": 15,
      "context": "      });\n    } else {\n      (window as any).DD_RUM = {\n        setUser: vi.fn(),\n        addAction: vi.fn(),",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts",
      "line": 233,
      "column": 18,
      "context": "\n    expect(json).toHaveProperty('timestamp');\n    expect((json as any).domain).toBe(ErrorDomain.NETWORK);\n    expect((json as any).severity).toBe(ErrorSeverity.CRITICAL);\n    expect((json as any).context).toEqual({ component: 'Test' });",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts",
      "line": 234,
      "column": 18,
      "context": "    expect(json).toHaveProperty('timestamp');\n    expect((json as any).domain).toBe(ErrorDomain.NETWORK);\n    expect((json as any).severity).toBe(ErrorSeverity.CRITICAL);\n    expect((json as any).context).toEqual({ component: 'Test' });\n  });",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts",
      "line": 235,
      "column": 18,
      "context": "    expect((json as any).domain).toBe(ErrorDomain.NETWORK);\n    expect((json as any).severity).toBe(ErrorSeverity.CRITICAL);\n    expect((json as any).context).toEqual({ component: 'Test' });\n  });\n",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts",
      "line": 248,
      "column": 25,
      "context": "    // Attempt to modify metadata (should not affect error)\n    if (originalMetadata) {\n      (originalMetadata as any).domain = ErrorDomain.NETWORK;\n    }\n",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts",
      "line": 429,
      "column": 27,
      "context": "\n    expect(error.context?.component).toBe('CustomComponent');\n    expect((error.context as any)?.customField).toBe('customValue');\n    expect((error.context as any)?.nestedData).toEqual({ key: 'value' });\n    expect((error.context as any)?.arrayField).toEqual([1, 2, 3]);",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts",
      "line": 430,
      "column": 27,
      "context": "    expect(error.context?.component).toBe('CustomComponent');\n    expect((error.context as any)?.customField).toBe('customValue');\n    expect((error.context as any)?.nestedData).toEqual({ key: 'value' });\n    expect((error.context as any)?.arrayField).toEqual([1, 2, 3]);\n  });",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts",
      "line": 431,
      "column": 27,
      "context": "    expect((error.context as any)?.customField).toBe('customValue');\n    expect((error.context as any)?.nestedData).toEqual({ key: 'value' });\n    expect((error.context as any)?.arrayField).toEqual([1, 2, 3]);\n  });\n});",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts",
      "line": 463,
      "column": 23,
      "context": "    // Attempt to modify metadata\n    try {\n      (error.metadata as any).domain = ErrorDomain.NETWORK;\n    } catch {\n      // Expected to fail or be ignored",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts",
      "line": 481,
      "column": 18,
      "context": "\n    // Metadata is not directly exposed in JSON, but context should be\n    expect((json as any).context).toEqual({ component: 'Test' });\n    expect((json as any).domain).toBe(ErrorDomain.VALIDATION);\n    expect((json as any).severity).toBe(ErrorSeverity.HIGH);",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts",
      "line": 482,
      "column": 18,
      "context": "    // Metadata is not directly exposed in JSON, but context should be\n    expect((json as any).context).toEqual({ component: 'Test' });\n    expect((json as any).domain).toBe(ErrorDomain.VALIDATION);\n    expect((json as any).severity).toBe(ErrorSeverity.HIGH);\n  });",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts",
      "line": 483,
      "column": 18,
      "context": "    expect((json as any).context).toEqual({ component: 'Test' });\n    expect((json as any).domain).toBe(ErrorDomain.VALIDATION);\n    expect((json as any).severity).toBe(ErrorSeverity.HIGH);\n  });\n});",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\cross-system-propagation.test.tsx",
      "line": 59,
      "column": 27,
      "context": "    };\n\n    (SecurityErrorHandler as any).mockImplementation(() => mockSecurityHandler);\n    (HookErrorHandler as any).mockImplementation(() => mockHookHandler);\n    (ServiceErrorHandler as any).mockImplementation(() => mockServiceHandler);",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\cross-system-propagation.test.tsx",
      "line": 60,
      "column": 23,
      "context": "\n    (SecurityErrorHandler as any).mockImplementation(() => mockSecurityHandler);\n    (HookErrorHandler as any).mockImplementation(() => mockHookHandler);\n    (ServiceErrorHandler as any).mockImplementation(() => mockServiceHandler);\n    (LibraryErrorHandler as any).mockImplementation(() => mockLibraryHandler);",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\cross-system-propagation.test.tsx",
      "line": 61,
      "column": 26,
      "context": "    (SecurityErrorHandler as any).mockImplementation(() => mockSecurityHandler);\n    (HookErrorHandler as any).mockImplementation(() => mockHookHandler);\n    (ServiceErrorHandler as any).mockImplementation(() => mockServiceHandler);\n    (LibraryErrorHandler as any).mockImplementation(() => mockLibraryHandler);\n    (ErrorPropagationService as any).mockImplementation(() => mockPropagationService);",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\cross-system-propagation.test.tsx",
      "line": 62,
      "column": 26,
      "context": "    (HookErrorHandler as any).mockImplementation(() => mockHookHandler);\n    (ServiceErrorHandler as any).mockImplementation(() => mockServiceHandler);\n    (LibraryErrorHandler as any).mockImplementation(() => mockLibraryHandler);\n    (ErrorPropagationService as any).mockImplementation(() => mockPropagationService);\n  });",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\cross-system-propagation.test.tsx",
      "line": 63,
      "column": 30,
      "context": "    (ServiceErrorHandler as any).mockImplementation(() => mockServiceHandler);\n    (LibraryErrorHandler as any).mockImplementation(() => mockLibraryHandler);\n    (ErrorPropagationService as any).mockImplementation(() => mockPropagationService);\n  });\n",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\cross-system-propagation.test.tsx",
      "line": 291,
      "column": 16,
      "context": "      for (const errorInfo of errors) {\n        const error = new Error(errorInfo.message);\n        (error as any).type = errorInfo.type;\n        await securityHandler.handleError(error);\n      }",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\cross-system-propagation.test.tsx",
      "line": 414,
      "column": 67,
      "context": "      // Should handle null context\n      await expect(\n        propagationService.propagateToSystem('hooks', error, null as any)\n      ).rejects.toThrow();\n",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\cross-system-propagation.test.tsx",
      "line": 419,
      "column": 72,
      "context": "      // Should handle undefined context\n      await expect(\n        propagationService.propagateToSystem('hooks', error, undefined as any)\n      ).rejects.toThrow();\n    });",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\cross-system-propagation.test.tsx",
      "line": 439,
      "column": 70,
      "context": "\n      await expect(\n        propagationService.propagateToSystem('hooks', malformedError as any, errorContext)\n      ).rejects.toThrow();\n    });",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\infrastructure\\monitoring\\monitoring-integration.ts",
      "line": 417,
      "column": 33,
      "context": "        return acc;\n      }, {} as Record<ClientSystem, boolean>),\n      memoryUsage: (performance as any).memory?.usedJSHeapSize || 0,\n      uptime: Date.now() - startTime\n    };",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\infrastructure\\monitoring\\cross-system-error-analytics.ts",
      "line": 38,
      "column": 26,
      "context": "      errorsBySystem: {},\n      errorsByDomain: {},\n      criticalErrors: [] as any[],\n      trends: [] as any[],\n      insights: [] as any[],",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\infrastructure\\monitoring\\cross-system-error-analytics.ts",
      "line": 39,
      "column": 18,
      "context": "      errorsByDomain: {},\n      criticalErrors: [] as any[],\n      trends: [] as any[],\n      insights: [] as any[],\n      timestamp: new Date(),",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\infrastructure\\monitoring\\cross-system-error-analytics.ts",
      "line": 40,
      "column": 20,
      "context": "      criticalErrors: [] as any[],\n      trends: [] as any[],\n      insights: [] as any[],\n      timestamp: new Date(),\n      overallHealth: 'healthy' as 'healthy' | 'degraded' | 'critical',",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\infrastructure\\monitoring\\cross-system-error-analytics.ts",
      "line": 43,
      "column": 24,
      "context": "      timestamp: new Date(),\n      overallHealth: 'healthy' as 'healthy' | 'degraded' | 'critical',\n      correlations: [] as any[],\n      systems: [] as Array<{\n        system: string;",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\infrastructure\\monitoring\\cross-system-error-analytics.ts",
      "line": 55,
      "column": 15,
      "context": "  \n  identifyCrossSystemPatterns() {\n    return [] as any[];\n  }\n}",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\performance.ts",
      "line": 41,
      "column": 53,
      "context": "\n    if ('memory' in performance) {\n      metricsRef.current.memoryUsage = (performance as any).memory.usedJSHeapSize;\n    }\n  }, [enabled]);",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\performance.ts",
      "line": 107,
      "column": 58,
      "context": "  const leadingEdge = useCallback((time: number) => {\n    lastInvokeTimeRef.current = time;\n    timeoutRef.current = setTimeout(timerExpired, delay) as any;\n    return leading ? invokeFunc(time) : resultRef.current;\n  }, [delay, leading]);",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\performance.ts",
      "line": 129,
      "column": 66,
      "context": "    const timeSinceLastCall = time - lastCallTimeRef.current;\n    const remainingWait = delay - timeSinceLastCall;\n    timeoutRef.current = setTimeout(timerExpired, remainingWait) as any;\n  }, [shouldInvoke, trailingEdge]);\n",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\performance.ts",
      "line": 136,
      "column": 30,
      "context": "    const thisArg = lastThisRef.current;\n\n    lastArgsRef.current = [] as any;\n    lastThisRef.current = null;\n    lastInvokeTimeRef.current = time;",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\performance.ts",
      "line": 156,
      "column": 62,
      "context": "      }\n      if (maxWait !== undefined) {\n        timeoutRef.current = setTimeout(timerExpired, delay) as any;\n        return invokeFunc(lastCallTimeRef.current);\n      }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\performance.ts",
      "line": 161,
      "column": 60,
      "context": "    }\n    if (timeoutRef.current === null) {\n      timeoutRef.current = setTimeout(timerExpired, delay) as any;\n    }\n    return resultRef.current;",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\performance.ts",
      "line": 164,
      "column": 77,
      "context": "    }\n    return resultRef.current;\n  }, [shouldInvoke, leadingEdge, timerExpired, invokeFunc, delay, maxWait]) as any;\n\n  // Cancel method",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\performance.ts",
      "line": 169,
      "column": 39,
      "context": "  debounced.cancel = useCallback(() => {\n    if (timeoutRef.current !== null) {\n      clearTimeout(timeoutRef.current as any);\n    }\n    lastInvokeTimeRef.current = 0;",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\performance.ts",
      "line": 237,
      "column": 14,
      "context": "\n  // Cancel method\n  (throttled as any).cancel = useCallback(() => {\n    if (timeoutRef.current !== null) {\n      clearTimeout(timeoutRef.current);",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\performance.ts",
      "line": 248,
      "column": 14,
      "context": "\n  // Flush method\n  (throttled as any).flush = useCallback(() => {\n    if (timeoutRef.current === null) {\n      return resultRef.current;",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\performance.ts",
      "line": 387,
      "column": 35,
      "context": "  const checkMemory = useCallback(() => {\n    if ('memory' in performance) {\n      const memory = (performance as any).memory;\n      if (memory.usedJSHeapSize > threshold) {\n        cleanup();",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\error-handling.ts",
      "line": 213,
      "column": 41,
      "context": "      }\n\n      const connectionType = (navigator as any).connection?.effectiveType || 'unknown';\n      const isOnline = navigator.onLine;\n",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\design-system\\utils\\performance.ts",
      "line": 213,
      "column": 35,
      "context": "    try {\n      const module = await importFn();\n      return 'default' in (module as any) ? (module as any).default : (module as T);\n    } catch (error) {\n      console.error('Failed to lazy load module:', error);",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\design-system\\utils\\performance.ts",
      "line": 213,
      "column": 53,
      "context": "    try {\n      const module = await importFn();\n      return 'default' in (module as any) ? (module as any).default : (module as T);\n    } catch (error) {\n      console.error('Failed to lazy load module:', error);",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\design-system\\utils\\performance.ts",
      "line": 243,
      "column": 41,
      "context": "  monitorLayoutShifts: (callback: (entries: unknown[]) => void): PerformanceObserver => {\n    const observer = new PerformanceObserver(list => {\n      const entries = list.getEntries() as any[];\n      callback(entries);\n    });",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\design-system\\utils\\performance.ts",
      "line": 265,
      "column": 45,
      "context": "    // Track Cumulative Layout Shift\n    new PerformanceObserver(list => {\n      for (const entry of list.getEntries() as any[]) {\n        if (!entry.hadRecentInput) {\n          cls += entry.value;",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\design-system\\typography\\text.tsx",
      "line": 64,
      "column": 18,
      "context": "      <Component\n        className={cn(textVariants({ variant, size, weight, align }), className)}\n        ref={ref as any}\n        {...props}\n      />",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\design-system\\tokens\\validation.ts",
      "line": 96,
      "column": 45,
      "context": "    fontFamilies: Object.keys(typographyTokens.fontFamily || {}),\n    spacingScale: Object.keys(spacingTokens).filter(k => !k.startsWith('_')),\n    shadowLayers: Object.keys((shadowTokens as any).semantic || {}),\n    borderRadii: Object.keys(borderTokens.radius || {}),\n    breakpoints: Object.keys(breakpointTokens),",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\design-system\\media\\Logo.tsx",
      "line": 28,
      "column": 99,
      "context": "    return (\n      <div className={cn(\"flex items-center\", className)}>\n        <ChanukaLogo size={typeof size === 'number' ? size : sizeMap[size]} variant={brandVariant as any} />\n      </div>\n    );",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\design-system\\standards\\low-bandwidth.ts",
      "line": 654,
      "column": 33,
      "context": "  if (typeof navigator === 'undefined') return false;\n\n  const connection = (navigator as any).connection;\n  if (!connection) return false;\n",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\design-system\\standards\\interactive-states.ts",
      "line": 195,
      "column": 33,
      "context": "\n    const stateStyles =\n      (interactiveStates[state] as any)?.[component] || (interactiveStates[state] as any)?.default;\n\n    return {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\design-system\\standards\\interactive-states.ts",
      "line": 195,
      "column": 83,
      "context": "\n    const stateStyles =\n      (interactiveStates[state] as any)?.[component] || (interactiveStates[state] as any)?.default;\n\n    return {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\design-system\\interactive\\Calendar.tsx",
      "line": 343,
      "column": 103,
      "context": "          selected={selected instanceof Date ? selected : selected?.from}\n          onSelect={handleSelect}\n          mode={(selected && typeof selected === 'object' && 'from' in selected ? 'range' : 'single') as any}\n          disabled={isDateDisabled}\n          {...props}",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\data\\mock\\realtime.ts",
      "line": 151,
      "column": 27,
      "context": "      authorId: user.id,\n      authorName: getUserName(user),\n      authorAvatar: (user as any).avatar,\n      isExpert,\n      content: faker.lorem.paragraph(2),",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\data\\mock\\discussions.ts",
      "line": 81,
      "column": 38,
      "context": "      parentId,\n      authorId: typeof user.id === 'string' ? parseInt(user.id, 10) || faker.number.int() : user.id,\n      authorName: user.name || (user as any).name || 'Anonymous',\n      authorAvatar: (user as any).avatar || faker.image.avatar(),\n      content: generateCommentContent(isExpert),",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\data\\mock\\discussions.ts",
      "line": 82,
      "column": 27,
      "context": "      authorId: typeof user.id === 'string' ? parseInt(user.id, 10) || faker.number.int() : user.id,\n      authorName: user.name || (user as any).name || 'Anonymous',\n      authorAvatar: (user as any).avatar || faker.image.avatar(),\n      content: generateCommentContent(isExpert),\n      createdAt: generateDateInRange(30, 0),",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\data\\mock\\discussions.ts",
      "line": 108,
      "column": 16,
      "context": "      comment.replies = generateNestedComments(billId, threadId, comment.id, depth + 1, maxDepth, replyCount);\n      // Cast to any to assign readonly property\n      (comment as any).replyCount = comment.replies.length;\n    }\n",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\data\\mock\\discussions.ts",
      "line": 207,
      "column": 7,
      "context": "      // reporterId: ... \n      // types might differentiate\n    } as any;\n  });\n};",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\data\\mock\\community.ts",
      "line": 74,
      "column": 37,
      "context": "      isExpertActivity && allExperts.some(e => e.id === user.id)\n        ? {\n            verificationType: (user as any).verificationType || 'domain',\n            credibilityScore: (user as any).credibilityScore || 0.7,\n            specializations: (user as any).specializations || ['Policy Analysis'],",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\data\\mock\\community.ts",
      "line": 75,
      "column": 37,
      "context": "        ? {\n            verificationType: (user as any).verificationType || 'domain',\n            credibilityScore: (user as any).credibilityScore || 0.7,\n            specializations: (user as any).specializations || ['Policy Analysis'],\n          }",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\data\\mock\\community.ts",
      "line": 76,
      "column": 36,
      "context": "            verificationType: (user as any).verificationType || 'domain',\n            credibilityScore: (user as any).credibilityScore || 0.7,\n            specializations: (user as any).specializations || ['Policy Analysis'],\n          }\n        : undefined;",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\data\\mock\\community.ts",
      "line": 104,
      "column": 25,
      "context": "      userId: user.id,\n      userName: user.name || `User ${user.id}`,\n      userAvatar: (user as any).avatar || faker.image.avatar(),\n      expertInfo: expertInfo ? {\n        isVerified: true,",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\data\\mock\\bills.ts",
      "line": 129,
      "column": 7,
      "context": "    role: s.isPrimary ? ('primary' as const) : ('co-sponsor' as const),\n    \n  })) as any; // Cast to avoid position mismatch issues for now, or refine Sponsor type\n};\n",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\data\\mock\\bills.ts",
      "line": 190,
      "column": 24,
      "context": "    introducedDate,\n    lastActionDate: lastUpdated, // Renamed from lastUpdated\n    sponsors: sponsors as any, // Cast sponsors to avoid strict check on 'position'\n    constitutionalIssues, // Mapped from flags\n    ...engagement,",
      "category": "type_assertion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\components\\performance\\PerformanceMonitor.tsx",
      "line": 173,
      "column": 46,
      "context": "    const coreWebVitals = currentMetrics.coreWebVitals;\n    const memoryUsage =\n      'memory' in performance ? (performance as any).memory?.usedJSHeapSize || 0 : 0;\n\n    // Calculate load time based on navigation timing",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\components\\home\\RecentActivity.tsx",
      "line": 94,
      "column": 60,
      "context": "                    <div className=\"flex items-center gap-2 mb-2\">\n                      <h4 className=\"font-semibold text-gray-900\">{activity.title}</h4>\n                      <Badge variant={activity.statusColor as any} className=\"text-xs\">\n                        {activity.status}\n                      </Badge>",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\dashboard\\validation\\run-property-tests.ts",
      "line": 82,
      "column": 30,
      "context": "      invalidWidgets[0] = {\r\n        ...invalidWidgets[0],\r\n        type: 'invalid-type' as any,\r\n      };\r\n    }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\dashboard\\validation\\config.property.test.ts",
      "line": 93,
      "column": 34,
      "context": "          invalidWidgets[0] = {\r\n            ...invalidWidgets[0],\r\n            type: 'invalid-type' as any,\r\n          };\r\n        }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\community\\hooks\\useDiscussion.ts",
      "line": 10,
      "column": 38,
      "context": " * - Resolves mock thread creation (lines 82-96)\n * - Implements complete moderation workflow (lines 217-240)\n * - Eliminates type casting issues (as any usage)\n * - Unifies React Query + WebSocket coordination\n */",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\__tests__\\unified-security.test.ts",
      "line": 95,
      "column": 67,
      "context": "    it('should handle CSP violations', async () => {\n      // Test through public interface - simulate violation event\n      const violationEvent = new Event('securitypolicyviolation') as any;\n      violationEvent.documentURI = 'https://example.com';\n      violationEvent.violatedDirective = 'script-src';",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\core\\security\\__tests__\\unified-security.test.ts",
      "line": 295,
      "column": 49,
      "context": "      // Test CSP error inference\n      const cspError = new Error('CSP violation detected');\n      const cspSecurityError = (errorMiddleware as any).createSecurityError(\n        cspError, 'test-operation', 'TestComponent'\n      );",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\core\\security\\__tests__\\unified-security.test.ts",
      "line": 302,
      "column": 56,
      "context": "      // Test validation error inference\n      const validationError = new Error('Input validation failed');\n      const validationSecurityError = (errorMiddleware as any).createSecurityError(\n        validationError, 'test-operation', 'TestComponent'\n      );",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\core\\realtime\\services\\notifications.ts",
      "line": 149,
      "column": 28,
      "context": "  private handleNotificationMessage(message: WebSocketMessage): void {\n    try {\n      const data = message as any;\n\n      const notification: WebSocketNotification = {",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\services\\notifications.ts",
      "line": 183,
      "column": 28,
      "context": "  private handleNotificationReadMessage(message: WebSocketMessage): void {\n    try {\n      const data = message as any;\n      const notificationId = data.notification_id || data.notificationId || data.id;\n",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\services\\notifications.ts",
      "line": 202,
      "column": 28,
      "context": "  private handleNotificationClearMessage(message: WebSocketMessage): void {\n    try {\n      const data = message as any;\n\n      if (data.clear_all) {",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\services\\community.ts",
      "line": 330,
      "column": 28,
      "context": "    try {\n      // Process discussion-specific messages\n      const data = message as any;\n      const update: CommentUpdate = {\n        id: data.comment_id || data.commentId || `comment_${Date.now()}`,",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\services\\community.ts",
      "line": 365,
      "column": 28,
      "context": "  private handleTypingIndicatorMessage(message: WebSocketMessage): void {\n    try {\n      const data = message as any;\n      const indicator: TypingIndicator = {\n        userId: data.user_id || data.userId || 'unknown',",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\services\\community.ts",
      "line": 406,
      "column": 28,
      "context": "  private handleCommentUpdateMessage(message: WebSocketMessage): void {\n    try {\n      const data = message as any;\n      const update: CommentUpdate = {\n        id: data.comment_id || data.commentId || `comment_${Date.now()}`,",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\services\\community.ts",
      "line": 439,
      "column": 28,
      "context": "  private handleVoteUpdateMessage(message: WebSocketMessage): void {\n    try {\n      const data = message as any;\n      const voteType = data.vote_type || data.voteType || data.vote || 'abstain';\n      const update: VoteUpdate = {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\services\\community.ts",
      "line": 472,
      "column": 28,
      "context": "  private handleExpertMessage(message: WebSocketMessage): void {\n    try {\n      const data = message as any;\n\n      logger.debug('Processed expert activity', {",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\services\\community.ts",
      "line": 492,
      "column": 28,
      "context": "  private handleModerationMessage(message: WebSocketMessage): void {\n    try {\n      const data = message as any;\n\n      logger.debug('Processed moderation event', {",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\hooks\\use-websocket.ts",
      "line": 76,
      "column": 24,
      "context": "        const newNotification: RealTimeNotification = {\n          id: `notification_${Date.now()}`,\n          type: 'info' as any, // Simplified for fallback\n          title: 'Bill Update',\n          message: \"A bill you're following has been updated\",",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\hooks\\use-websocket.ts",
      "line": 112,
      "column": 31,
      "context": "        if (message.data) {\n          const notification: RealTimeNotification = {\n            id: (message.data as any).id || `notification_${Date.now()}`,\n            type: (message.data as any).type || 'community_activity',\n            title: (message.data as any).title || 'Notification',",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\hooks\\use-websocket.ts",
      "line": 113,
      "column": 33,
      "context": "          const notification: RealTimeNotification = {\n            id: (message.data as any).id || `notification_${Date.now()}`,\n            type: (message.data as any).type || 'community_activity',\n            title: (message.data as any).title || 'Notification',\n            message: (message.data as any).message || '',",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\hooks\\use-websocket.ts",
      "line": 114,
      "column": 34,
      "context": "            id: (message.data as any).id || `notification_${Date.now()}`,\n            type: (message.data as any).type || 'community_activity',\n            title: (message.data as any).title || 'Notification',\n            message: (message.data as any).message || '',\n            priority: (message.data as any).priority || 'medium',",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\hooks\\use-websocket.ts",
      "line": 115,
      "column": 36,
      "context": "            type: (message.data as any).type || 'community_activity',\n            title: (message.data as any).title || 'Notification',\n            message: (message.data as any).message || '',\n            priority: (message.data as any).priority || 'medium',\n            created_at: (message.data as any).timestamp || new Date().toISOString(),",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\hooks\\use-websocket.ts",
      "line": 116,
      "column": 37,
      "context": "            title: (message.data as any).title || 'Notification',\n            message: (message.data as any).message || '',\n            priority: (message.data as any).priority || 'medium',\n            created_at: (message.data as any).timestamp || new Date().toISOString(),\n            read: false,",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\hooks\\use-websocket.ts",
      "line": 117,
      "column": 39,
      "context": "            message: (message.data as any).message || '',\n            priority: (message.data as any).priority || 'medium',\n            created_at: (message.data as any).timestamp || new Date().toISOString(),\n            read: false,\n          } as RealTimeNotification;",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\hooks\\use-websocket.ts",
      "line": 125,
      "column": 27,
      "context": "\n      case 'bill_update':\n        if ((message.data as any)?.billId) {\n          const activity = {\n            id: `activity_${Date.now()}`,",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\hooks\\use-websocket.ts",
      "line": 130,
      "column": 36,
      "context": "            type: 'bill_updated',\n            timestamp: new Date().toISOString(),\n            bill_id: (message.data as any).billId.toString(),\n          };\n          setRecentActivity(prev => [activity, ...prev.slice(0, 19)]);",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\hooks\\use-navigation-performance.ts",
      "line": 36,
      "column": 63,
      "context": "\n          entries.forEach(entry => {\n            if (entry.entryType === 'layout-shift' && !(entry as any).hadRecentInput) {\n              totalShift += (entry as any).value;\n            }",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\hooks\\use-navigation-performance.ts",
      "line": 37,
      "column": 36,
      "context": "          entries.forEach(entry => {\n            if (entry.entryType === 'layout-shift' && !(entry as any).hadRecentInput) {\n              totalShift += (entry as any).value;\n            }\n          });",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\loading\\utils\\connection-utils.ts",
      "line": 52,
      "column": 35,
      "context": "export function detectConnectionType(): ConnectionInfo {\n  if ('connection' in navigator) {\n    const connection = (navigator as any).connection;\n    return {\n      online: navigator.onLine,",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\error\\components\\example.tsx",
      "line": 34,
      "column": 57,
      "context": "      <h2 className=\"text-red-800 font-semibold text-lg\">Application Error</h2>\n      <p className=\"text-red-600 mt-2\">{error.message}</p>\n      {process.env.NODE_ENV === 'development' && (error as any).stack && (\n        <details className=\"mt-4\">\n          <summary className=\"cursor-pointer text-red-700 font-medium\">Stack Trace</summary>",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\error\\components\\example.tsx",
      "line": 37,
      "column": 86,
      "context": "        <details className=\"mt-4\">\n          <summary className=\"cursor-pointer text-red-700 font-medium\">Stack Trace</summary>\n          <pre className=\"mt-2 text-xs bg-red-100 p-3 rounded overflow-auto\">{(error as any).stack}</pre>\n        </details>\n      )}",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\community\\hooks\\useUnifiedDiscussion.ts",
      "line": 7,
      "column": 27,
      "context": " * - Mock thread creation from comments data (lines 82-96)\n * - Incomplete moderation implementations (lines 217-240)\n * - Type casting issues (as any usage)\n * - React Query + WebSocket event coordination\n */",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\loading\\examples\\GlobalLoadingExample.tsx",
      "line": 116,
      "column": 43,
      "context": "const AppExample: React.FC = () => {\n  return (\n    <Provider store={mockStore as unknown as any}>\n      <GlobalLoadingProvider>\n        <div className=\"min-h-screen bg-gray-50\">",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\error\\components\\utils\\error-reporter.ts",
      "line": 52,
      "column": 16,
      "context": "    generateReport: (error: BaseError, _metadata?: Record<string, unknown>): ErrorReport => {\n      const errorId =\n        (error as any).errorId ||\n        `err_${Date.now()}_${Math.random().toString(36).substring(2, 11)}`;\n",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\error\\components\\utils\\error-reporter.ts",
      "line": 59,
      "column": 50,
      "context": "      // Note: recoveryStrategies may not be present in all ErrorMetadata instances\n       \n      const recoveryStrategies = (error.metadata as any)?.recoveryStrategies as\n        | RecoveryStrategy[]\n        | undefined;",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\error\\components\\utils\\error-normalizer.ts",
      "line": 26,
      "column": 26,
      "context": "  }\n\n  const message = (error as any)?.message || String(error || 'Unknown error occurred');\n  const originalStack = (error as any)?.stack;\n",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\error\\components\\utils\\error-normalizer.ts",
      "line": 27,
      "column": 32,
      "context": "\n  const message = (error as any)?.message || String(error || 'Unknown error occurred');\n  const originalStack = (error as any)?.stack;\n\n  let normalizedError: BaseError;",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\utils\\db-helpers.ts",
      "line": 104,
      "column": 35,
      "context": "    Object.keys(normalized).forEach(key => {\r\n      if (key.toLowerCase().includes('row') && key.toLowerCase().includes('number')) {\r\n        const value = (normalized as any)[key];\r\n        if (value !== null && value !== undefined) {\r\n          const numValue = typeof value === 'string' ? parseInt(value, 10) : Number(value);\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\utils\\db-helpers.ts",
      "line": 108,
      "column": 25,
      "context": "          const numValue = typeof value === 'string' ? parseInt(value, 10) : Number(value);\r\n          if (!isNaN(numValue)) {\r\n            (normalized as any)[key] = numValue;\r\n          } else {\r\n            logger.warn('Failed to normalize row number', {\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\utils\\db-helpers.ts",
      "line": 115,
      "column": 27,
      "context": "              key,\r\n              value,\r\n              rowId: (row as any).id || 'unknown'\r\n            });\r\n          }\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\utils\\db-helpers.ts",
      "line": 146,
      "column": 44,
      "context": "\r\n  data.forEach(item => {\r\n    const timestamp = item[timestampField] as any;\r\n    if (!(timestamp instanceof Date)) {\r\n      logger.warn('Invalid timestamp in groupByTime', {\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\storage\\user-storage-with-transformers.example.ts",
      "line": 191,
      "column": 20,
      "context": "      email: userData.email,\r\n      username: userData.username,\r\n      role: 'user' as any,\r\n      status: 'active' as any,\r\n      profile: null,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\storage\\user-storage-with-transformers.example.ts",
      "line": 192,
      "column": 24,
      "context": "      username: userData.username,\r\n      role: 'user' as any,\r\n      status: 'active' as any,\r\n      profile: null,\r\n      preferences: {},\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\storage\\user-storage-with-transformers.example.ts",
      "line": 195,
      "column": 34,
      "context": "      profile: null,\r\n      preferences: {},\r\n      verification: 'unverified' as any,\r\n      isActive: true,\r\n      createdAt: new Date(),\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\storage\\bill-storage-with-transformers.example.ts",
      "line": 108,
      "column": 22,
      "context": "    const [created] = await this.db\r\n      .insert(bills)\r\n      .values(dbBill as any)\r\n      .returning();\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\storage\\bill-storage-with-transformers.example.ts",
      "line": 271,
      "column": 31,
      "context": "      title: billData.title,\r\n      summary: billData.summary,\r\n      status: billData.status as any,\r\n      chamber: 'house' as any,\r\n      billType: 'bill' as any,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\storage\\bill-storage-with-transformers.example.ts",
      "line": 272,
      "column": 24,
      "context": "      summary: billData.summary,\r\n      status: billData.status as any,\r\n      chamber: 'house' as any,\r\n      billType: 'bill' as any,\r\n      priority: 'medium' as any,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\storage\\bill-storage-with-transformers.example.ts",
      "line": 273,
      "column": 24,
      "context": "      status: billData.status as any,\r\n      chamber: 'house' as any,\r\n      billType: 'bill' as any,\r\n      priority: 'medium' as any,\r\n      introductionDate: new Date(),\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\storage\\bill-storage-with-transformers.example.ts",
      "line": 274,
      "column": 26,
      "context": "      chamber: 'house' as any,\r\n      billType: 'bill' as any,\r\n      priority: 'medium' as any,\r\n      introductionDate: new Date(),\r\n      congress: 118,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\storage\\bill-storage-with-transformers.example.ts",
      "line": 278,
      "column": 37,
      "context": "      congress: 118,\r\n      session: 1,\r\n      sponsorId: billData.sponsorId as any,\r\n      timeline: [],\r\n      engagement: {\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\storage\\bill-storage-with-transformers.example.ts",
      "line": 306,
      "column": 22,
      "context": "    const updated: Bill = {\r\n      ...bill,\r\n      status: status as any,\r\n      updatedAt: new Date(),\r\n    };\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\config\\index.ts",
      "line": 714,
      "column": 46,
      "context": "    // may not be set or are intentionally short.\r\n    if (!isProd()) {\r\n      rawConfig.auth = rawConfig.auth || ({} as any);\r\n      const safeJwt = getEnvVar('JWT_SECRET', 'development-jwt-secret-change-in-production-please-change-in-production-2025');\r\n      const safeSession = getEnvVar('SESSION_SECRET', 'development-session-secret-change-in-production-please-change-2025');\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\tests\\integration\\websocket-backward-compatibility.test.ts",
      "line": 271,
      "column": 39,
      "context": "\r\n      // Verify data types\r\n      expect(typeof (analysis.process as any).rss).toBe('number');\r\n      expect(typeof (analysis.process as any).heapTotal).toBe('number');\r\n      expect(typeof (analysis.process as any).heapUsed).toBe('number');\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\tests\\integration\\websocket-backward-compatibility.test.ts",
      "line": 272,
      "column": 39,
      "context": "      // Verify data types\r\n      expect(typeof (analysis.process as any).rss).toBe('number');\r\n      expect(typeof (analysis.process as any).heapTotal).toBe('number');\r\n      expect(typeof (analysis.process as any).heapUsed).toBe('number');\r\n      expect(typeof (analysis.analysis as any).heapUsedPercent).toBe('number');\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\tests\\integration\\websocket-backward-compatibility.test.ts",
      "line": 273,
      "column": 39,
      "context": "      expect(typeof (analysis.process as any).rss).toBe('number');\r\n      expect(typeof (analysis.process as any).heapTotal).toBe('number');\r\n      expect(typeof (analysis.process as any).heapUsed).toBe('number');\r\n      expect(typeof (analysis.analysis as any).heapUsedPercent).toBe('number');\r\n    });\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\tests\\integration\\websocket-backward-compatibility.test.ts",
      "line": 274,
      "column": 40,
      "context": "      expect(typeof (analysis.process as any).heapTotal).toBe('number');\r\n      expect(typeof (analysis.process as any).heapUsed).toBe('number');\r\n      expect(typeof (analysis.analysis as any).heapUsedPercent).toBe('number');\r\n    });\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\tests\\integration\\websocket-backward-compatibility.test.ts",
      "line": 279,
      "column": 44,
      "context": "    it('should calculate heap usage percentage correctly', () => {\r\n      const analysis = service.forceMemoryAnalysis();\r\n      const processInfo = analysis.process as any;\r\n      const analysisInfo = analysis.analysis as any;\r\n      const { heapUsed, heapTotal } = processInfo;\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "server\\tests\\integration\\websocket-backward-compatibility.test.ts",
      "line": 280,
      "column": 46,
      "context": "      const analysis = service.forceMemoryAnalysis();\r\n      const processInfo = analysis.process as any;\r\n      const analysisInfo = analysis.analysis as any;\r\n      const { heapUsed, heapTotal } = processInfo;\r\n      const expectedPercent = (heapUsed / heapTotal) * 100;\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "server\\tests\\integration\\websocket-backward-compatibility.test.ts",
      "line": 340,
      "column": 38,
      "context": "    it('should handle null/undefined parameters gracefully', () => {\r\n      expect(() => {\r\n        service.isUserConnected(null as any);\r\n        service.getConnectionCount(undefined as any);\r\n        service.sendUserNotification('test', null as any);\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "server\\tests\\integration\\websocket-backward-compatibility.test.ts",
      "line": 341,
      "column": 46,
      "context": "      expect(() => {\r\n        service.isUserConnected(null as any);\r\n        service.getConnectionCount(undefined as any);\r\n        service.sendUserNotification('test', null as any);\r\n        service.broadcastBillUpdate(123, undefined as any);\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "server\\tests\\integration\\websocket-backward-compatibility.test.ts",
      "line": 342,
      "column": 51,
      "context": "        service.isUserConnected(null as any);\r\n        service.getConnectionCount(undefined as any);\r\n        service.sendUserNotification('test', null as any);\r\n        service.broadcastBillUpdate(123, undefined as any);\r\n      }).not.toThrow();\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\tests\\integration\\websocket-backward-compatibility.test.ts",
      "line": 343,
      "column": 52,
      "context": "        service.getConnectionCount(undefined as any);\r\n        service.sendUserNotification('test', null as any);\r\n        service.broadcastBillUpdate(123, undefined as any);\r\n      }).not.toThrow();\r\n    });\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\security\\input-validation-service.ts",
      "line": 186,
      "column": 12,
      "context": "\r\n      // Replace the original input with validated/sanitized data\r\n      (req as any)[source] = validation.data;\r\n      next();\r\n    };\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\security\\data-privacy-service.ts",
      "line": 427,
      "column": 48,
      "context": "    numericFields.forEach(field => {\r\n      if (!excludeFields.includes(field)) {\r\n        const values = items.map(item => (item as any)[field]).filter(v => typeof v === 'number');\r\n        if (values.length > 0) {\r\n          aggregated[`${field}_avg`] = values.reduce((a, b) => a + b, 0) / values.length;\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\security\\data-privacy-service.ts",
      "line": 446,
      "column": 25,
      "context": "    const excludeFields = [...this.SENSITIVE_FIELDS, ...additionalExcludes];\r\n    \r\n    Object.entries(item as any).forEach(([key, value]) => {\r\n      if (!excludeFields.some(field => key.toLowerCase().includes(field.toLowerCase()))) {\r\n        result[key] = value;\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\observability\\external-api-management.ts",
      "line": 68,
      "column": 33,
      "context": "      // Provide more detailed error information\r\n      const errorMessage = error instanceof Error ? error.message : 'An unexpected error occurred';\r\n      const statusCode = (error as any).statusCode || 500;\r\n      \r\n      return res.status(statusCode).json(ApiResponseWrapper.error(errorMessage, 'API_ERROR', statusCode));\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\observability\\audit-log.ts",
      "line": 47,
      "column": 21,
      "context": "    const auditEntry: AuditLogEntry = {\r\n      timestamp: new Date(),\r\n      user_id: (req as any).user?.id,\r\n      action: `${req.method} ${req.path}`,\r\n      resource: req.path,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\observability\\audit-log.ts",
      "line": 56,
      "column": 24,
      "context": "      statusCode: res.statusCode,\r\n      duration,\r\n      session_id: (req as any).session?.id,\r\n      correlationId: (req as any).correlationId,\r\n      sensitive: isSensitiveEndpoint(req.path, req.method),\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\observability\\audit-log.ts",
      "line": 57,
      "column": 27,
      "context": "      duration,\r\n      session_id: (req as any).session?.id,\r\n      correlationId: (req as any).correlationId,\r\n      sensitive: isSensitiveEndpoint(req.path, req.method),\r\n      risk_level: determineRiskLevel(req, res),\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\observability\\audit-log.ts",
      "line": 205,
      "column": 22,
      "context": "    ip: req?.ip || req?.connection?.remoteAddress || 'unknown',\r\n    user_agent: req?.get('User-Agent'),\r\n    session_id: (req as any)?.session?.id,\r\n    correlationId: (req as any)?.correlationId,\r\n    sensitive: true,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\observability\\audit-log.ts",
      "line": 206,
      "column": 25,
      "context": "    user_agent: req?.get('User-Agent'),\r\n    session_id: (req as any)?.session?.id,\r\n    correlationId: (req as any)?.correlationId,\r\n    sensitive: true,\r\n    risk_level: 'high' as const,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 696,
      "column": 12,
      "context": "    typeof record.is_active === 'boolean' &&\n    typeof record.created_at === 'object' &&\n    (value as any).created_at instanceof Date\n  );\n}",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 704,
      "column": 19,
      "context": "    typeof value === 'object' &&\n    value !== null &&\n    typeof (value as any).id === 'string' &&\n    typeof (value as any).name === 'string' &&\n    typeof (value as any).chamber === 'string' &&",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 705,
      "column": 19,
      "context": "    value !== null &&\n    typeof (value as any).id === 'string' &&\n    typeof (value as any).name === 'string' &&\n    typeof (value as any).chamber === 'string' &&\n    typeof (value as any).is_active === 'boolean' &&",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 706,
      "column": 19,
      "context": "    typeof (value as any).id === 'string' &&\n    typeof (value as any).name === 'string' &&\n    typeof (value as any).chamber === 'string' &&\n    typeof (value as any).is_active === 'boolean' &&\n    typeof (value as any).created_at === 'object' &&",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 707,
      "column": 19,
      "context": "    typeof (value as any).name === 'string' &&\n    typeof (value as any).chamber === 'string' &&\n    typeof (value as any).is_active === 'boolean' &&\n    typeof (value as any).created_at === 'object' &&\n    (value as any).created_at instanceof Date",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 708,
      "column": 19,
      "context": "    typeof (value as any).chamber === 'string' &&\n    typeof (value as any).is_active === 'boolean' &&\n    typeof (value as any).created_at === 'object' &&\n    (value as any).created_at instanceof Date\n  );",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 709,
      "column": 12,
      "context": "    typeof (value as any).is_active === 'boolean' &&\n    typeof (value as any).created_at === 'object' &&\n    (value as any).created_at instanceof Date\n  );\n}",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\notifications\\smart-notification-filter.ts",
      "line": 250,
      "column": 64,
      "context": "    if (typeKey) {\r\n        // Check if the specific tracking type is enabled in the combined preferences\r\n        enabled = preferences.tracking_types?.includes(typeKey as any) ?? false; // Check the array\r\n    }\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\notifications\\notification-scheduler.ts",
      "line": 420,
      "column": 44,
      "context": "      }))\r\n      .filter(userData => {\r\n        const prefs = userData.preferences as any;\r\n        return prefs?.billTracking?.advancedSettings?.digestSchedule?.enabled === true;\r\n      });\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\notifications\\notification-orchestrator.ts",
      "line": 595,
      "column": 53,
      "context": "                'sms': 'sms'\r\n              };\r\n              return channelMap[channel] || channel as any;\r\n            }),\r\n          _perBillSettingsApplied: false\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\notifications\\notification-orchestrator.ts",
      "line": 1036,
      "column": 40,
      "context": "        recommendedChannels: Object.entries(currentCombinedPrefs.billTracking.notificationChannels)\r\n          .filter(([, enabled]) => enabled)\r\n          .map(([channel]) => channel) as any,\r\n        shouldBatch: false,\r\n        reasons: ['Digest Delivery'],\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\notifications\\notification-channels.ts",
      "line": 217,
      "column": 56,
      "context": "        id: crypto.randomUUID(),\r\n        user_id: request.user_id,\r\n        notification_type: (request.metadata?.category as any) || 'bill_update',\r\n        title: request.content.title,\r\n        message: request.content.message,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\notifications\\notification-channels.ts",
      "line": 264,
      "column": 20,
      "context": "        logger.warn('WebSocket delivery failed, but notification was saved:', {\r\n          component: 'ChannelService'\r\n        }, wsError as any);\r\n      }\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\notifications\\email-service.ts",
      "line": 874,
      "column": 41,
      "context": "        // Check if service is actually connected (not in fallback)\r\n        if ('getStatus' in service) {\r\n          const status = await (service as any).getStatus();\r\n          if (status?.connected) {\r\n            logger.info(` Email service initialized with provider: ${provider}`);\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\notifications\\email-service.ts",
      "line": 879,
      "column": 66,
      "context": "            return service;\r\n          }\r\n        } else if (!('isInFallbackMode' in service) || !(service as any).isInFallbackMode?.()) {\r\n          logger.info(` Email service initialized with provider: ${provider}`);\r\n          return service;\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\repository-deployment-validator.ts",
      "line": 476,
      "column": 116,
      "context": "      }\r\n    } catch (error) {\r\n      logger.error('Error validating user data consistency', { component: 'RepositoryDeploymentValidator' }, error as any);\r\n    }\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\repository-deployment-validator.ts",
      "line": 504,
      "column": 116,
      "context": "      }\r\n    } catch (error) {\r\n      logger.error('Error validating bill data consistency', { component: 'RepositoryDeploymentValidator' }, error as any);\r\n    }\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\repository-deployment-validator.ts",
      "line": 528,
      "column": 122,
      "context": "      }\r\n    } catch (error) {\r\n      logger.error('Error validating engagement data consistency', { component: 'RepositoryDeploymentValidator' }, error as any);\r\n    }\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\phase1-deployment-orchestrator.ts",
      "line": 194,
      "column": 22,
      "context": "      deploymentId: this.deploymentId,\r\n      executionTime: Date.now() - this.startTime.getTime(),\r\n      components: {} as any,\r\n      systemMetrics: {} as any,\r\n      abTestingResults: {} as any,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\phase1-deployment-orchestrator.ts",
      "line": 195,
      "column": 25,
      "context": "      executionTime: Date.now() - this.startTime.getTime(),\r\n      components: {} as any,\r\n      systemMetrics: {} as any,\r\n      abTestingResults: {} as any,\r\n      validationSummary: {} as any,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\phase1-deployment-orchestrator.ts",
      "line": 196,
      "column": 28,
      "context": "      components: {} as any,\r\n      systemMetrics: {} as any,\r\n      abTestingResults: {} as any,\r\n      validationSummary: {} as any,\r\n      timestamp: new Date()\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\phase1-deployment-orchestrator.ts",
      "line": 197,
      "column": 29,
      "context": "      systemMetrics: {} as any,\r\n      abTestingResults: {} as any,\r\n      validationSummary: {} as any,\r\n      timestamp: new Date()\r\n    };\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\phase1-deployment-orchestrator.ts",
      "line": 267,
      "column": 26,
      "context": "          deploymentId: this.deploymentId,\r\n          timestamp: new Date(),\r\n          components: {} as any,\r\n          systemHealth: 'healthy',\r\n          alerts: monitoringService.getActiveAlerts().length\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\deployment-orchestrator.ts",
      "line": 325,
      "column": 93,
      "context": "      return validationPassed && thresholdsPassed;\r\n    } catch (error) {\r\n      logger.error('Phase validation error', { component: 'DeploymentOrchestrator' }, error as any);\r\n      return false;\r\n    }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\deployment-orchestrator.ts",
      "line": 403,
      "column": 96,
      "context": "        await this.performMonitoringCheck();\r\n      } catch (error) {\r\n        logger.error('Monitoring check failed', { component: 'DeploymentOrchestrator' }, error as any);\r\n      }\r\n    }, this.deploymentPlan.monitoringInterval * 1000);\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\deployment-orchestrator.ts",
      "line": 458,
      "column": 86,
      "context": "      });\r\n    } catch (error) {\r\n      logger.error('Rollback failed', { component: 'DeploymentOrchestrator' }, error as any);\r\n      throw error;\r\n    }\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\deployment-monitoring-dashboard.ts",
      "line": 125,
      "column": 111,
      "context": "          this.cleanupHistoricalData();\r\n        } catch (error) {\r\n          logger.error('Error during monitoring cycle', { component: 'DeploymentMonitoringDashboard' }, error as any);\r\n        }\r\n      }, this.config.refreshInterval * 1000);\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\deployment-monitoring-dashboard.ts",
      "line": 243,
      "column": 102,
      "context": "      });\r\n    } catch (error) {\r\n      logger.error('Error collecting metrics', { component: 'DeploymentMonitoringDashboard' }, error as any);\r\n    }\r\n  }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\deployment-monitoring-dashboard.ts",
      "line": 377,
      "column": 103,
      "context": "        callback(alert);\r\n      } catch (error) {\r\n        logger.error('Error in alert callback', { component: 'DeploymentMonitoringDashboard' }, error as any);\r\n      }\r\n    });\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\integration\\service-orchestrator.ts",
      "line": 323,
      "column": 16,
      "context": "      try {\r\n        const structureExtractor = new StructureExtractorService(\r\n          null as any, // Would be properly injected\r\n          null as any,\r\n          null as any\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\integration\\service-orchestrator.ts",
      "line": 324,
      "column": 16,
      "context": "        const structureExtractor = new StructureExtractorService(\r\n          null as any, // Would be properly injected\r\n          null as any,\r\n          null as any\r\n        );\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\integration\\service-orchestrator.ts",
      "line": 325,
      "column": 16,
      "context": "          null as any, // Would be properly injected\r\n          null as any,\r\n          null as any\r\n        );\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\recovery-patterns.ts",
      "line": 138,
      "column": 38,
      "context": "\r\n    return new Promise((resolve, reject) => {\r\n      this.queuedTasks.push({ fn: fn as any, resolve, reject });\r\n    });\r\n  }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\migration-example.ts",
      "line": 61,
      "column": 18,
      "context": "      const standardizedError = legacyHandler.createError(\r\n        error,\r\n        'system' as any,\r\n        serviceContext\r\n      );\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\migration-example.ts",
      "line": 118,
      "column": 43,
      "context": "    }\r\n\r\n    return { ok: true, value: undefined } as any;\r\n  }\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\migration-example.ts",
      "line": 236,
      "column": 75,
      "context": "    } else {\r\n      // Use legacy approach\r\n      const standardizedError = legacyHandler.createError(error, 'system' as any, context);\r\n      return legacyHandler.toErrorResponse(standardizedError);\r\n    }\r",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\error-configuration.ts",
      "line": 24,
      "column": 23,
      "context": "  async report(error: Error, context?: ErrorContext): Promise<void> {\r\n    const metadata = {\r\n      errorId: (error as any).errorId,\r\n      domain: (error as any).domain,\r\n      severity: (error as any).severity,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\error-configuration.ts",
      "line": 25,
      "column": 22,
      "context": "    const metadata = {\r\n      errorId: (error as any).errorId,\r\n      domain: (error as any).domain,\r\n      severity: (error as any).severity,\r\n      correlationId: context?.correlationId,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\error-configuration.ts",
      "line": 26,
      "column": 24,
      "context": "      errorId: (error as any).errorId,\r\n      domain: (error as any).domain,\r\n      severity: (error as any).severity,\r\n      correlationId: context?.correlationId,\r\n      userId: context?.userId,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\error-configuration.ts",
      "line": 63,
      "column": 30,
      "context": "\r\n  async handle(error: Error): Promise<{ recovered: boolean; newError?: Error }> {\r\n    const errorCode = (error as any).code || 'INTERNAL_SERVER_ERROR';\r\n\r\n    // Don't recover from client errors (4xx)\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\error-configuration.ts",
      "line": 66,
      "column": 38,
      "context": "\r\n    // Don't recover from client errors (4xx)\r\n    if (ERROR_STATUS_CODES[errorCode as any] >= 400 && ERROR_STATUS_CODES[errorCode as any] < 500) {\r\n      return { recovered: false, newError: error };\r\n    }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\error-configuration.ts",
      "line": 66,
      "column": 85,
      "context": "\r\n    // Don't recover from client errors (4xx)\r\n    if (ERROR_STATUS_CODES[errorCode as any] >= 400 && ERROR_STATUS_CODES[errorCode as any] < 500) {\r\n      return { recovered: false, newError: error };\r\n    }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\error-configuration.ts",
      "line": 164,
      "column": 46,
      "context": "export function buildErrorResponse(error: Error, context: ErrorContext) {\r\n  const code = detectErrorCode(error);\r\n  const statusCode = ERROR_STATUS_CODES[code as any] || 500;\r\n  const message = ERROR_MESSAGES[code as any] || error.message;\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\error-configuration.ts",
      "line": 165,
      "column": 39,
      "context": "  const code = detectErrorCode(error);\r\n  const statusCode = ERROR_STATUS_CODES[code as any] || 500;\r\n  const message = ERROR_MESSAGES[code as any] || error.message;\r\n\r\n  return {\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\config\\manager.ts",
      "line": 447,
      "column": 33,
      "context": "        // Clean up chokidar watchers\r\n        for (const file of this._state.watchingFiles) {\r\n          const watcher = (this as any)[`_watcher_${file}`];\r\n          if (watcher && typeof watcher.close === 'function') {\r\n            watcher.close();\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\config\\manager.ts",
      "line": 450,
      "column": 26,
      "context": "          if (watcher && typeof watcher.close === 'function') {\r\n            watcher.close();\r\n            delete (this as any)[`_watcher_${file}`];\r\n          }\r\n        }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\config\\manager.ts",
      "line": 798,
      "column": 17,
      "context": "\r\n          // Store watcher reference for cleanup\r\n          (this as any)[`_watcher_${file}`] = watcher;\r\n          this.observability?.getLogger()?.debug(`Using chokidar for watching ${file}`);\r\n        } catch (error) {\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\single-flight-cache.ts",
      "line": 756,
      "column": 46,
      "context": "    this.fallbackCache.clear();\r\n    \r\n    if (this.adapter && typeof (this.adapter as any).destroy === 'function') {\r\n      (this.adapter as any).destroy();\r\n    }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\single-flight-cache.ts",
      "line": 757,
      "column": 21,
      "context": "    \r\n    if (this.adapter && typeof (this.adapter as any).destroy === 'function') {\r\n      (this.adapter as any).destroy();\r\n    }\r\n  }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\interfaces.ts",
      "line": 635,
      "column": 61,
      "context": " *       return new MultiTierCacheAdapter(config);\r\n *     default:\r\n *       throw new Error(`Unsupported cache type: ${(config as any).type}`);\r\n *   }\r\n * }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\factory.ts",
      "line": 234,
      "column": 22,
      "context": "  // For now, return the base adapter directly to avoid interface conflicts\r\n  // TODO: Fix SingleFlightCache interface compatibility\r\n  return baseAdapter as any;\r\n}\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\factory.ts",
      "line": 344,
      "column": 60,
      "context": " */\r\nexport function resetDefaultCache(): void {\r\n  if (defaultCacheInstance && typeof (defaultCacheInstance as any).destroy === 'function') {\r\n    (defaultCacheInstance as any).destroy();\r\n  }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\factory.ts",
      "line": 345,
      "column": 27,
      "context": "export function resetDefaultCache(): void {\r\n  if (defaultCacheInstance && typeof (defaultCacheInstance as any).destroy === 'function') {\r\n    (defaultCacheInstance as any).destroy();\r\n  }\r\n  defaultCacheInstance = null;\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\factory.ts",
      "line": 491,
      "column": 25,
      "context": "    const caches = Array.from(this.caches.values());\r\n    for (const cache of caches) {\r\n      if (typeof (cache as any).destroy === 'function') {\r\n        await (cache as any).destroy();\r\n      }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\factory.ts",
      "line": 492,
      "column": 22,
      "context": "    for (const cache of caches) {\r\n      if (typeof (cache as any).destroy === 'function') {\r\n        await (cache as any).destroy();\r\n      }\r\n    }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\factory.test.ts",
      "line": 46,
      "column": 9,
      "context": "        provider: 'unsupported',\r\n        defaultTtlSec: 3600\r\n      } as any;\r\n\r\n      expect(() => createCacheService(config)).toThrow('Unsupported cache provider');\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\caching-service.test.ts",
      "line": 332,
      "column": 28,
      "context": "    // Test with invalid config\r\n    const result = await createCachingService({\r\n      type: 'invalid-type' as any,\r\n      defaultTtl: 3600\r\n    });\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\cache-wrappers.test.ts",
      "line": 230,
      "column": 9,
      "context": "        get: vi.fn().mockResolvedValue(null),\r\n        set: vi.fn().mockResolvedValue(undefined)\r\n      } as any;\r\n\r\n      const service = new CacheWarmingService(minimalCache);\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "server\\infrastructure\\cache\\cache-factory.ts",
      "line": 228,
      "column": 25,
      "context": "\r\n    try {\r\n      if (typeof (cache as any).destroy === 'function') {\r\n        await (cache as any).destroy();\r\n      }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\cache-factory.ts",
      "line": 229,
      "column": 22,
      "context": "    try {\r\n      if (typeof (cache as any).destroy === 'function') {\r\n        await (cache as any).destroy();\r\n      }\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\cache-factory.ts",
      "line": 311,
      "column": 27,
      "context": "\r\n      for (const [, cache] of this.cacheInstances) {\r\n        if (typeof (cache as any).invalidateByTags === 'function') {\r\n          const count = await (cache as any).invalidateByTags(tags);\r\n          totalInvalidated += count;\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\cache-factory.ts",
      "line": 312,
      "column": 38,
      "context": "      for (const [, cache] of this.cacheInstances) {\r\n        if (typeof (cache as any).invalidateByTags === 'function') {\r\n          const count = await (cache as any).invalidateByTags(tags);\r\n          totalInvalidated += count;\r\n        }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\cache-factory.ts",
      "line": 335,
      "column": 25,
      "context": "\r\n    for (const [name, cache] of this.cacheInstances) {\r\n      if (typeof (cache as any).getHealth === 'function') {\r\n        cacheHealth[name] = await (cache as any).getHealth();\r\n      }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\cache-factory.ts",
      "line": 336,
      "column": 42,
      "context": "    for (const [name, cache] of this.cacheInstances) {\r\n      if (typeof (cache as any).getHealth === 'function') {\r\n        cacheHealth[name] = await (cache as any).getHealth();\r\n      }\r\n    }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\adapters-factory-integration.test.ts",
      "line": 32,
      "column": 34,
      "context": "\r\n    afterEach(async () => {\r\n      if (cache && typeof (cache as any).destroy === 'function') {\r\n        await (cache as any).destroy();\r\n      }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\adapters-factory-integration.test.ts",
      "line": 33,
      "column": 22,
      "context": "    afterEach(async () => {\r\n      if (cache && typeof (cache as any).destroy === 'function') {\r\n        await (cache as any).destroy();\r\n      }\r\n    });\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\adapters-factory-integration.test.ts",
      "line": 164,
      "column": 34,
      "context": "\r\n    afterEach(async () => {\r\n      if (cache && typeof (cache as any).destroy === 'function') {\r\n        await (cache as any).destroy();\r\n      }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\adapters-factory-integration.test.ts",
      "line": 165,
      "column": 22,
      "context": "    afterEach(async () => {\r\n      if (cache && typeof (cache as any).destroy === 'function') {\r\n        await (cache as any).destroy();\r\n      }\r\n    });\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\adapters-factory-integration.test.ts",
      "line": 229,
      "column": 34,
      "context": "\r\n    afterEach(async () => {\r\n      if (cache && typeof (cache as any).destroy === 'function') {\r\n        await (cache as any).destroy();\r\n      }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\adapters-factory-integration.test.ts",
      "line": 230,
      "column": 22,
      "context": "    afterEach(async () => {\r\n      if (cache && typeof (cache as any).destroy === 'function') {\r\n        await (cache as any).destroy();\r\n      }\r\n    });\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\adapters-factory-integration.test.ts",
      "line": 278,
      "column": 34,
      "context": "\r\n    afterEach(async () => {\r\n      if (cache && typeof (cache as any).destroy === 'function') {\r\n        await (cache as any).destroy();\r\n      }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\adapters-factory-integration.test.ts",
      "line": 279,
      "column": 22,
      "context": "    afterEach(async () => {\r\n      if (cache && typeof (cache as any).destroy === 'function') {\r\n        await (cache as any).destroy();\r\n      }\r\n    });\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\adapters-factory-integration.test.ts",
      "line": 432,
      "column": 11,
      "context": "          maxMemoryMB: 100\r\n          // Missing redisUrl\r\n        } as any);\r\n      }).toThrow();\r\n    });\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\adapters-factory-integration.test.ts",
      "line": 441,
      "column": 35,
      "context": "      expect(() => {\r\n        createCacheService({\r\n          provider: 'unsupported' as any,\r\n          defaultTtlSec: 3600\r\n        });\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "server\\infrastructure\\cache\\adapters-factory-integration.test.ts",
      "line": 497,
      "column": 25,
      "context": "      await cache.set('destroy-key', 'destroy-value');\r\n\r\n      if (typeof (cache as any).destroy === 'function') {\r\n        await (cache as any).destroy();\r\n      }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\adapters-factory-integration.test.ts",
      "line": 498,
      "column": 22,
      "context": "\r\n      if (typeof (cache as any).destroy === 'function') {\r\n        await (cache as any).destroy();\r\n      }\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\adapters-factory-integration.test.ts",
      "line": 517,
      "column": 34,
      "context": "\r\n    afterEach(async () => {\r\n      if (cache && typeof (cache as any).destroy === 'function') {\r\n        await (cache as any).destroy();\r\n      }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\adapters-factory-integration.test.ts",
      "line": 518,
      "column": 22,
      "context": "    afterEach(async () => {\r\n      if (cache && typeof (cache as any).destroy === 'function') {\r\n        await (cache as any).destroy();\r\n      }\r\n    });\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\social-integration.ts",
      "line": 322,
      "column": 26,
      "context": "      // Save the social profile connection to database\r\n      await db.insert(userSocialProfile).values({\r\n        user_id: user_id as any, // UUID type\r\n        provider: platform,\r\n        providerId: profileData.id,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.ts",
      "line": 79,
      "column": 18,
      "context": "    // Fetch comments with applied filters\r\n    const result = await commentService.getBillComments(bill_id, {\r\n      sort: sort as any,\r\n      expertOnly,\r\n      commentType,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.ts",
      "line": 112,
      "column": 26,
      "context": "  try {\r\n    const data = req.body;\r\n    const user_id = (req as any).user?.id;\r\n\r\n    // Verify user authentication\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.ts",
      "line": 168,
      "column": 62,
      "context": "      domain: ErrorDomain.SYSTEM,\r\n      severity: ErrorSeverity.HIGH,\r\n      details: { component: 'community-routes', userId: (req as any).user?.id }\r\n    });\r\n  }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.ts",
      "line": 192,
      "column": 18,
      "context": "\r\n    const replies = await commentService.getCommentReplies(parent_id, {\r\n      sort: sort as any,\r\n      limit,\r\n      offset\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.ts",
      "line": 224,
      "column": 26,
      "context": "    const comment_id = parseInt(req.params.id);\r\n    const data = req.body;\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.ts",
      "line": 281,
      "column": 26,
      "context": "  try {\r\n    const comment_id = parseInt(req.params.id);\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.ts",
      "line": 404,
      "column": 26,
      "context": "    const comment_id = parseInt(req.params.id);\r\n    const data = req.body;\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.ts",
      "line": 466,
      "column": 26,
      "context": "    const comment_id = parseInt(req.params.id);\r\n    const data = req.body;\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.ts",
      "line": 584,
      "column": 62,
      "context": "      domain: ErrorDomain.SYSTEM,\r\n      severity: ErrorSeverity.HIGH,\r\n      details: { component: 'community-routes', userId: (req as any).user?.id }\r\n    });\r\n  }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\comment.ts",
      "line": 594,
      "column": 12,
      "context": "        };\r\n      },\r\n      null as any,\r\n      `updateComment:${comment_id}`\r\n    );\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\voting-pattern-analysis.ts",
      "line": 66,
      "column": 10,
      "context": "    'read',\n    req,\n    (req as any).user?.id,\n    relevantPatterns.length,\n    true",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\voting-pattern-analysis.ts",
      "line": 106,
      "column": 10,
      "context": "    'read',\n    req,\n    (req as any).user?.id,\n    1,\n    true",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\voting-pattern-analysis.ts",
      "line": 129,
      "column": 10,
      "context": "    'read',\n    req,\n    (req as any).user?.id,\n    analysis.length,\n    true",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\voting-pattern-analysis.ts",
      "line": 203,
      "column": 10,
      "context": "    'read',\n    req,\n    (req as any).user?.id,\n    Object.keys(correlations.alignmentScores).length,\n    true",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\voting-pattern-analysis.ts",
      "line": 219,
      "column": 75,
      "context": " */\nrouter.use((err: Error, req: Request, res: Response, next: NextFunction) => {\n  return handleRouteError(res, err, 'handle voting pattern request', (req as any).user?.id);\n});\n",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\voting-pattern-analysis-router.ts",
      "line": 81,
      "column": 10,
      "context": "    'read',\r\n    req,\r\n    (req as any).user?.id,\r\n    relevantPatterns.length,\r\n    true\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\voting-pattern-analysis-router.ts",
      "line": 121,
      "column": 10,
      "context": "    'read',\r\n    req,\r\n    (req as any).user?.id,\r\n    1,\r\n    true\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\voting-pattern-analysis-router.ts",
      "line": 144,
      "column": 10,
      "context": "    'read',\r\n    req,\r\n    (req as any).user?.id,\r\n    analysis.length,\r\n    true\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\voting-pattern-analysis-router.ts",
      "line": 218,
      "column": 10,
      "context": "    'read',\r\n    req,\r\n    (req as any).user?.id,\r\n    Object.keys(correlations.alignmentScores).length,\r\n    true\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\voting-pattern-analysis-router.ts",
      "line": 234,
      "column": 75,
      "context": " */\r\nrouter.use((err: Error, req: Request, res: Response, next: NextFunction) => {\r\n  return handleRouteError(res, err, 'handle voting pattern request', (req as any).user?.id);\r\n});\r\n\r",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\sponsorship.routes.ts",
      "line": 24,
      "column": 92,
      "context": "        ApiResponseWrapper.createMetadata(startTime, 'database'));\r\n    } catch (error) {\r\n      logger.error('Error fetching sponsorship analysis:', { component: 'Chanuka' }, error as any);\r\n      return ApiError(res, { code: 'INTERNAL_ERROR', message: 'Failed to fetch sponsorship analysis' }, 500,\r\n        ApiResponseWrapper.createMetadata(startTime, 'database'));\r",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\sponsorship.routes.ts",
      "line": 39,
      "column": 96,
      "context": "        ApiResponseWrapper.createMetadata(startTime, 'database'));\r\n    } catch (error) {\r\n      logger.error('Error fetching primary sponsor analysis:', { component: 'Chanuka' }, error as any);\r\n      return ApiError(res, { code: 'INTERNAL_ERROR', message: 'Failed to fetch primary sponsor analysis' }, 500,\r\n        ApiResponseWrapper.createMetadata(startTime, 'database'));\r",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\sponsorship.routes.ts",
      "line": 54,
      "column": 92,
      "context": "        ApiResponseWrapper.createMetadata(startTime, 'database'));\r\n    } catch (error) {\r\n      logger.error('Error fetching co-sponsors analysis:', { component: 'Chanuka' }, error as any);\r\n      return ApiError(res, { code: 'INTERNAL_ERROR', message: 'Failed to fetch co-sponsors analysis' }, 500,\r\n        ApiResponseWrapper.createMetadata(startTime, 'database'));\r",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\sponsorship.routes.ts",
      "line": 69,
      "column": 98,
      "context": "        ApiResponseWrapper.createMetadata(startTime, 'database'));\r\n    } catch (error) {\r\n      logger.error('Error fetching financial network analysis:', { component: 'Chanuka' }, error as any);\r\n      return ApiError(res, { code: 'INTERNAL_ERROR', message: 'Failed to fetch financial network analysis' }, 500,\r\n        ApiResponseWrapper.createMetadata(startTime, 'database'));\r",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\bills-router-migrated.ts",
      "line": 123,
      "column": 17,
      "context": "    'read',\r\n    req,\r\n    String((req as any).user?.id || ''),\r\n    bills.length,\r\n    true\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\bills-router-migrated.ts",
      "line": 164,
      "column": 10,
      "context": "    'read',\r\n    req,\r\n    (req as any).user?.id,\r\n    1,\r\n    true\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\bills-router-migrated.ts",
      "line": 274,
      "column": 40,
      "context": "  let comments = commentsRaw.slice();\r\n  if (highlighted === 'true') {\r\n    comments = comments.filter(c => (c as any).isHighlighted === true);\r\n  }\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\bill-tracking.routes.ts",
      "line": 95,
      "column": 53,
      "context": "    const validSortBy = ['date_tracked', 'last_updated', 'engagement'] as const;\r\n    const sortByValue = req.query.sortBy as string;\r\n    const sortBy = validSortBy.includes(sortByValue as any) ? sortByValue as 'date_tracked' | 'last_updated' | 'engagement' : 'date_tracked';\r\n    const validSortOrder = ['asc', 'desc'] as const;\r\n    const sortOrderValue = req.query.sortOrder as string;\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\bill-tracking.routes.ts",
      "line": 98,
      "column": 62,
      "context": "    const validSortOrder = ['asc', 'desc'] as const;\r\n    const sortOrderValue = req.query.sortOrder as string;\r\n    const sortOrder = validSortOrder.includes(sortOrderValue as any) ? sortOrderValue as 'asc' | 'desc' : 'desc';\r\n\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\argument-intelligence\\argument-intelligence-router.ts",
      "line": 44,
      "column": 6,
      "context": "  argumentIntelligenceService,\n  // Fix for missing 8th argument (briefRepo) required by ArgumentProcessor\n  {} as any\n);\n",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\argument-intelligence\\argument-intelligence-router.ts",
      "line": 345,
      "column": 56,
      "context": "    const args = await argumentIntelligenceService.getArgumentsForBill(bill_id);\n    // Cast coalitionFinder to any to access private method buildStakeholderProfiles\n    const stakeholderProfiles = await (coalitionFinder as any).buildStakeholderProfiles(args);\n\n    const opportunities = await coalitionFinder.discoverCoalitionOpportunities(bill_id, stakeholderProfiles);",
      "category": "type_assertion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\transparency-dashboard.ts",
      "line": 114,
      "column": 27,
      "context": "      logger.error(`Error calculating transparency score for sponsor ${sponsor_id}`, { component: 'transparency-dashboard', sponsor_id, error });\r\n      try {\r\n        if ((errorTracker as any)?.trackRequestError) {\r\n          (errorTracker as any).trackRequestError(error instanceof Error ? error : new Error(String(error)), undefined as any, 'medium', 'calculateTransparencyScore');\r\n        } else if ((errorTracker as any)?.capture) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\transparency-dashboard.ts",
      "line": 115,
      "column": 25,
      "context": "      try {\r\n        if ((errorTracker as any)?.trackRequestError) {\r\n          (errorTracker as any).trackRequestError(error instanceof Error ? error : new Error(String(error)), undefined as any, 'medium', 'calculateTransparencyScore');\r\n        } else if ((errorTracker as any)?.capture) {\r\n          (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'transparency-dashboard', sponsor_id });\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\transparency-dashboard.ts",
      "line": 115,
      "column": 120,
      "context": "      try {\r\n        if ((errorTracker as any)?.trackRequestError) {\r\n          (errorTracker as any).trackRequestError(error instanceof Error ? error : new Error(String(error)), undefined as any, 'medium', 'calculateTransparencyScore');\r\n        } else if ((errorTracker as any)?.capture) {\r\n          (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'transparency-dashboard', sponsor_id });\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\transparency-dashboard.ts",
      "line": 116,
      "column": 34,
      "context": "        if ((errorTracker as any)?.trackRequestError) {\r\n          (errorTracker as any).trackRequestError(error instanceof Error ? error : new Error(String(error)), undefined as any, 'medium', 'calculateTransparencyScore');\r\n        } else if ((errorTracker as any)?.capture) {\r\n          (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'transparency-dashboard', sponsor_id });\r\n        }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\transparency-dashboard.ts",
      "line": 117,
      "column": 25,
      "context": "          (errorTracker as any).trackRequestError(error instanceof Error ? error : new Error(String(error)), undefined as any, 'medium', 'calculateTransparencyScore');\r\n        } else if ((errorTracker as any)?.capture) {\r\n          (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'transparency-dashboard', sponsor_id });\r\n        }\r\n      } catch (reportErr) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\regulatory-change-monitoring.ts",
      "line": 417,
      "column": 27,
      "context": "      logger.error(`Error resolving alert ${alertId}`, { component: 'regulatory-change-monitoring', alertId, error });\r\n      try {\r\n        if ((errorTracker as any)?.capture) {\r\n          (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'regulatory-change-monitoring', alertId });\r\n        }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\regulatory-change-monitoring.ts",
      "line": 418,
      "column": 25,
      "context": "      try {\r\n        if ((errorTracker as any)?.capture) {\r\n          (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'regulatory-change-monitoring', alertId });\r\n        }\r\n      } catch (reportErr) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\regulatory-change-monitoring.ts",
      "line": 488,
      "column": 27,
      "context": "      logger.error(`Error analyzing stakeholder impact for regulation ${regulationId}`, { component: 'regulatory-change-monitoring', regulationId, error });\r\n      try {\r\n        if ((errorTracker as any)?.capture) {\r\n          (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'regulatory-change-monitoring', regulationId });\r\n        }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\regulatory-change-monitoring.ts",
      "line": 489,
      "column": 25,
      "context": "      try {\r\n        if ((errorTracker as any)?.capture) {\r\n          (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'regulatory-change-monitoring', regulationId });\r\n        }\r\n      } catch (reportErr) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\regulatory-change-monitoring.ts",
      "line": 514,
      "column": 27,
      "context": "      logger.error(`Error identifying strategic opportunities for regulation ${regulationId}`, { component: 'regulatory-change-monitoring', regulationId, error });\r\n      try {\r\n        if ((errorTracker as any)?.capture) {\r\n          (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'regulatory-change-monitoring', regulationId });\r\n        }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\regulatory-change-monitoring.ts",
      "line": 515,
      "column": 25,
      "context": "      try {\r\n        if ((errorTracker as any)?.capture) {\r\n          (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'regulatory-change-monitoring', regulationId });\r\n        }\r\n      } catch (reportErr) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\ml-analysis.ts",
      "line": 34,
      "column": 25,
      "context": "\r\n    try {\r\n      if ((errorTracker as any)?.capture) {\r\n        (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), {\r\n          component: 'ml-analysis',\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\ml-analysis.ts",
      "line": 35,
      "column": 23,
      "context": "    try {\r\n      if ((errorTracker as any)?.capture) {\r\n        (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), {\r\n          component: 'ml-analysis',\r\n          analysis_type\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\engagement-analytics.ts",
      "line": 674,
      "column": 28,
      "context": "    }));\r\n\r\n    return formattedTrends as any;\r\n  }\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analysis\\analysis.routes.ts",
      "line": 180,
      "column": 42,
      "context": "    // Transform results for frontend consumption\r\n    const historyResults = historyRecords.map((record: any) => {\r\n      const resultsData = record.results as any;\r\n      return {\r\n        dbId: record.id,\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\admin\\external-api-dashboard.ts",
      "line": 53,
      "column": 19,
      "context": "    error !== null &&\r\n    'message' in error &&\r\n    typeof (error as any).message === 'string'\r\n  );\r\n};\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\admin\\admin.ts",
      "line": 216,
      "column": 22,
      "context": "      await db\r\n        .update(user)\r\n        .set(updates as any)\r\n        .where(eq(users.id, user_id));\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\accountability\\ledger.service.ts",
      "line": 41,
      "column": 31,
      "context": "      entry_number: entryNumber,\n      entity_name: actor,\n      violation_type: (action as any) || 'bribery', // Cast to enum type needed if not validating strict enums upstream\n      description: resource,\n      estimated_loss_amount: estimatedLoss,",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\accountability\\ledger.service.ts",
      "line": 64,
      "column": 79,
      "context": "    if (filters.action) {\n      // Cast action to match the enum type expected by Drizzle\n      conditions.push(eq(shadow_ledger_entries.violation_type, filters.action as any));\n    }\n",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\utils\\circular-buffer.ts",
      "line": 590,
      "column": 27,
      "context": "   * Check if at least one item satisfies the test function.\r\n   * \r\n   * Returns true as soon as any item passes the test, without checking\r\n   * the remaining items. This is more efficient than filter() when you\r\n   * only need to know if any items match.\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\utils\\circular-buffer.ts",
      "line": 613,
      "column": 28,
      "context": "   * Check if all items satisfy the test function.\r\n   * \r\n   * Returns false as soon as any item fails the test, without checking\r\n   * the remaining items. Returns true only if all items pass the test.\r\n   * \r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\monitoring\\metrics-reporter.test.ts",
      "line": 370,
      "column": 55,
      "context": "    it('should throw error for unsupported format', () => {\r\n      expect(() => {\r\n        metricsReporter.exportMetrics({ format: 'xml' as any });\r\n      }).toThrow('Unsupported format: xml');\r\n    });\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\websocket-service.ts",
      "line": 623,
      "column": 19,
      "context": "        // TODO: Replace 'any' with proper type definition\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        (listener as any)(...args);\r\n      } catch (error) {\r\n        this.logError(`Error in ${event} event listener:`, error);\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\validation\\validation-services-init.ts",
      "line": 76,
      "column": 25,
      "context": "      // Note: We'll need to get the pool from the database instance\r\n      // This might need adjustment based on your database setup\r\n      pool = dbInstance as any; // Type assertion - adjust based on actual implementation\r\n    }\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\errors\\error-tracker.ts",
      "line": 290,
      "column": 21,
      "context": "  ): string {\r\n    const context: ErrorContext = {\r\n      traceId: (req as any).traceId,\r\n      user_id: (req as any).user?.id,\r\n      url: req.originalUrl || req.url,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\errors\\error-tracker.ts",
      "line": 291,
      "column": 21,
      "context": "    const context: ErrorContext = {\r\n      traceId: (req as any).traceId,\r\n      user_id: (req as any).user?.id,\r\n      url: req.originalUrl || req.url,\r\n      method: req.method,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\errors\\error-tracker.ts",
      "line": 611,
      "column": 19,
      "context": "    if (typeof error === 'string') return undefined;\r\n    \r\n    return (error as any).code || \r\n           (error as any).errno || \r\n           (error as any).status || \r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\errors\\error-tracker.ts",
      "line": 612,
      "column": 19,
      "context": "    \r\n    return (error as any).code || \r\n           (error as any).errno || \r\n           (error as any).status || \r\n           undefined;\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\errors\\error-tracker.ts",
      "line": 613,
      "column": 19,
      "context": "    return (error as any).code || \r\n           (error as any).errno || \r\n           (error as any).status || \r\n           undefined;\r\n  }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\errors\\error-tracker.ts",
      "line": 818,
      "column": 25,
      "context": "      const alertMessage = `Alert triggered: ${rule.name} - ${JSON.stringify(stats)}`;\r\n      const baseError = new BaseError(alertMessage, {\r\n        domain: 'alert' as any,\r\n        severity: 'high' as any,\r\n        source: 'error-tracker',\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\errors\\error-tracker.ts",
      "line": 819,
      "column": 26,
      "context": "      const baseError = new BaseError(alertMessage, {\r\n        domain: 'alert' as any,\r\n        severity: 'high' as any,\r\n        source: 'error-tracker',\r\n        correlationId: `alert_${Date.now()}`,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\errors\\error-tracker.ts",
      "line": 911,
      "column": 65,
      "context": "\r\n      // Check severity filter\r\n      if (filter.severity && !filter.severity.includes(severity as any)) continue;\r\n\r\n      // Check category filter\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\errors\\error-tracker.ts",
      "line": 914,
      "column": 65,
      "context": "\r\n      // Check category filter\r\n      if (filter.category && !filter.category.includes(category as any)) continue;\r\n\r\n      // Check minimum occurrences\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\errors\\error-tracker.ts",
      "line": 925,
      "column": 30,
      "context": "          // Convert to BaseError for integration\r\n          const baseError = new BaseError(message, {\r\n            domain: 'system' as any,\r\n            severity: severity as any,\r\n            source: category,\r",
      "category": "type_assertion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\errors\\error-tracker.ts",
      "line": 926,
      "column": 32,
      "context": "          const baseError = new BaseError(message, {\r\n            domain: 'system' as any,\r\n            severity: severity as any,\r\n            source: category,\r\n            correlationId: context.traceId,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\utilities\\cache-warmer.ts",
      "line": 157,
      "column": 35,
      "context": "    if (this.backgroundTimer) {\r\n      clearInterval(this.backgroundTimer);\r\n      this.backgroundTimer = null as any;\r\n      this.emit('background:stop');\r\n    }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\monitoring\\metrics-collector.ts",
      "line": 45,
      "column": 30,
      "context": "    if (this.intervalId) {\r\n      clearInterval(this.intervalId);\r\n      this.intervalId = null as any;\r\n    }\r\n  }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\clustering\\cluster-manager.ts",
      "line": 241,
      "column": 39,
      "context": "    if (this.healthCheckInterval) {\r\n      clearInterval(this.healthCheckInterval);\r\n      this.healthCheckInterval = null as any;\r\n    }\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\adapters\\mappings\\user-mapping.ts",
      "line": 105,
      "column": 45,
      "context": "    \r\n    // This type assertion bridges the gap between what TypeScript infers and what\r\n    // we know to be true. It's safer than 'as any' because we're being specific\r\n    // about what type we're asserting to, and it matches the interface contract\r\n    return result as Partial<UserRow>;\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\domain\\citizen-verification.ts",
      "line": 94,
      "column": 66,
      "context": "    // Validate verification type\r\n    const validTypes = ['fact_check', 'impact_assessment', 'source_validation', 'claim_verification'] as const;\r\n    if (!validTypes.includes(verification_data.verification_type as any)) {\r\n      throw new Error(`Invalid verification type: ${verification_data.verification_type}`);\r\n    }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\infrastructure\\bill-storage.ts",
      "line": 59,
      "column": 88,
      "context": "      return true;\r\n    } catch (error) {\r\n      logger.error('BillStorage health check failed:', { component: 'Chanuka' }, error as any);\r\n      return false;\r\n    }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\sponsorship-analysis.service.ts",
      "line": 877,
      "column": 22,
      "context": "      ? breakdown.reduce((max, sector) =>\r\n        sector.percentage > max.percentage ? sector : max,\r\n        breakdown[0] as any\r\n      )\r\n      : { sector: 'None', percentage: 0, amount: 0 };\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bills.ts",
      "line": 333,
      "column": 51,
      "context": "\r\n        if (conditions.length > 0) {\r\n          query = query.where(and(...conditions)) as any;\r\n        }\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\argument-intelligence\\application\\argument-processor.ts",
      "line": 203,
      "column": 83,
      "context": "      // Map DB arguments to Clustering arguments format\n      // Note: In a real scenario, you'd map the DB entity to the service DTO explicitly.\n      // Assuming billArguments are compatible enough for this context or passing as any for now\n      // to resolve the immediate flow, though strict mapping is better.\n      const argumentsForClustering = billArguments.map(arg => ({",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\services\\engagement.service.ts",
      "line": 311,
      "column": 36,
      "context": "            }));\r\n\r\n            return formattedTrends as any;\r\n          }\r\n        );\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\services\\engagement.service.ts",
      "line": 524,
      "column": 11,
      "context": "    errorTracker.trackRequestError(\r\n      error instanceof Error ? error : new Error(String(error)),\r\n      req as any,\r\n      'high',\r\n      'business_logic'\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\services\\engagement.service.ts",
      "line": 559,
      "column": 11,
      "context": "    errorTracker.trackRequestError(\r\n      error instanceof Error ? error : new Error(String(error)),\r\n      req as any,\r\n      'high',\r\n      'business_logic'\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\services\\engagement.service.ts",
      "line": 619,
      "column": 11,
      "context": "    errorTracker.trackRequestError(\r\n      error instanceof Error ? error : new Error(String(error)),\r\n      req as any,\r\n      'high',\r\n      'business_logic'\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\financial-disclosure\\monitoring.ts",
      "line": 715,
      "column": 57,
      "context": "        .map(([type, threshold]) =>\r\n          and(\r\n            eq(sponsorTransparency.disclosureType, type as any),\r\n            sql`CAST(${sponsorTransparency.amount} AS NUMERIC) > ${threshold}`\r\n          )\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\financial-disclosure\\monitoring.ts",
      "line": 939,
      "column": 77,
      "context": "      const notificationsToCreate = alerts.filter(alert =>\r\n        this.config.alerting.createNotifications &&\r\n        this.config.alerting.notificationSeverities.includes(alert.severity as any)\r\n      );\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\financial-disclosure\\index.ts",
      "line": 243,
      "column": 40,
      "context": "        const options = {\r\n          sponsor_id: req.query.sponsor_id ? Number(req.query.sponsor_id) : undefined,\r\n          severity: req.query.severity as any,\r\n          type: req.query.type as any,\r\n          includeResolved: req.query.includeResolved === 'true',\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\financial-disclosure\\index.ts",
      "line": 244,
      "column": 32,
      "context": "          sponsor_id: req.query.sponsor_id ? Number(req.query.sponsor_id) : undefined,\r\n          severity: req.query.severity as any,\r\n          type: req.query.type as any,\r\n          includeResolved: req.query.includeResolved === 'true',\r\n          limit: req.query.limit ? Number(req.query.limit) : undefined\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\financial-disclosure\\index.ts",
      "line": 652,
      "column": 46,
      "context": "    \r\n    if (err instanceof BaseError) {\r\n      return ApiError(res, err.message, (err as any).statusCode || 500);\r\n    }\r\n    \r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\financial-disclosure\\index.ts",
      "line": 665,
      "column": 25,
      "context": "    });\r\n    try {\r\n      if ((errorTracker as any)?.capture) {\r\n        (errorTracker as any).capture(err instanceof Error ? err : new Error(String(err)), { component: 'financial-disclosure', path: req.path, method: req.method });\r\n      }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\financial-disclosure\\index.ts",
      "line": 666,
      "column": 23,
      "context": "    try {\r\n      if ((errorTracker as any)?.capture) {\r\n        (errorTracker as any).capture(err instanceof Error ? err : new Error(String(err)), { component: 'financial-disclosure', path: req.path, method: req.method });\r\n      }\r\n    } catch (reportErr) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\middleware\\analytics-context.ts",
      "line": 71,
      "column": 25,
      "context": "\r\n    try {\r\n      if ((errorTracker as any)?.trackRequestError) {\r\n        // Track with low severity; no request object context available yet, pass req as any\r\n        (errorTracker as any).trackRequestError(\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\middleware\\analytics-context.ts",
      "line": 72,
      "column": 87,
      "context": "    try {\r\n      if ((errorTracker as any)?.trackRequestError) {\r\n        // Track with low severity; no request object context available yet, pass req as any\r\n        (errorTracker as any).trackRequestError(\r\n          error instanceof Error ? error : new Error(String(error)),\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\middleware\\analytics-context.ts",
      "line": 73,
      "column": 23,
      "context": "      if ((errorTracker as any)?.trackRequestError) {\r\n        // Track with low severity; no request object context available yet, pass req as any\r\n        (errorTracker as any).trackRequestError(\r\n          error instanceof Error ? error : new Error(String(error)),\r\n          req as any,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\middleware\\analytics-context.ts",
      "line": 75,
      "column": 15,
      "context": "        (errorTracker as any).trackRequestError(\r\n          error instanceof Error ? error : new Error(String(error)),\r\n          req as any,\r\n          'low',\r\n          'analytics_context'\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\middleware\\analytics-context.ts",
      "line": 79,
      "column": 32,
      "context": "          'analytics_context'\r\n        );\r\n      } else if ((errorTracker as any)?.capture) {\r\n        (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), {\r\n          component: 'analytics-context',\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\middleware\\analytics-context.ts",
      "line": 80,
      "column": 23,
      "context": "        );\r\n      } else if ((errorTracker as any)?.capture) {\r\n        (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), {\r\n          component: 'analytics-context',\r\n        });\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\config\\analytics.config.ts",
      "line": 335,
      "column": 25,
      "context": "    logger.error('Failed to initialize analytics configuration', { error: error instanceof Error ? error.message : String(error), stack: error instanceof Error ? error.stack : undefined });\r\n    try {\r\n      if ((errorTracker as any)?.capture) {\r\n        (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'analytics-config' });\r\n      }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\config\\analytics.config.ts",
      "line": 336,
      "column": 23,
      "context": "    try {\r\n      if ((errorTracker as any)?.capture) {\r\n        (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'analytics-config' });\r\n      }\r\n    } catch (reportErr) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analysis\\application\\constitutional-analysis.service.ts",
      "line": 409,
      "column": 31,
      "context": "        // Map common strength values to a numeric proxy for relevance.\r\n        relevance: ((): number => {\r\n          const strength = (p as any).precedent_strength as string | undefined;\r\n          if (!strength) return 50;\r\n          if (strength === 'binding') return 90;\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analysis\\application\\constitutional-analysis.service.ts",
      "line": 417,
      "column": 41,
      "context": "        })(),\r\n        outcome: p.legal_principle || p.case_summary || 'Holding not available',\r\n        applicability: Array.isArray((p as any).constitutional_provisions_involved) && (p as any).constitutional_provisions_involved.length > 0\r\n          ? 'Cites constitutional provisions'\r\n          : 'Summary not available',\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analysis\\application\\constitutional-analysis.service.ts",
      "line": 417,
      "column": 91,
      "context": "        })(),\r\n        outcome: p.legal_principle || p.case_summary || 'Holding not available',\r\n        applicability: Array.isArray((p as any).constitutional_provisions_involved) && (p as any).constitutional_provisions_involved.length > 0\r\n          ? 'Cites constitutional provisions'\r\n          : 'Summary not available',\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\application\\alert-preferences-service.ts",
      "line": 134,
      "column": 52,
      "context": "      }\r\n\r\n      const currentPreferences = (user.preferences as any) || {};\r\n      const alertPreferences = currentPreferences.alertPreferences || [];\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\application\\alert-preferences-service.ts",
      "line": 221,
      "column": 52,
      "context": "      }\r\n\r\n      const currentPreferences = (user.preferences as any) || {};\r\n      const alertPreferences = currentPreferences.alertPreferences || [];\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\application\\alert-preferences-service.ts",
      "line": 283,
      "column": 52,
      "context": "      }\r\n\r\n      const currentPreferences = (user.preferences as any) || {};\r\n      const alertPreferences = currentPreferences.alertPreferences || [];\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\application\\alert-preferences-service.ts",
      "line": 451,
      "column": 49,
      "context": "        id: notification.id,\r\n        user_id: notification.user_id,\r\n        alert_preference_id: (notification.data as any)?.alert_preference_id || '',\r\n        notification_id: notification.id,\r\n        alert_type: notification.type,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\application\\alert-preferences-service.ts",
      "line": 454,
      "column": 37,
      "context": "        notification_id: notification.id,\r\n        alert_type: notification.type,\r\n        channel: (notification.data as any)?.channel || 'unknown',\r\n        status: (notification.data as any)?.status || 'sent',\r\n        delivery_time: (notification.data as any)?.delivery_time || notification.created_at,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\application\\alert-preferences-service.ts",
      "line": 455,
      "column": 36,
      "context": "        alert_type: notification.type,\r\n        channel: (notification.data as any)?.channel || 'unknown',\r\n        status: (notification.data as any)?.status || 'sent',\r\n        delivery_time: (notification.data as any)?.delivery_time || notification.created_at,\r\n        failure_reason: (notification.data as any)?.failure_reason,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\application\\alert-preferences-service.ts",
      "line": 456,
      "column": 43,
      "context": "        channel: (notification.data as any)?.channel || 'unknown',\r\n        status: (notification.data as any)?.status || 'sent',\r\n        delivery_time: (notification.data as any)?.delivery_time || notification.created_at,\r\n        failure_reason: (notification.data as any)?.failure_reason,\r\n        metadata: (notification.data as any)?.metadata,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\application\\alert-preferences-service.ts",
      "line": 457,
      "column": 44,
      "context": "        status: (notification.data as any)?.status || 'sent',\r\n        delivery_time: (notification.data as any)?.delivery_time || notification.created_at,\r\n        failure_reason: (notification.data as any)?.failure_reason,\r\n        metadata: (notification.data as any)?.metadata,\r\n        created_at: notification.created_at\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\application\\alert-preferences-service.ts",
      "line": 458,
      "column": 38,
      "context": "        delivery_time: (notification.data as any)?.delivery_time || notification.created_at,\r\n        failure_reason: (notification.data as any)?.failure_reason,\r\n        metadata: (notification.data as any)?.metadata,\r\n        created_at: notification.created_at\r\n      }));\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\advocacy\\application\\impact-tracker.ts",
      "line": 530,
      "column": 9,
      "context": "        impactScore,\r\n        updated_at: new Date()\r\n      } as any);\r\n\r\n      logger.info('Campaign impact score updated', { \r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\admin\\moderation\\moderation-orchestrator.service.ts",
      "line": 305,
      "column": 44,
      "context": "          content_type,\r\n          content_id || 0, // In real implementation, this would be the actual content ID\r\n          analysis.detectedIssues[0]?.type as any || 'other',\r\n          `Automated detection: ${analysis.detectedIssues.map(i => i.description).join(', ')}`,\r\n          'system',\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\subscription-manager.test.ts",
      "line": 113,
      "column": 44,
      "context": "    it('should reject invalid WebSocket connection', () => {\r\n      expect(() => {\r\n        subscriptionManager.subscribe(null as any, 123);\r\n      }).toThrow('Invalid or closed WebSocket connection');\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\subscription-manager.test.ts",
      "line": 213,
      "column": 74,
      "context": "      it('should reject non-array bill IDs', () => {\r\n        expect(() => {\r\n          subscriptionManager.batchSubscribe(mockWebSocket1, 'not-array' as any);\r\n        }).toThrow('Bill IDs must be a non-empty array');\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\subscription-manager.test.ts",
      "line": 217,
      "column": 67,
      "context": "\r\n        expect(() => {\r\n          subscriptionManager.batchSubscribe(mockWebSocket1, null as any);\r\n        }).toThrow('Bill IDs must be a non-empty array');\r\n      });\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\subscription-manager.test.ts",
      "line": 223,
      "column": 51,
      "context": "      it('should reject invalid WebSocket connection', () => {\r\n        expect(() => {\r\n          subscriptionManager.batchSubscribe(null as any, [123, 456]);\r\n        }).toThrow('Invalid or closed WebSocket connection');\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\subscription-manager.test.ts",
      "line": 297,
      "column": 76,
      "context": "      it('should reject non-array bill IDs', () => {\r\n        expect(() => {\r\n          subscriptionManager.batchUnsubscribe(mockWebSocket1, 'not-array' as any);\r\n        }).toThrow('Bill IDs must be a non-empty array');\r\n      });\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\operation-queue-manager.test.ts",
      "line": 292,
      "column": 25,
      "context": "    it('should handle unknown operation type', async () => {\r\n      const operation: QueueOperation = {\r\n        type: 'unknown' as any,\r\n        priority: OPERATION_PRIORITIES.NORMAL,\r\n        data: { test: true },\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 80,
      "column": 30,
      "context": "    it('should reject message with invalid type', () => {\r\n      const message: WebSocketMessage = {\r\n        type: 'invalid_type' as any,\r\n        data: { bill_id: 123 },\r\n      };\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 355,
      "column": 30,
      "context": "    it('should handle unknown message type', async () => {\r\n      const message: WebSocketMessage = {\r\n        type: 'unknown_type' as any,\r\n        messageId: 'unknown_test',\r\n      };\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 370,
      "column": 50,
      "context": "  describe('message validation edge cases', () => {\r\n    it('should reject null message', () => {\r\n      expect(messageHandler.validateMessage(null as any)).toBe(false);\r\n    });\r\n\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 374,
      "column": 55,
      "context": "\r\n    it('should reject undefined message', () => {\r\n      expect(messageHandler.validateMessage(undefined as any)).toBe(false);\r\n    });\r\n\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 378,
      "column": 54,
      "context": "\r\n    it('should reject non-object message', () => {\r\n      expect(messageHandler.validateMessage('string' as any)).toBe(false);\r\n      expect(messageHandler.validateMessage(123 as any)).toBe(false);\r\n      expect(messageHandler.validateMessage(true as any)).toBe(false);\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 379,
      "column": 49,
      "context": "    it('should reject non-object message', () => {\r\n      expect(messageHandler.validateMessage('string' as any)).toBe(false);\r\n      expect(messageHandler.validateMessage(123 as any)).toBe(false);\r\n      expect(messageHandler.validateMessage(true as any)).toBe(false);\r\n    });\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 380,
      "column": 50,
      "context": "      expect(messageHandler.validateMessage('string' as any)).toBe(false);\r\n      expect(messageHandler.validateMessage(123 as any)).toBe(false);\r\n      expect(messageHandler.validateMessage(true as any)).toBe(false);\r\n    });\r\n\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 387,
      "column": 9,
      "context": "        type: 123,\r\n        data: { bill_id: 123 },\r\n      } as any;\r\n\r\n      expect(messageHandler.validateMessage(message)).toBe(false);\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 395,
      "column": 41,
      "context": "      const message: WebSocketMessage = {\r\n        type: 'subscribe',\r\n        data: { bill_id: 'not_a_number' as any },\r\n      };\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 413,
      "column": 42,
      "context": "      const message: WebSocketMessage = {\r\n        type: 'batch_subscribe',\r\n        data: { bill_ids: 'not_an_array' as any },\r\n      };\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 422,
      "column": 28,
      "context": "      const message: WebSocketMessage = {\r\n        type: 'auth',\r\n        data: { token: 123 as any },\r\n      };\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 431,
      "column": 46,
      "context": "      const message: WebSocketMessage = {\r\n        type: 'update_preferences',\r\n        data: { preferences: 'not_an_object' as any },\r\n      };\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 442,
      "column": 36,
      "context": "      const message: WebSocketMessage = {\r\n        type: 'subscribe',\r\n        data: { bill_id: 'invalid' as any },\r\n        messageId: 'validation_error_test',\r\n      };\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 457,
      "column": 43,
      "context": "      const message: WebSocketMessage = {\r\n        type: 'batch_subscribe',\r\n        data: { bill_ids: [123, 'invalid' as any, 789] },\r\n        messageId: 'batch_validation_error',\r\n      };\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\domain\\services\\bill-domain-service.ts",
      "line": 620,
      "column": 19,
      "context": "      await this.eventPublisher.publish(new BillStatusChangedEvent(\r\n        bill_id,\r\n        'unknown' as any, // We don't know the old status in bulk operations\r\n        newStatus,\r\n        updatedBy\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\domain\\services\\unified-alert-preference-service.ts",
      "line": 763,
      "column": 66,
      "context": "    try {\r\n      const cached = await cacheService.get(cacheKey);\r\n      if (cached !== null && cached !== undefined) return cached as any;\r\n    } catch (err) { logger.warn('Cache read failed for alert stats', { component: 'AlertPreferenceService', user_id, error: err  });\r\n    }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\domain\\services\\alert-delivery-service.ts",
      "line": 217,
      "column": 18,
      "context": "      alertType,\r\n      [], // No channels for filtered alerts\r\n      'filtered' as any,\r\n      0,\r\n      new Date(),\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\domain\\services\\alert-delivery-service.ts",
      "line": 246,
      "column": 17,
      "context": "      alertType,\r\n      channels,\r\n      'pending' as any,\r\n      0,\r\n      new Date(),\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\domain\\services\\alert-delivery-service.ts",
      "line": 280,
      "column": 14,
      "context": "      alertType,\r\n      channels,\r\n      status as any,\r\n      success ? 0 : 1,\r\n      new Date(),\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\__tests__\\websocket-reconnection.property.test.ts",
      "line": 74,
      "column": 42,
      "context": "  beforeEach(() => {\r\n    // Save original WebSocket\r\n    originalWebSocket = global.WebSocket as any;\r\n\r\n    // Mock WebSocket constructor\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\__tests__\\websocket-reconnection.property.test.ts",
      "line": 80,
      "column": 23,
      "context": "      const instance = new MockWebSocket(url);\r\n      mockWebSocketInstances.push(instance);\r\n      return instance as any;\r\n    }) as any;\r\n\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\__tests__\\websocket-reconnection.property.test.ts",
      "line": 81,
      "column": 8,
      "context": "      mockWebSocketInstances.push(instance);\r\n      return instance as any;\r\n    }) as any;\r\n\r\n    // Add static properties\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\__tests__\\websocket-reconnection.property.test.ts",
      "line": 84,
      "column": 23,
      "context": "\r\n    // Add static properties\r\n    (global.WebSocket as any).CONNECTING = MockWebSocket.CONNECTING;\r\n    (global.WebSocket as any).OPEN = MockWebSocket.OPEN;\r\n    (global.WebSocket as any).CLOSING = MockWebSocket.CLOSING;\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\__tests__\\websocket-reconnection.property.test.ts",
      "line": 85,
      "column": 23,
      "context": "    // Add static properties\r\n    (global.WebSocket as any).CONNECTING = MockWebSocket.CONNECTING;\r\n    (global.WebSocket as any).OPEN = MockWebSocket.OPEN;\r\n    (global.WebSocket as any).CLOSING = MockWebSocket.CLOSING;\r\n    (global.WebSocket as any).CLOSED = MockWebSocket.CLOSED;\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\__tests__\\websocket-reconnection.property.test.ts",
      "line": 86,
      "column": 23,
      "context": "    (global.WebSocket as any).CONNECTING = MockWebSocket.CONNECTING;\r\n    (global.WebSocket as any).OPEN = MockWebSocket.OPEN;\r\n    (global.WebSocket as any).CLOSING = MockWebSocket.CLOSING;\r\n    (global.WebSocket as any).CLOSED = MockWebSocket.CLOSED;\r\n\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\__tests__\\websocket-reconnection.property.test.ts",
      "line": 87,
      "column": 23,
      "context": "    (global.WebSocket as any).OPEN = MockWebSocket.OPEN;\r\n    (global.WebSocket as any).CLOSING = MockWebSocket.CLOSING;\r\n    (global.WebSocket as any).CLOSED = MockWebSocket.CLOSED;\r\n\r\n    mockWebSocketInstances = [];\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "shared\\ml\\testing\\test-server.ts",
      "line": 76,
      "column": 28,
      "context": "\r\n    const result = await mlOrchestrator.processRequest({\r\n      modelType: modelType as any,\r\n      input,\r\n      options: {\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\ml\\testing\\test-server.ts",
      "line": 113,
      "column": 28,
      "context": "\r\n    const result = await mlOrchestrator.processRequest({\r\n      modelType: modelType as any,\r\n      input: sampleInput,\r\n      options: {\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\ml\\services\\analysis-pipeline.ts",
      "line": 856,
      "column": 42,
      "context": "        if (expression.startsWith('this.')) {\n          const methodName = expression.match(/this\\.(\\w+)/)?.[1];\n          if (methodName && typeof (this as any)[methodName] === 'function') {\n            finalOutput[key] = (this as any)[methodName](stepOutputs);\n          } else {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\ml\\services\\analysis-pipeline.ts",
      "line": 857,
      "column": 38,
      "context": "          const methodName = expression.match(/this\\.(\\w+)/)?.[1];\n          if (methodName && typeof (this as any)[methodName] === 'function') {\n            finalOutput[key] = (this as any)[methodName](stepOutputs);\n          } else {\n            finalOutput[key] = SafeExpressionEvaluator.evaluate(expression, context);",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\type-guards.ts",
      "line": 88,
      "column": 51,
      "context": "  static isPromise(value: any): value is Promise<any> {\r\n    return value instanceof Promise ||\r\n           (this.isObject(value) && typeof (value as any).then === 'function');\r\n  }\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\type-guards.ts",
      "line": 171,
      "column": 31,
      "context": "      if (field in obj) {\r\n        try {\r\n          if (!validator((obj as any)[field])) {\r\n            errors.push(`Field '${field}' failed validation`);\r\n          }\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\security-utils.test.ts",
      "line": 66,
      "column": 34,
      "context": "\r\n      it('should handle non-string input', () => {\r\n        expect(sanitizeHtml(null as any)).toBe('');\r\n        expect(sanitizeHtml(undefined as any)).toBe('');\r\n      });\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\core\\utils\\security-utils.test.ts",
      "line": 67,
      "column": 39,
      "context": "      it('should handle non-string input', () => {\r\n        expect(sanitizeHtml(null as any)).toBe('');\r\n        expect(sanitizeHtml(undefined as any)).toBe('');\r\n      });\r\n    });\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\core\\utils\\security-utils.test.ts",
      "line": 421,
      "column": 32,
      "context": "  describe('Edge Cases and Error Handling', () => {\r\n    it('should handle null input in sanitizeHtml', () => {\r\n      expect(sanitizeHtml(null as any)).toBe('');\r\n    });\r\n\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\core\\utils\\security-utils.test.ts",
      "line": 425,
      "column": 37,
      "context": "\r\n    it('should handle undefined input in sanitizeHtml', () => {\r\n      expect(sanitizeHtml(undefined as any)).toBe('');\r\n    });\r\n\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\core\\utils\\security-utils.test.ts",
      "line": 429,
      "column": 31,
      "context": "\r\n    it('should handle non-string input in sanitizeSql', () => {\r\n      expect(sanitizeSql(null as any)).toBe('');\r\n      expect(sanitizeSql(undefined as any)).toBe('');\r\n    });\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\core\\utils\\security-utils.test.ts",
      "line": 430,
      "column": 36,
      "context": "    it('should handle non-string input in sanitizeSql', () => {\r\n      expect(sanitizeSql(null as any)).toBe('');\r\n      expect(sanitizeSql(undefined as any)).toBe('');\r\n    });\r\n\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\core\\utils\\security-utils.test.ts",
      "line": 434,
      "column": 36,
      "context": "\r\n    it('should handle non-string input in sanitizeFilename', () => {\r\n      expect(sanitizeFilename(null as any)).toBe('');\r\n      expect(sanitizeFilename(undefined as any)).toBe('');\r\n    });\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\core\\utils\\security-utils.test.ts",
      "line": 435,
      "column": 41,
      "context": "    it('should handle non-string input in sanitizeFilename', () => {\r\n      expect(sanitizeFilename(null as any)).toBe('');\r\n      expect(sanitizeFilename(undefined as any)).toBe('');\r\n    });\r\n\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\core\\utils\\security-utils.test.ts",
      "line": 439,
      "column": 41,
      "context": "\r\n    it('should handle non-string input in validateEmail', () => {\r\n      const result = validateEmail(null as any);\r\n      expect(result.isValid).toBe(false);\r\n      expect(result.errors).toContain('Email is required');\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\core\\utils\\security-utils.test.ts",
      "line": 445,
      "column": 39,
      "context": "\r\n    it('should handle non-string input in validateUrl', () => {\r\n      const result = validateUrl(null as any);\r\n      expect(result.isValid).toBe(false);\r\n      expect(result.errors).toContain('URL is required');\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\core\\utils\\performance-utils.ts",
      "line": 400,
      "column": 48,
      "context": " */\nexport function forceGarbageCollection(): void {\n  if (typeof global !== 'undefined' && (global as any).gc) {\n    (global as any).gc();\n    safeLog.debug('Forced garbage collection', { component: 'performance' });",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\performance-utils.ts",
      "line": 401,
      "column": 13,
      "context": "export function forceGarbageCollection(): void {\n  if (typeof global !== 'undefined' && (global as any).gc) {\n    (global as any).gc();\n    safeLog.debug('Forced garbage collection', { component: 'performance' });\n  }",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\concurrency-migration-router.ts",
      "line": 174,
      "column": 43,
      "context": "        withLock: async <T>(fn: () => Promise<T>) => legacyGlobalMutex.withLock(fn),\r\n        withLimit: async <T>(fn: () => Promise<T>) => legacyApiSemaphore.withPermit(fn),\r\n        getMutex: () => legacyGlobalMutex as any,\r\n        getStats: () => ({\r\n          isLocked: legacyGlobalMutex.isLocked(),\r",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\common-utils.ts",
      "line": 267,
      "column": 66,
      "context": "    for (const key in source) {\r\n      if (source[key] && typeof source[key] === 'object' && !Array.isArray(source[key])) {\r\n        result[key] = objects.deepMerge(result[key], source[key] as any);\r\n      } else {\r\n        result[key] = source[key] as any;\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\common-utils.ts",
      "line": 269,
      "column": 35,
      "context": "        result[key] = objects.deepMerge(result[key], source[key] as any);\r\n      } else {\r\n        result[key] = source[key] as any;\r\n      }\r\n    }\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "shared\\platform\\kenya\\anonymity\\anonymity-helper.ts",
      "line": 59,
      "column": 27,
      "context": "    allow_direct_messages: true,\r\n    public_profile: true,\r\n    ...((privacy_settings as any) || {})\r\n  };\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\primitives\\types\\branded.ts",
      "line": 22,
      "column": 86,
      "context": " */\r\nexport function isBranded<T, B extends string>(value: unknown, brand: B): value is Brand<T, B> {\r\n  return typeof value === 'object' && value !== null && '__brand' in value && (value as any).__brand === brand;\r\n}\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\middleware\\error-handler\\provider.ts",
      "line": 18,
      "column": 33,
      "context": "      console.error('Error:', error);\r\n      \r\n      const statusCode = (error as any).statusCode || 500;\r\n      const response: any = {\r\n        error: error.message || 'Internal server error',\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\middleware\\error-handler\\provider.ts",
      "line": 21,
      "column": 22,
      "context": "      const response: any = {\r\n        error: error.message || 'Internal server error',\r\n        code: (error as any).code || 'INTERNAL_ERROR'\r\n      };\r\n\r",
      "category": "api_response",
      "severity": "medium"
    }
  ]
}