{
  "timestamp": "2026-02-14T15:25:20.664Z",
  "totalViolations": 888,
  "byCategory": {
    "enum_conversion": 340,
    "dynamic_property": 129,
    "api_response": 17,
    "database_operation": 83,
    "type_assertion": 5,
    "test_code": 45,
    "other": 269
  },
  "byFile": {
    "client\\src\\main.tsx": 1,
    "client\\src\\scripts\\run-emergency-triage.ts": 2,
    "client\\src\\core\\core-monitoring.ts": 2,
    "client\\src\\tests\\performance\\home-page-performance.test.tsx": 2,
    "client\\src\\lib\\utils\\preload-optimizer.ts": 1,
    "client\\src\\lib\\utils\\investor-demo-enhancements.ts": 1,
    "client\\src\\lib\\utils\\env-config.ts": 3,
    "client\\src\\lib\\utils\\emergency-triage.ts": 2,
    "client\\src\\lib\\utils\\api-error-handler.ts": 4,
    "client\\src\\lib\\templates\\component-templates.ts": 2,
    "client\\src\\lib\\services\\services-monitoring.ts": 2,
    "client\\src\\lib\\services\\factory.ts": 4,
    "client\\src\\lib\\recovery\\index.ts": 2,
    "client\\src\\lib\\hooks\\useValidation.ts": 2,
    "client\\src\\lib\\hooks\\useOfflineDetection.tsx": 2,
    "client\\src\\lib\\hooks\\useOfflineCapabilities.ts": 2,
    "client\\src\\lib\\hooks\\use-performance-monitor.ts": 2,
    "client\\src\\lib\\hooks\\use-offline-detection.ts": 2,
    "client\\src\\lib\\hooks\\use-i18n.tsx": 2,
    "client\\src\\lib\\hooks\\hooks-monitoring.ts": 2,
    "client\\src\\lib\\demo\\community-integration-demo.ts": 1,
    "client\\src\\features\\bills\\hooks.ts": 2,
    "client\\src\\core\\security\\vulnerability-scanner.ts": 4,
    "client\\src\\core\\security\\security-monitoring.ts": 5,
    "client\\src\\core\\security\\input-sanitizer.ts": 4,
    "client\\src\\core\\security\\index.ts": 1,
    "client\\src\\core\\security\\csp-manager.ts": 4,
    "client\\src\\core\\search\\UnifiedSearchInterface.tsx": 1,
    "client\\src\\core\\realtime\\websocket-client.ts": 3,
    "client\\src\\core\\realtime\\manager.ts": 8,
    "client\\src\\core\\personalization\\persona-detector.test.tsx": 2,
    "client\\src\\core\\performance\\monitor.ts": 1,
    "client\\src\\core\\navigation\\test-navigation.ts": 3,
    "client\\src\\core\\navigation\\route-preloading.ts": 1,
    "client\\src\\core\\navigation\\NavigationPerformance.test.tsx": 6,
    "client\\src\\core\\navigation\\NavigationConsistency.tsx": 2,
    "client\\src\\core\\navigation\\NavigationConsistency.test.tsx": 2,
    "client\\src\\core\\navigation\\context.tsx": 4,
    "client\\src\\core\\monitoring\\monitoring-init.ts": 1,
    "client\\src\\core\\dashboard\\utils.ts": 9,
    "client\\src\\core\\dashboard\\context.tsx": 3,
    "client\\src\\core\\browser\\polyfill-manager.ts": 4,
    "client\\src\\core\\browser\\BrowserCompatibilityReport.tsx": 1,
    "client\\src\\core\\auth\\service.ts": 1,
    "client\\src\\core\\auth\\initialization.ts": 1,
    "client\\src\\core\\api\\system.ts": 1,
    "client\\src\\core\\analytics\\comprehensive-tracker.ts": 4,
    "client\\src\\core\\analytics\\AnalyticsIntegration.tsx": 1,
    "client\\src\\__tests__\\strategic\\monitoring\\performance-monitor.test.ts": 3,
    "client\\src\\__tests__\\strategic\\monitoring\\monitoring-init.test.ts": 1,
    "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts": 11,
    "client\\src\\__tests__\\strategic\\error-handling\\cross-system-propagation.test.tsx": 9,
    "client\\src\\lib\\ui\\status\\connection-status.tsx": 1,
    "client\\src\\lib\\ui\\loading\\validation.ts": 1,
    "client\\src\\lib\\ui\\loading\\GlobalLoadingProvider.tsx": 2,
    "client\\src\\lib\\ui\\loading\\errors.ts": 4,
    "client\\src\\lib\\ui\\dashboard\\DashboardFramework.tsx": 4,
    "client\\src\\lib\\ui\\dashboard\\AdaptiveDashboard.tsx": 1,
    "client\\src\\lib\\ui\\dashboard\\action-items.tsx": 1,
    "client\\src\\lib\\infrastructure\\monitoring\\monitoring-integration.ts": 1,
    "client\\src\\lib\\infrastructure\\monitoring\\cross-system-error-analytics.ts": 5,
    "client\\src\\lib\\hooks\\utils\\performance.ts": 11,
    "client\\src\\lib\\hooks\\utils\\error-handling.ts": 1,
    "client\\src\\lib\\design-system\\utils\\performance.ts": 4,
    "client\\src\\lib\\design-system\\typography\\text.tsx": 1,
    "client\\src\\lib\\design-system\\tokens\\validation.ts": 1,
    "client\\src\\lib\\design-system\\standards\\low-bandwidth.ts": 1,
    "client\\src\\lib\\design-system\\standards\\interactive-states.ts": 2,
    "client\\src\\lib\\design-system\\media\\Logo.tsx": 1,
    "client\\src\\lib\\design-system\\interactive\\Calendar.tsx": 1,
    "client\\src\\lib\\data\\mock\\realtime.ts": 1,
    "client\\src\\lib\\data\\mock\\discussions.ts": 4,
    "client\\src\\lib\\data\\mock\\community.ts": 4,
    "client\\src\\lib\\data\\mock\\bills.ts": 2,
    "client\\src\\lib\\components\\performance\\PerformanceMonitor.tsx": 1,
    "client\\src\\lib\\components\\home\\RecentActivity.tsx": 1,
    "client\\src\\features\\users\\services\\dashboard-service.ts": 1,
    "client\\src\\features\\search\\services\\intelligent-search.ts": 2,
    "client\\src\\features\\monitoring\\model\\performance-benchmarking.ts": 1,
    "client\\src\\features\\monitoring\\model\\continuous-performance-monitor.ts": 1,
    "client\\src\\features\\community\\hooks\\useDiscussion.ts": 2,
    "client\\src\\features\\community\\hooks\\useCommunityIntegration.ts": 1,
    "client\\src\\features\\bills\\services\\tracking.ts": 5,
    "client\\src\\features\\bills\\ui\\bills-dashboard.tsx": 1,
    "client\\src\\features\\bills\\pages\\BillsPortalPage.tsx": 2,
    "client\\src\\features\\analytics\\model\\offline-analytics.ts": 1,
    "client\\src\\features\\analytics\\hooks\\use-journey-tracker.ts": 2,
    "client\\src\\core\\security\\__tests__\\unified-security.test.ts": 3,
    "client\\src\\core\\security\\unified\\input-sanitizer.ts": 4,
    "client\\src\\core\\security\\unified\\error-middleware.ts": 4,
    "client\\src\\core\\security\\unified\\csp-manager.ts": 5,
    "client\\src\\core\\security\\migration\\compatibility-layer.ts": 4,
    "client\\src\\core\\realtime\\services\\notifications.ts": 3,
    "client\\src\\core\\realtime\\services\\community.ts": 6,
    "client\\src\\core\\realtime\\hooks\\use-websocket.ts": 9,
    "client\\src\\core\\navigation\\hooks\\use-navigation-performance.ts": 2,
    "client\\src\\core\\loading\\utils\\connection-utils.ts": 1,
    "client\\src\\core\\error\\middleware\\hooks-middleware.ts": 5,
    "client\\src\\core\\error\\components\\example.tsx": 2,
    "client\\src\\core\\community\\hooks\\useUnifiedDiscussion.ts": 1,
    "client\\src\\core\\api\\services\\user.service.ts": 3,
    "client\\src\\core\\api\\services\\bill.service.ts": 4,
    "client\\src\\lib\\ui\\navigation\\utils\\navigation-utils.ts": 3,
    "client\\src\\lib\\ui\\navigation\\performance\\NavigationPerformanceDashboard.tsx": 1,
    "client\\src\\lib\\ui\\navigation\\hooks\\useRouteAccess.ts": 1,
    "client\\src\\lib\\ui\\mobile\\interaction\\PullToRefresh.tsx": 2,
    "client\\src\\lib\\ui\\loading\\utils\\connection-utils.ts": 3,
    "client\\src\\lib\\ui\\loading\\hooks\\useTimeoutAwareLoading.ts": 2,
    "client\\src\\lib\\ui\\loading\\examples\\GlobalLoadingExample.tsx": 1,
    "client\\src\\lib\\ui\\dashboard\\widgets\\DashboardWidget.tsx": 1,
    "client\\src\\lib\\ui\\dashboard\\hooks\\useDashboard.ts": 3,
    "client\\src\\features\\users\\ui\\profile\\UserProfileSection.tsx": 3,
    "client\\src\\features\\users\\ui\\onboarding\\UserJourneyOptimizer.tsx": 1,
    "client\\src\\features\\community\\ui\\discussion\\CommentForm.tsx": 1,
    "client\\src\\features\\bills\\ui\\tracking\\real-time-tracker.tsx": 3,
    "client\\src\\core\\error\\components\\utils\\error-reporter.ts": 2,
    "client\\src\\core\\error\\components\\utils\\error-normalizer.ts": 2,
    "client\\src\\features\\bills\\ui\\analysis\\conflict-of-interest\\ConflictNetworkVisualization.tsx": 3,
    "server\\utils\\db-init.ts": 5,
    "server\\utils\\db-helpers.ts": 4,
    "server\\storage\\user-storage-with-transformers.example.ts": 3,
    "server\\storage\\bill-storage-with-transformers.example.ts": 7,
    "server\\routes\\regulatory-monitoring.ts": 2,
    "server\\middleware\\validation-middleware.ts": 1,
    "server\\middleware\\privacy-middleware.ts": 3,
    "server\\middleware\\error-management.ts": 2,
    "server\\middleware\\circuit-breaker-middleware.ts": 1,
    "server\\middleware\\boom-error-middleware.ts": 12,
    "server\\middleware\\api-contract-validation.ts": 4,
    "server\\middleware\\ai-middleware.ts": 2,
    "server\\config\\index.ts": 1,
    "server\\tests\\utils\\logger.ts": 1,
    "server\\tests\\integration\\websocket-backward-compatibility.test.ts": 10,
    "server\\infrastructure\\security\\input-validation-service.ts": 1,
    "server\\infrastructure\\security\\data-privacy-service.ts": 2,
    "server\\infrastructure\\schema\\validation-integration.ts": 1,
    "server\\infrastructure\\schema\\schema-generators.ts": 2,
    "server\\infrastructure\\schema\\integration.ts": 6,
    "server\\infrastructure\\schema\\integration-extended.ts": 25,
    "server\\infrastructure\\observability\\index.ts": 1,
    "server\\infrastructure\\observability\\external-api-management.ts": 1,
    "server\\infrastructure\\observability\\audit-log.ts": 5,
    "server\\infrastructure\\notifications\\smart-notification-filter.ts": 1,
    "server\\infrastructure\\notifications\\notification-scheduler.ts": 1,
    "server\\infrastructure\\notifications\\notification-orchestrator.ts": 2,
    "server\\infrastructure\\notifications\\notification-channels.ts": 2,
    "server\\infrastructure\\notifications\\email-service.ts": 2,
    "server\\infrastructure\\migration\\repository-deployment-validator.ts": 3,
    "server\\infrastructure\\migration\\phase1-deployment-orchestrator.ts": 5,
    "server\\infrastructure\\migration\\deployment-orchestrator.ts": 3,
    "server\\infrastructure\\migration\\deployment-monitoring-dashboard.ts": 3,
    "server\\infrastructure\\integration\\service-orchestrator.ts": 3,
    "server\\infrastructure\\errors\\recovery-patterns.ts": 1,
    "server\\infrastructure\\errors\\migration-example.ts": 3,
    "server\\infrastructure\\errors\\error-configuration.ts": 8,
    "server\\infrastructure\\database\\monitoring.ts": 7,
    "server\\infrastructure\\config\\manager.ts": 1,
    "server\\infrastructure\\config\\index.ts": 1,
    "server\\infrastructure\\cache\\single-flight-cache.ts": 2,
    "server\\infrastructure\\cache\\interfaces.ts": 1,
    "server\\infrastructure\\cache\\factory.ts": 3,
    "server\\infrastructure\\cache\\caching-service.ts": 1,
    "server\\infrastructure\\cache\\cache-factory.ts": 6,
    "server\\features\\search\\SearchController.ts": 5,
    "server\\features\\search\\SearchController.OLD.ts": 5,
    "server\\features\\notifications\\notification-router.ts": 15,
    "server\\features\\notifications\\notification-router.OLD.ts": 9,
    "server\\features\\market\\market.service.ts": 1,
    "server\\features\\government-data\\routes.ts": 1,
    "server\\features\\community\\social-integration.ts": 1,
    "server\\features\\community\\community.ts": 9,
    "server\\features\\community\\community.OLD.ts": 7,
    "server\\features\\community\\comment.ts": 1,
    "server\\features\\bills\\voting-pattern-analysis.ts": 5,
    "server\\features\\bills\\voting-pattern-analysis-router.ts": 5,
    "server\\features\\bills\\sponsorship.routes.ts": 4,
    "server\\features\\bills\\bills-router.OLD.ts": 11,
    "server\\features\\bills\\bills-router-migrated.ts": 3,
    "server\\features\\bills\\bill-tracking.routes.ts": 2,
    "server\\features\\argument-intelligence\\argument-intelligence-router.ts": 2,
    "server\\features\\analytics\\transparency-dashboard.ts": 5,
    "server\\features\\analytics\\regulatory-change-monitoring.ts": 6,
    "server\\features\\analytics\\ml-analysis.ts": 2,
    "server\\features\\analytics\\engagement-analytics.ts": 1,
    "server\\features\\analysis\\analysis.routes.ts": 1,
    "server\\features\\analysis\\analysis.routes.OLD.ts": 1,
    "server\\features\\admin\\external-api-dashboard.ts": 1,
    "server\\features\\admin\\admin.ts": 1,
    "server\\features\\accountability\\ledger.service.ts": 2,
    "server\\infrastructure\\websocket\\utils\\circular-buffer.ts": 2,
    "server\\infrastructure\\websocket\\monitoring\\metrics-reporter.test.ts": 1,
    "server\\infrastructure\\websocket\\core\\websocket-service.ts": 1,
    "server\\infrastructure\\database\\graph\\sync-executor.ts": 4,
    "server\\infrastructure\\core\\validation\\validation-services-init.ts": 1,
    "server\\infrastructure\\core\\errors\\error-tracker.ts": 11,
    "server\\infrastructure\\core\\auth\\auth.ts": 2,
    "server\\infrastructure\\core\\auth\\auth.OLD.ts": 2,
    "server\\infrastructure\\core\\auth\\auth-service.ts": 3,
    "server\\infrastructure\\cache\\utilities\\cache-warmer.ts": 1,
    "server\\infrastructure\\cache\\monitoring\\metrics-collector.ts": 1,
    "server\\infrastructure\\cache\\clustering\\cluster-manager.ts": 1,
    "server\\infrastructure\\adapters\\mappings\\user-mapping.ts": 1,
    "server\\features\\users\\domain\\user-profile.ts": 4,
    "server\\features\\users\\domain\\citizen-verification.ts": 7,
    "server\\features\\users\\application\\verification.ts": 1,
    "server\\features\\users\\application\\verification.OLD.ts": 1,
    "server\\features\\users\\application\\users.ts": 1,
    "server\\features\\users\\application\\user-service-direct.ts": 2,
    "server\\features\\users\\application\\user-application-service.ts": 5,
    "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts": 24,
    "server\\features\\search\\engines\\dual-engine-orchestrator.ts": 1,
    "server\\features\\search\\deployment\\search-deployment.service.ts": 1,
    "server\\features\\safeguards\\application\\moderation-service.ts": 1,
    "server\\features\\recommendation\\infrastructure\\RecommendationRepository.ts": 2,
    "server\\features\\government-data\\services\\government-data-integration.service.ts": 5,
    "server\\features\\constitutional-analysis\\application\\constitutional-analysis-service-complete.ts": 8,
    "server\\features\\bills\\repositories\\sponsorship-repository.ts": 39,
    "server\\features\\bills\\infrastructure\\bill-storage.ts": 1,
    "server\\features\\bills\\application\\sponsorship-analysis.service.ts": 1,
    "server\\features\\bills\\application\\bills.ts": 1,
    "server\\features\\bills\\application\\bill-tracking.service.ts": 12,
    "server\\features\\bills\\application\\bill-service.ts": 12,
    "server\\features\\argument-intelligence\\application\\argument-processor.ts": 1,
    "server\\features\\analytics\\services\\engagement.service.ts": 4,
    "server\\features\\analytics\\financial-disclosure\\monitoring.ts": 2,
    "server\\features\\analytics\\financial-disclosure\\index.ts": 5,
    "server\\features\\analytics\\middleware\\analytics-context.ts": 6,
    "server\\features\\analytics\\config\\analytics.config.ts": 2,
    "server\\features\\analysis\\application\\constitutional-analysis.service.ts": 3,
    "server\\features\\alert-preferences\\application\\alert-preferences-service.ts": 9,
    "server\\features\\advocacy\\application\\impact-tracker.ts": 1,
    "server\\features\\admin\\moderation\\moderation-orchestrator.service.ts": 1,
    "server\\infrastructure\\websocket\\core\\__tests__\\subscription-manager.test.ts": 5,
    "server\\infrastructure\\websocket\\core\\__tests__\\operation-queue-manager.test.ts": 1,
    "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts": 14,
    "server\\infrastructure\\database\\graph\\core\\sync-executor.ts": 4,
    "server\\features\\users\\domain\\services\\user-verification-domain-service.ts": 6,
    "server\\features\\users\\domain\\services\\user-management-domain-service.ts": 1,
    "server\\features\\users\\domain\\services\\profile-domain-service.ts": 1,
    "server\\features\\users\\application\\middleware\\validation-middleware.ts": 5,
    "server\\features\\search\\engines\\core\\postgresql-fulltext.engine.ts": 2,
    "server\\features\\bills\\domain\\services\\bill-domain-service.ts": 1,
    "server\\features\\alert-preferences\\domain\\services\\unified-alert-preference-service.ts": 16,
    "server\\features\\alert-preferences\\domain\\services\\alert-delivery-service.ts": 3,
    "shared\\utils\\errors\\transform.ts": 8,
    "shared\\types\\performance\\bundle-analysis.ts": 1,
    "shared\\types\\migration\\migration-tools.ts": 3,
    "shared\\types\\migration\\migration-helpers.ts": 1,
    "shared\\types\\api\\factories.ts": 1,
    "shared\\ml\\testing\\test-server.ts": 2,
    "shared\\ml\\services\\analysis-pipeline.ts": 2,
    "shared\\ml\\models\\transparency-scorer.ts": 1,
    "shared\\ml\\models\\sentiment-analyzer.ts": 1,
    "shared\\ml\\models\\real-time-classifier.ts": 2,
    "shared\\ml\\models\\influence-mapper.ts": 1,
    "shared\\ml\\models\\engagement-predictor.ts": 1,
    "shared\\ml\\models\\constitutional-analyzer.ts": 1,
    "shared\\core\\utils\\type-guards.ts": 2,
    "shared\\core\\utils\\security-utils.test.ts": 10,
    "shared\\core\\utils\\performance-utils.ts": 2,
    "shared\\core\\utils\\concurrency-migration-router.ts": 1,
    "shared\\core\\utils\\common-utils.ts": 2,
    "shared\\core\\utils\\browser-logger.ts": 12,
    "shared\\types\\testing\\examples\\runtime-validation.example.ts": 1,
    "shared\\platform\\kenya\\anonymity\\anonymity-helper.ts": 1,
    "shared\\core\\primitives\\types\\branded.ts": 1,
    "shared\\core\\middleware\\auth\\provider.ts": 2
  },
  "bySeverity": {
    "critical": 0,
    "high": 0,
    "medium": 843,
    "low": 45
  },
  "violations": [
    {
      "file": "client\\src\\main.tsx",
      "line": 26,
      "column": 37,
      "context": "function setupProcessEnvironment(): void {\n  try {\n    const globalWindow = globalThis as any;\n\n    if (typeof globalWindow.process === 'undefined') {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\scripts\\run-emergency-triage.ts",
      "line": 362,
      "column": 11,
      "context": "if (typeof window !== 'undefined') {\n  // Make available globally for browser console usage\n  (window as any).EmergencyTriageRunner = EmergencyTriageRunner;\n  (window as any).startEmergencyTriage = () => {\n    const runner = new EmergencyTriageRunner();",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\scripts\\run-emergency-triage.ts",
      "line": 363,
      "column": 11,
      "context": "  // Make available globally for browser console usage\n  (window as any).EmergencyTriageRunner = EmergencyTriageRunner;\n  (window as any).startEmergencyTriage = () => {\n    const runner = new EmergencyTriageRunner();\n    return runner.start();",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\core-monitoring.ts",
      "line": 51,
      "column": 56,
      "context": "    if (!this.monitoringEnabled) return;\n\n    const appError = error instanceof Error && !(error as any).type\n      ? createError(\n          CoreErrorDomain.SYSTEM,",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\core-monitoring.ts",
      "line": 562,
      "column": 68,
      "context": "\n  private isOperationEnabled(operation: string): boolean {\n    const monitoring = ServiceArchitectureMonitoring.getInstance() as any;\n    return monitoring.enabledOperations.has('*') || monitoring.enabledOperations.has(operation);\n  }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\tests\\performance\\home-page-performance.test.tsx",
      "line": 53,
      "column": 25,
      "context": "          let clsValue = 0;\n          for (const entry of list.getEntries()) {\n            if (!(entry as any).hadRecentInput) {\n              clsValue += (entry as any).value;\n            }",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\tests\\performance\\home-page-performance.test.tsx",
      "line": 54,
      "column": 34,
      "context": "          for (const entry of list.getEntries()) {\n            if (!(entry as any).hadRecentInput) {\n              clsValue += (entry as any).value;\n            }\n          }",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\lib\\utils\\preload-optimizer.ts",
      "line": 65,
      "column": 13,
      "context": "    // Set priority if supported\n    if (config.priority && 'fetchPriority' in link) {\n      (link as any).fetchPriority = config.priority;\n    }\n",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\utils\\investor-demo-enhancements.ts",
      "line": 136,
      "column": 52,
      "context": "\n  getDemoUserType(): 'basic' | 'premium' | 'expert' {\n    return (localStorage.getItem('demo-user-type') as any) || 'basic';\n  }\n}",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\utils\\env-config.ts",
      "line": 39,
      "column": 50,
      "context": "  // Helper function to safely access environment variables\n  const getEnv = (key: string, defaultValue = ''): string => {\n    if (typeof window !== 'undefined' && (window as any).ENV) {\n      return (window as any).ENV[key] || defaultValue;\n    }",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\utils\\env-config.ts",
      "line": 40,
      "column": 22,
      "context": "  const getEnv = (key: string, defaultValue = ''): string => {\n    if (typeof window !== 'undefined' && (window as any).ENV) {\n      return (window as any).ENV[key] || defaultValue;\n    }\n    // Fallback for build-time environment variables",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\utils\\env-config.ts",
      "line": 44,
      "column": 27,
      "context": "    // Fallback for build-time environment variables\n    try {\n      return (import.meta as any).env?.[key] || defaultValue;\n    } catch {\n      return defaultValue;",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\utils\\emergency-triage.ts",
      "line": 433,
      "column": 30,
      "context": "    const type = f.type;\n    if (typeof type === 'function') {\n      const maybeType = type as any;\n      const componentName = maybeType.displayName || maybeType.name || 'Anonymous';\n      this.trackRender(String(componentName));",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\utils\\emergency-triage.ts",
      "line": 442,
      "column": 22,
      "context": "    while (child) {\n      this.traverseFiber(child);\n      child = (child as any).sibling as unknown;\n    }\n  }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\utils\\api-error-handler.ts",
      "line": 19,
      "column": 19,
      "context": "    error !== null &&\r\n    'error' in error &&\r\n    typeof (error as any).error === 'object' &&\r\n    'code' in (error as any).error &&\r\n    'classification' in (error as any).error &&\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\utils\\api-error-handler.ts",
      "line": 20,
      "column": 22,
      "context": "    'error' in error &&\r\n    typeof (error as any).error === 'object' &&\r\n    'code' in (error as any).error &&\r\n    'classification' in (error as any).error &&\r\n    'correlationId' in (error as any).error\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\utils\\api-error-handler.ts",
      "line": 21,
      "column": 32,
      "context": "    typeof (error as any).error === 'object' &&\r\n    'code' in (error as any).error &&\r\n    'classification' in (error as any).error &&\r\n    'correlationId' in (error as any).error\r\n  );\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\utils\\api-error-handler.ts",
      "line": 22,
      "column": 31,
      "context": "    'code' in (error as any).error &&\r\n    'classification' in (error as any).error &&\r\n    'correlationId' in (error as any).error\r\n  );\r\n}\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\templates\\component-templates.ts",
      "line": 620,
      "column": 31,
      "context": "    } catch (err) {\n      const ${camelName}Error: ${pascalName}Error = {\n        type: 'RUNTIME_ERROR' as any,\n        message: err instanceof Error ? err.message : 'Unknown error',\n        details: { originalError: err },",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\templates\\component-templates.ts",
      "line": 742,
      "column": 18,
      "context": "    data !== null &&\n    'id' in data &&\n    typeof (data as any).id === 'string'\n  );\n}",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\services\\services-monitoring.ts",
      "line": 172,
      "column": 43,
      "context": "  // Private helper methods\n  private ensureAppError(error: AppError | Error, context: ErrorContext): AppError {\n    if (error instanceof Error && !(error as any).type) {\n      return createError(\n        ErrorDomain.SYSTEM,",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\services\\services-monitoring.ts",
      "line": 623,
      "column": 64,
      "context": "\n  private isOperationEnabled(operation: string): boolean {\n    const monitoring = LibraryServicesMonitoring.getInstance() as any;\n    return monitoring.enabledOperations.has('*') \n      || monitoring.enabledOperations.has(operation);",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\services\\factory.ts",
      "line": 249,
      "column": 34,
      "context": "   */\n  private async disposeService(service: ServiceInstance): Promise<void> {\n    if (typeof (service.instance as any).dispose === 'function') {\n      try {\n        await (service.instance as any).dispose();",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\services\\factory.ts",
      "line": 251,
      "column": 33,
      "context": "    if (typeof (service.instance as any).dispose === 'function') {\n      try {\n        await (service.instance as any).dispose();\n      } catch (error) {\n        logger.warn('Service disposal failed', { serviceId: service.registration.id, error });",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\services\\factory.ts",
      "line": 305,
      "column": 36,
      "context": "\n    try {\n      if (typeof (service.instance as any).healthCheck === 'function') {\n        const health = await (service.instance as any).healthCheck();\n        service.health = health ? 'healthy' : 'unhealthy';",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\services\\factory.ts",
      "line": 306,
      "column": 48,
      "context": "    try {\n      if (typeof (service.instance as any).healthCheck === 'function') {\n        const health = await (service.instance as any).healthCheck();\n        service.health = health ? 'healthy' : 'unhealthy';\n      }",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\recovery\\index.ts",
      "line": 53,
      "column": 50,
      "context": "\n    // Log to external service if available\n    if (typeof window !== 'undefined' && (window as any).errorReporting) {\n      (window as any).errorReporting.report(error, { context });\n    }",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\recovery\\index.ts",
      "line": 54,
      "column": 15,
      "context": "    // Log to external service if available\n    if (typeof window !== 'undefined' && (window as any).errorReporting) {\n      (window as any).errorReporting.report(error, { context });\n    }\n  }",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\useValidation.ts",
      "line": 96,
      "column": 59,
      "context": "  try {\r\n    // Create a partial schema for the field\r\n    const fieldSchema = schema.pick({ [fieldName]: true } as any);\r\n    const result = fieldSchema.safeParse({ [fieldName]: value });\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\useValidation.ts",
      "line": 102,
      "column": 28,
      "context": "      return {\r\n        success: true,\r\n        data: (result.data as any)[fieldName],\r\n      };\r\n    }\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\useOfflineDetection.tsx",
      "line": 52,
      "column": 39,
      "context": "    debounceTimerRef.current = setTimeout(() => {\n      if (typeof navigator !== 'undefined' && 'connection' in navigator) {\n        const connection = (navigator as any).connection;\n        if (connection) {\n          const quality: ConnectionQuality = {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\useOfflineDetection.tsx",
      "line": 193,
      "column": 37,
      "context": "  useEffect(() => {\n    if (typeof navigator !== 'undefined' && 'connection' in navigator) {\n      const connection = (navigator as any).connection;\n      if (connection) {\n        const handleConnectionChange = () => {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\useOfflineCapabilities.ts",
      "line": 122,
      "column": 9,
      "context": "         priority: 'high',\n         maxRetries: 3\n      } as any); // Using 'as any' as a temporary workaround because the API is different.\n      // Actually, looking at Step 506, processQueue is public.\n      await backgroundSyncManager.processQueue();",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\useOfflineCapabilities.ts",
      "line": 122,
      "column": 28,
      "context": "         priority: 'high',\n         maxRetries: 3\n      } as any); // Using 'as any' as a temporary workaround because the API is different.\n      // Actually, looking at Step 506, processQueue is public.\n      await backgroundSyncManager.processQueue();",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\use-performance-monitor.ts",
      "line": 119,
      "column": 40,
      "context": "    // Track memory if enabled\n    if (trackMemory && 'memory' in performance) {\n      const memoryUsage = (performance as any).memory.usedJSHeapSize;\n      monitor.recordCustomMetric({\n        name: `${componentName}_memory`,",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\use-performance-monitor.ts",
      "line": 371,
      "column": 55,
      "context": "       // The config types might not strictly match, so we cast or adapt as needed\n       // Assuming partial update is supported\n       monitor.getAlertsManager().updateConfig(config as any);\n    },\n    []",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\use-offline-detection.ts",
      "line": 51,
      "column": 39,
      "context": "    debounceTimerRef.current = setTimeout(() => {\n      if (typeof navigator !== 'undefined' && 'connection' in navigator) {\n        const connection = (navigator as any).connection;\n        if (connection) {\n          const quality: ConnectionQuality = {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\use-offline-detection.ts",
      "line": 192,
      "column": 37,
      "context": "  useEffect(() => {\n    if (typeof navigator !== 'undefined' && 'connection' in navigator) {\n      const connection = (navigator as any).connection;\n      if (connection) {\n        const handleConnectionChange = () => {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\use-i18n.tsx",
      "line": 105,
      "column": 44,
      "context": "              if (process.env.NODE_ENV === 'development' && typeof window !== 'undefined') {\n                const warnedKeysKey = '__i18n_warned_keys__';\n                const warnedKeys = (window as any)[warnedKeysKey] || new Set();\n                if (!warnedKeys.has(key)) {\n                  warnedKeys.add(key);",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\use-i18n.tsx",
      "line": 108,
      "column": 27,
      "context": "                if (!warnedKeys.has(key)) {\n                  warnedKeys.add(key);\n                  (window as any)[warnedKeysKey] = warnedKeys;\n                  console.debug(`[i18n] Missing translation key: ${key}`);\n                }",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\hooks-monitoring.ts",
      "line": 51,
      "column": 56,
      "context": "    if (!this.monitoringEnabled) return;\n\n    const appError = error instanceof Error && !(error as any).type\n      ? createError(\n          ErrorDomain.SYSTEM,",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\hooks-monitoring.ts",
      "line": 531,
      "column": 54,
      "context": "\n  private isOperationEnabled(operation: string): boolean {\n    const monitoring = HooksMonitoring.getInstance() as any;\n    return monitoring.enabledOperations.has('*') || monitoring.enabledOperations.has(operation);\n  }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\demo\\community-integration-demo.ts",
      "line": 36,
      "column": 11,
      "context": "if (typeof window !== 'undefined') {\n  const demo = new CommunityIntegrationDemo();\n  (window as any).communityDemo = demo;\n}\n",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\bills\\hooks.ts",
      "line": 58,
      "column": 37,
      "context": "export function useBills(params: BillsQueryParams = {}) {\n  return useQuery({\n    queryKey: billsKeys.list(params as any), \n    queryFn: () => billsApiService.getBills(params as any),\n    staleTime: 5 * 60 * 1000, // 5 minutes",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\bills\\hooks.ts",
      "line": 59,
      "column": 52,
      "context": "  return useQuery({\n    queryKey: billsKeys.list(params as any), \n    queryFn: () => billsApiService.getBills(params as any),\n    staleTime: 5 * 60 * 1000, // 5 minutes\n    gcTime: 10 * 60 * 1000, // 10 minutes",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\vulnerability-scanner.ts",
      "line": 241,
      "column": 31,
      "context": "  private checkCSP(): VulnerabilityResult {\n    const cspMeta = document.querySelector('meta[http-equiv*=\"Content-Security-Policy\"]');\n    const cspHeader = (window as any).__CSP_POLICY__;\n\n    const hasCSP = cspMeta || cspHeader;",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\vulnerability-scanner.ts",
      "line": 442,
      "column": 31,
      "context": "    // This is a simplified check - in a real implementation,\n    // you'd check against a vulnerability database\n    const buildTime = (window as any).__BUILD_TIME__;\n    const isOld =\n      buildTime && Date.now() - new Date(buildTime).getTime() > 30 * 24 * 60 * 60 * 1000; // 30 days",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\vulnerability-scanner.ts",
      "line": 473,
      "column": 19,
      "context": "\n    sensitiveGlobals.forEach(global => {\n      if ((window as any)[global] !== undefined) {\n        exposedGlobals.push(global);\n      }",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\vulnerability-scanner.ts",
      "line": 500,
      "column": 37,
      "context": "  private checkConsoleExposure(): VulnerabilityResult {\n    // Check if console methods are overridden (indicating debug mode)\n    const originalConsole = (window as any).__originalConsole__;\n    const hasDebugInfo = !!originalConsole || process.env.NODE_ENV === 'development';\n",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\security-monitoring.ts",
      "line": 45,
      "column": 56,
      "context": "    if (!this.monitoringEnabled) return;\n\n    const appError = error instanceof Error && !(error as any).type\n      ? createError(\n          CoreErrorDomain.SECURITY,",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\security-monitoring.ts",
      "line": 51,
      "column": 30,
      "context": "          error.message,\n          {\n            context: context as any, // Cast due to index signature mismatch\n            details: { originalError: error }\n          }",
      "category": "type_assertion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\security-monitoring.ts",
      "line": 93,
      "column": 13,
      "context": "            component: 'SecurityMonitoring',\n            operation: 'performance_tracking'\n          } as any\n        }\n      );",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\security-monitoring.ts",
      "line": 125,
      "column": 22,
      "context": "      existing.errors.push(err);\n      // Assume recovery if error was resolved (simplified logic)\n      if ((err.error as any).recoverySuccess) {\n        existing.recoveryCount++;\n      }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\security-monitoring.ts",
      "line": 428,
      "column": 57,
      "context": "\n  private isOperationEnabled(operation: string): boolean {\n    const monitoring = SecurityMonitoring.getInstance() as any;\n    return monitoring.enabledOperations.has('*') || monitoring.enabledOperations.has(operation);\n  }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\input-sanitizer.ts",
      "line": 97,
      "column": 32,
      "context": "    // Add hooks for threat detection with properly typed parameters\n    DOMPurify.addHook(\n      'beforeSanitizeElements' as any,\n      ((node: Element, data: DOMPurifyHookData) => {\n        this.detectElementThreats(node, data);",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\input-sanitizer.ts",
      "line": 100,
      "column": 10,
      "context": "      ((node: Element, data: DOMPurifyHookData) => {\n        this.detectElementThreats(node, data);\n      }) as any\n    );\n",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\input-sanitizer.ts",
      "line": 104,
      "column": 34,
      "context": "\n    DOMPurify.addHook(\n      'beforeSanitizeAttributes' as any,\n      ((node: Element, data: DOMPurifyHookData) => {\n        this.detectAttributeThreats(node, data);",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\input-sanitizer.ts",
      "line": 107,
      "column": 10,
      "context": "      ((node: Element, data: DOMPurifyHookData) => {\n        this.detectAttributeThreats(node, data);\n      }) as any\n    );\n  }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\index.ts",
      "line": 193,
      "column": 31,
      "context": "    };\n\n    return mockSecuritySystem as any;\n  }\n",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\csp-manager.ts",
      "line": 64,
      "column": 13,
      "context": "\n    // Store nonce for reference (scripts should already have nonces from server)\n    (window as any).__CSP_NONCE__ = this.nonce;\n\n    logger.info('CSP Manager initialized - using server-side CSP headers');",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\csp-manager.ts",
      "line": 135,
      "column": 15,
      "context": "    // Set up reporting endpoint\n    if (typeof window !== 'undefined') {\n      (window as any).__reportCSPViolation__ = (violation: CSPViolation) => {\n        this.handleCSPViolation(violation);\n      };",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\csp-manager.ts",
      "line": 262,
      "column": 13,
      "context": "  refreshNonce(): string {\n    this.nonce = this.generateNonce();\n    (window as any).__CSP_NONCE__ = this.nonce;\n    this.setupCSP(); // Reapply CSP with new nonce\n    return this.nonce;",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\csp-manager.ts",
      "line": 286,
      "column": 28,
      "context": "  isSourceAllowed(directive: string, source: string): boolean {\n    // This is a simplified check - in practice, you'd parse the full CSP\n    const policy = (window as any).__CSP_POLICY__;\n    if (!policy) return false;\n",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\search\\UnifiedSearchInterface.tsx",
      "line": 106,
      "column": 38,
      "context": "        const unifiedQuery: UnifiedSearchQuery = {\n          q: searchQuery,\n          strategy: selectedStrategy as any,\n          limit: strategySelector.getConfig().options.maxResults,\n        };",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\websocket-client.ts",
      "line": 242,
      "column": 7,
      "context": "      subscriptions, // Use the proper subscriptions array format based on SubscriptionMessage\n      timestamp: new Date().toISOString()\n    } as any); // Cast as any to avoid strict type checks against WebSocketMessage union for now if needed\n\n    return true;",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\websocket-client.ts",
      "line": 242,
      "column": 24,
      "context": "      subscriptions, // Use the proper subscriptions array format based on SubscriptionMessage\n      timestamp: new Date().toISOString()\n    } as any); // Cast as any to avoid strict type checks against WebSocketMessage union for now if needed\n\n    return true;",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\websocket-client.ts",
      "line": 260,
      "column": 7,
      "context": "      topic: topicList[0], // Simplified for single topic or first topic if array, protocol seems to require specific structure\n      timestamp: new Date().toISOString()\n    } as any);\n\n    return true;",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\manager.ts",
      "line": 387,
      "column": 64,
      "context": "  private matchesSubscription(subscription: Subscription, message: WebSocketMessage): boolean {\n    // Check topic match\n    if (subscription.topic && (subscription.topic !== (message as any).topic) && subscription.topic !== '*') {\n      return false;\n    }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\manager.ts",
      "line": 401,
      "column": 36,
      "context": "  private matchesFilters(message: WebSocketMessage, filters: Record<string, unknown>): boolean {\n    for (const [key, expectedValue] of Object.entries(filters)) {\n      const actualValue = (message as any)[key];\n\n      if (Array.isArray(expectedValue)) {",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\manager.ts",
      "line": 421,
      "column": 31,
      "context": "      timestamp: new Date(),\n    };\n    // If invalid types, cast as any for now to resolve\n    this.send(message as any); \n  }",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\manager.ts",
      "line": 422,
      "column": 23,
      "context": "    };\n    // If invalid types, cast as any for now to resolve\n    this.send(message as any); \n  }\n",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\manager.ts",
      "line": 431,
      "column": 32,
      "context": "      timestamp: new Date(),\n    };\n     // If invalid types, cast as any for now to resolve\n     this.send(message as any);\n  }",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\manager.ts",
      "line": 432,
      "column": 24,
      "context": "    };\n     // If invalid types, cast as any for now to resolve\n     this.send(message as any);\n  }\n",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\manager.ts",
      "line": 508,
      "column": 34,
      "context": "      }\n\n      this.send({ type: 'ping' } as any);\n    }, this.config.heartbeat?.interval || 30000);\n  }",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\manager.ts",
      "line": 549,
      "column": 30,
      "context": "        timestamp: new Date(),\n      };\n      this.send(batchMessage as any);\n    }\n  }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\personalization\\persona-detector.test.tsx",
      "line": 225,
      "column": 21,
      "context": "        confidence: 0.8,\n        lastUpdated: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(), // 2 days ago\n        metrics: {} as any,\n        preferences: {} as any,\n        history: [],",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\personalization\\persona-detector.test.tsx",
      "line": 226,
      "column": 25,
      "context": "        lastUpdated: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(), // 2 days ago\n        metrics: {} as any,\n        preferences: {} as any,\n        history: [],\n      };",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\performance\\monitor.ts",
      "line": 472,
      "column": 47,
      "context": "    try {\n      // Check for memory API support (Chromium-based browsers)\n      // Using type-safe approach instead of 'as any'\n      const perfWithMemory = window.performance as PerformanceWithMemory;\n      const memory = perfWithMemory.memory;",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\test-navigation.ts",
      "line": 19,
      "column": 20,
      "context": "  path: '/bills/test-bill',\n  href: '/bills/test-bill',\n  icon: 'document' as any, // Simplified for testing\n  section: 'legislative',\n  description: 'A test bill for navigation',",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\test-navigation.ts",
      "line": 31,
      "column": 18,
      "context": "    path: '/',\n    href: '/',\n    icon: 'home' as any,\n    section: 'legislative',\n  },",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\test-navigation.ts",
      "line": 40,
      "column": 19,
      "context": "    path: '/community',\n    href: '/community',\n    icon: 'users' as any,\n    section: 'community',\n    requiresAuth: true,",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\route-preloading.ts",
      "line": 72,
      "column": 34,
      "context": "\n  constructor() {\n    this.connection = (navigator as any).connection || null;\n    this.initializePreloading();\n  }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\NavigationPerformance.test.tsx",
      "line": 250,
      "column": 22,
      "context": "\n      // Check that optimized navigate function is available\n      expect((window as any).__optimizedNavigate).toBeDefined();\n      expect(typeof (window as any).__optimizedNavigate).toBe('function');\n    });",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\NavigationPerformance.test.tsx",
      "line": 251,
      "column": 29,
      "context": "      // Check that optimized navigate function is available\n      expect((window as any).__optimizedNavigate).toBeDefined();\n      expect(typeof (window as any).__optimizedNavigate).toBe('function');\n    });\n",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\NavigationPerformance.test.tsx",
      "line": 261,
      "column": 22,
      "context": "      );\n\n      expect((window as any).__optimizedNavigate).toBeDefined();\n\n      unmount();",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\core\\navigation\\NavigationPerformance.test.tsx",
      "line": 265,
      "column": 22,
      "context": "      unmount();\n\n      expect((window as any).__optimizedNavigate).toBeUndefined();\n    });\n  });",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\core\\navigation\\NavigationPerformance.test.tsx",
      "line": 294,
      "column": 22,
      "context": "    it('should handle missing IntersectionObserver gracefully', () => {\n      const originalIntersectionObserver = window.IntersectionObserver;\n      delete (window as any).IntersectionObserver;\n\n      expect(() => {",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\core\\navigation\\NavigationPerformance.test.tsx",
      "line": 310,
      "column": 22,
      "context": "    it('should handle missing PerformanceObserver gracefully', () => {\n      const originalPerformanceObserver = window.PerformanceObserver;\n      delete (window as any).PerformanceObserver;\n\n      expect(() => {",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\core\\navigation\\NavigationConsistency.tsx",
      "line": 222,
      "column": 50,
      "context": "\n    // Track page view for analytics (if analytics service is available)\n    if (typeof window !== 'undefined' && (window as any).gtag) {\n      (window as any).gtag('config', 'GA_MEASUREMENT_ID', {\n        page_title: metadata.title,",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\NavigationConsistency.tsx",
      "line": 223,
      "column": 15,
      "context": "    // Track page view for analytics (if analytics service is available)\n    if (typeof window !== 'undefined' && (window as any).gtag) {\n      (window as any).gtag('config', 'GA_MEASUREMENT_ID', {\n        page_title: metadata.title,\n        page_location: window.location.href,",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\NavigationConsistency.test.tsx",
      "line": 267,
      "column": 15,
      "context": "    it('should track page views when gtag is available', () => {\n      const mockGtag = vi.fn();\n      (window as any).gtag = mockGtag;\n\n      render(",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\core\\navigation\\NavigationConsistency.test.tsx",
      "line": 281,
      "column": 22,
      "context": "\n      // Cleanup\n      delete (window as any).gtag;\n    });\n",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\core\\navigation\\context.tsx",
      "line": 52,
      "column": 60,
      "context": "\n    // Select navigation state from Redux store\n    const state = useSelector((state: RootState) => (state as any).navigation);\n\n    // Handle mounting",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\context.tsx",
      "line": 97,
      "column": 91,
      "context": "          dispatch(updateBreadcrumbs(generateBreadcrumbs(currentPath)));\n           \n          dispatch(updateRelatedPages(calculateRelatedPages(currentPath, state.user_role) as any));\n          dispatch(addToRecentPages({ path: currentPath, title: document.title || currentPath }));\n        });",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\context.tsx",
      "line": 137,
      "column": 43,
      "context": "      (pages: RelatedPage[]) => {\n         \n        dispatch(updateRelatedPages(pages as any));\n      },\n      [dispatch]",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\context.tsx",
      "line": 160,
      "column": 48,
      "context": "      ) => {\n         \n        dispatch(updatePreferences(preferences as any));\n      },\n      [dispatch]",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\monitoring\\monitoring-init.ts",
      "line": 187,
      "column": 42,
      "context": "        applicationId: this.config.datadog!.applicationId,\n        clientToken: this.config.datadog!.clientToken,\n        site: (this.config.datadog?.site as any) ?? 'datadoghq.com',\n        service: 'chanuka-client',\n        env: this.config.environment,",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\dashboard\\utils.ts",
      "line": 45,
      "column": 106,
      "context": "): boolean {\n  const dimensions = getWidgetDimensions(widget.size);\n  const position = typeof widget.position === 'number' ? { x: widget.position, y: 0 } : (widget.position as any);\n\n  // Check if widget fits within layout bounds",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\dashboard\\utils.ts",
      "line": 62,
      "column": 90,
      "context": "  const dims2 = getWidgetDimensions(widget2.size);\n\n  const x1 = typeof widget1.position === 'number' ? widget1.position : (widget1.position as any).x || 0;\n  const y1 = typeof widget1.position === 'number' ? 0 : (widget1.position as any).y || 0;\n  const x2 = typeof widget2.position === 'number' ? widget2.position : (widget2.position as any).x || 0;",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\dashboard\\utils.ts",
      "line": 63,
      "column": 75,
      "context": "\n  const x1 = typeof widget1.position === 'number' ? widget1.position : (widget1.position as any).x || 0;\n  const y1 = typeof widget1.position === 'number' ? 0 : (widget1.position as any).y || 0;\n  const x2 = typeof widget2.position === 'number' ? widget2.position : (widget2.position as any).x || 0;\n  const y2 = typeof widget2.position === 'number' ? 0 : (widget2.position as any).y || 0;",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\dashboard\\utils.ts",
      "line": 64,
      "column": 90,
      "context": "  const x1 = typeof widget1.position === 'number' ? widget1.position : (widget1.position as any).x || 0;\n  const y1 = typeof widget1.position === 'number' ? 0 : (widget1.position as any).y || 0;\n  const x2 = typeof widget2.position === 'number' ? widget2.position : (widget2.position as any).x || 0;\n  const y2 = typeof widget2.position === 'number' ? 0 : (widget2.position as any).y || 0;\n",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\dashboard\\utils.ts",
      "line": 65,
      "column": 75,
      "context": "  const y1 = typeof widget1.position === 'number' ? 0 : (widget1.position as any).y || 0;\n  const x2 = typeof widget2.position === 'number' ? widget2.position : (widget2.position as any).x || 0;\n  const y2 = typeof widget2.position === 'number' ? 0 : (widget2.position as any).y || 0;\n\n  return !(",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\dashboard\\utils.ts",
      "line": 104,
      "column": 87,
      "context": "    ...existingWidgets.map(w => {\n      const dims = getWidgetDimensions(w.size);\n      const position = typeof w.position === 'object' ? w.position : { x: (w.position as any), y: 0 };\n      return position.y + dims.height;\n    }),",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\dashboard\\utils.ts",
      "line": 118,
      "column": 81,
      "context": "export function optimizeLayout(layout: DashboardLayout, widgets: WidgetConfig[]): WidgetConfig[] {\n  const sortedWidgets = [...widgets].sort((a, b) => {\n    const aPos = typeof a.position === 'object' ? a.position : { x: (a.position as any), y: 0 };\n    const bPos = typeof b.position === 'object' ? b.position : { x: (b.position as any), y: 0 };\n    if (aPos.y !== bPos.y) {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\dashboard\\utils.ts",
      "line": 119,
      "column": 81,
      "context": "  const sortedWidgets = [...widgets].sort((a, b) => {\n    const aPos = typeof a.position === 'object' ? a.position : { x: (a.position as any), y: 0 };\n    const bPos = typeof b.position === 'object' ? b.position : { x: (b.position as any), y: 0 };\n    if (aPos.y !== bPos.y) {\n      return aPos.y - bPos.y;",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\dashboard\\utils.ts",
      "line": 149,
      "column": 87,
      "context": "    ...widgets.map(w => {\n      const dims = getWidgetDimensions(w.size);\n      const position = typeof w.position === 'object' ? w.position : { x: (w.position as any), y: 0 };\n      return position.y + dims.height;\n    }),",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\dashboard\\context.tsx",
      "line": 118,
      "column": 21,
      "context": "\n      state.widgets.forEach((widget: WidgetConfig) => {\n        if ((widget as any).refreshInterval && (widget as any).refreshInterval > 0) {\n          const interval = setInterval(() => {\n            // Use a self-executing function to avoid closure issues",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\dashboard\\context.tsx",
      "line": 118,
      "column": 56,
      "context": "\n      state.widgets.forEach((widget: WidgetConfig) => {\n        if ((widget as any).refreshInterval && (widget as any).refreshInterval > 0) {\n          const interval = setInterval(() => {\n            // Use a self-executing function to avoid closure issues",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\dashboard\\context.tsx",
      "line": 127,
      "column": 22,
      "context": "              });\n            }\n          }, (widget as any).refreshInterval * 1000);\n          intervals.push(interval);\n        }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\browser\\polyfill-manager.ts",
      "line": 201,
      "column": 17,
      "context": "\n         \n        (window as any).Promise = class SimplePromise<T = unknown> {\n          private state: 'pending' | 'fulfilled' | 'rejected' = 'pending';\n          private value: T | undefined;",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\browser\\polyfill-manager.ts",
      "line": 345,
      "column": 17,
      "context": "\n         \n        (window as any).IntersectionObserver = class IntersectionObserverPolyfill {\n          private callback: (entries: IntersectionObserverEntry[]) => void;\n          private elements: Set<Element> = new Set();",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\browser\\polyfill-manager.ts",
      "line": 520,
      "column": 17,
      "context": "\n         \n        (window as any).ResizeObserver = class ResizeObserverPolyfill {\n          private callback: ResizeObserverCallback;\n          private elements: Set<Element> = new Set();",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\browser\\polyfill-manager.ts",
      "line": 725,
      "column": 20,
      "context": "\n         \n        (navigator as any).clipboard = clipboardPolyfill;\n      }\n    );",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\browser\\BrowserCompatibilityReport.tsx",
      "line": 37,
      "column": 50,
      "context": "    // Check for issues on mount\n    if (compatibilityStatus) {\n      const criticalCount = (compatibilityStatus as any)?.score < 50 ? 1 : 0;\n      const highCount = warnings.length;\n      onIssuesDetected?.(criticalCount, highCount);",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\auth\\service.ts",
      "line": 69,
      "column": 25,
      "context": "    name: authUser.name,\n    verified: authUser.verified,\n    role: authUser.role as any, // Cast if necessary, or ensure 'citizen' matches\n    \n    // Other fields",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\auth\\initialization.ts",
      "line": 249,
      "column": 34,
      "context": "      logger.info('Existing session restored', {\n        component: 'AuthServiceInitializer',\n        userId: (tokenData?.user as any)?.id || 'unknown',\n        expiresAt: new Date(this.state.expiresAt!),\n      });",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\api\\system.ts",
      "line": 600,
      "column": 24,
      "context": "      operation: 'system_operation',\n      status: (errorResponse as AxiosErrorResponse)?.response?.status,\n      endpoint: (error as any)?.config?.url || 'unknown',\n    });\n",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\analytics\\comprehensive-tracker.ts",
      "line": 390,
      "column": 40,
      "context": "\n    // Add memory usage if available\n    const perfWithMemory = performance as any;\n    if (perfWithMemory.memory) {\n      metrics.memoryUsage = perfWithMemory.memory.usedJSHeapSize;",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\analytics\\comprehensive-tracker.ts",
      "line": 834,
      "column": 40,
      "context": "        id: issue.id,\n        type: 'performance',\n        severity: (issue.data.severity as any) || 'medium',\n        message: (issue.data.message as string) || 'Performance issue detected',\n        timestamp: issue.timestamp,",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\analytics\\comprehensive-tracker.ts",
      "line": 850,
      "column": 45,
      "context": "        id: error.id,\n        type: 'error',\n        severity: (error.data.errorSeverity as any) || 'medium',\n        message: (error.data.errorMessage as string) || 'Error occurred',\n        timestamp: error.timestamp,",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\analytics\\comprehensive-tracker.ts",
      "line": 975,
      "column": 27,
      "context": "\n  private getConnectionType(): string | undefined {\n    const nav = navigator as any;\n    const connection = nav.connection || nav.mozConnection || nav.webkitConnection;\n    return connection?.effectiveType;",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\analytics\\AnalyticsIntegration.tsx",
      "line": 59,
      "column": 82,
      "context": "\n      // Start journey using the centralized tracker; it returns a session id\n      sessionId.current = journeyTracker.current.startJourney(user?.id, userRole as any);\n\n      logger.info('Analytics session started', {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\monitoring\\performance-monitor.test.ts",
      "line": 86,
      "column": 43,
      "context": "\n    // Mock the getInstance methods\n    (PerformanceBudgetChecker.getInstance as any).mockReturnValue(mockBudgetChecker);\n    (PerformanceAlertsManager.getInstance as any).mockReturnValue(mockAlertsManager);\n    (WebVitalsMonitor.getInstance as any).mockReturnValue(mockWebVitalsMonitor);",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\monitoring\\performance-monitor.test.ts",
      "line": 87,
      "column": 43,
      "context": "    // Mock the getInstance methods\n    (PerformanceBudgetChecker.getInstance as any).mockReturnValue(mockBudgetChecker);\n    (PerformanceAlertsManager.getInstance as any).mockReturnValue(mockAlertsManager);\n    (WebVitalsMonitor.getInstance as any).mockReturnValue(mockWebVitalsMonitor);\n",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\monitoring\\performance-monitor.test.ts",
      "line": 88,
      "column": 35,
      "context": "    (PerformanceBudgetChecker.getInstance as any).mockReturnValue(mockBudgetChecker);\n    (PerformanceAlertsManager.getInstance as any).mockReturnValue(mockAlertsManager);\n    (WebVitalsMonitor.getInstance as any).mockReturnValue(mockWebVitalsMonitor);\n\n    // Create monitor instance using singleton pattern",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\monitoring\\monitoring-init.test.ts",
      "line": 79,
      "column": 15,
      "context": "      });\n    } else {\n      (window as any).DD_RUM = {\n        setUser: vi.fn(),\n        addAction: vi.fn(),",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts",
      "line": 233,
      "column": 18,
      "context": "\n    expect(json).toHaveProperty('timestamp');\n    expect((json as any).domain).toBe(ErrorDomain.NETWORK);\n    expect((json as any).severity).toBe(ErrorSeverity.CRITICAL);\n    expect((json as any).context).toEqual({ component: 'Test' });",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts",
      "line": 234,
      "column": 18,
      "context": "    expect(json).toHaveProperty('timestamp');\n    expect((json as any).domain).toBe(ErrorDomain.NETWORK);\n    expect((json as any).severity).toBe(ErrorSeverity.CRITICAL);\n    expect((json as any).context).toEqual({ component: 'Test' });\n  });",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts",
      "line": 235,
      "column": 18,
      "context": "    expect((json as any).domain).toBe(ErrorDomain.NETWORK);\n    expect((json as any).severity).toBe(ErrorSeverity.CRITICAL);\n    expect((json as any).context).toEqual({ component: 'Test' });\n  });\n",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts",
      "line": 248,
      "column": 25,
      "context": "    // Attempt to modify metadata (should not affect error)\n    if (originalMetadata) {\n      (originalMetadata as any).domain = ErrorDomain.NETWORK;\n    }\n",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts",
      "line": 429,
      "column": 27,
      "context": "\n    expect(error.context?.component).toBe('CustomComponent');\n    expect((error.context as any)?.customField).toBe('customValue');\n    expect((error.context as any)?.nestedData).toEqual({ key: 'value' });\n    expect((error.context as any)?.arrayField).toEqual([1, 2, 3]);",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts",
      "line": 430,
      "column": 27,
      "context": "    expect(error.context?.component).toBe('CustomComponent');\n    expect((error.context as any)?.customField).toBe('customValue');\n    expect((error.context as any)?.nestedData).toEqual({ key: 'value' });\n    expect((error.context as any)?.arrayField).toEqual([1, 2, 3]);\n  });",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts",
      "line": 431,
      "column": 27,
      "context": "    expect((error.context as any)?.customField).toBe('customValue');\n    expect((error.context as any)?.nestedData).toEqual({ key: 'value' });\n    expect((error.context as any)?.arrayField).toEqual([1, 2, 3]);\n  });\n});",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts",
      "line": 463,
      "column": 23,
      "context": "    // Attempt to modify metadata\n    try {\n      (error.metadata as any).domain = ErrorDomain.NETWORK;\n    } catch {\n      // Expected to fail or be ignored",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts",
      "line": 481,
      "column": 18,
      "context": "\n    // Metadata is not directly exposed in JSON, but context should be\n    expect((json as any).context).toEqual({ component: 'Test' });\n    expect((json as any).domain).toBe(ErrorDomain.VALIDATION);\n    expect((json as any).severity).toBe(ErrorSeverity.HIGH);",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts",
      "line": 482,
      "column": 18,
      "context": "    // Metadata is not directly exposed in JSON, but context should be\n    expect((json as any).context).toEqual({ component: 'Test' });\n    expect((json as any).domain).toBe(ErrorDomain.VALIDATION);\n    expect((json as any).severity).toBe(ErrorSeverity.HIGH);\n  });",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\error-context-metadata.test.ts",
      "line": 483,
      "column": 18,
      "context": "    expect((json as any).context).toEqual({ component: 'Test' });\n    expect((json as any).domain).toBe(ErrorDomain.VALIDATION);\n    expect((json as any).severity).toBe(ErrorSeverity.HIGH);\n  });\n});",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\cross-system-propagation.test.tsx",
      "line": 59,
      "column": 27,
      "context": "    };\n\n    (SecurityErrorHandler as any).mockImplementation(() => mockSecurityHandler);\n    (HookErrorHandler as any).mockImplementation(() => mockHookHandler);\n    (ServiceErrorHandler as any).mockImplementation(() => mockServiceHandler);",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\cross-system-propagation.test.tsx",
      "line": 60,
      "column": 23,
      "context": "\n    (SecurityErrorHandler as any).mockImplementation(() => mockSecurityHandler);\n    (HookErrorHandler as any).mockImplementation(() => mockHookHandler);\n    (ServiceErrorHandler as any).mockImplementation(() => mockServiceHandler);\n    (LibraryErrorHandler as any).mockImplementation(() => mockLibraryHandler);",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\cross-system-propagation.test.tsx",
      "line": 61,
      "column": 26,
      "context": "    (SecurityErrorHandler as any).mockImplementation(() => mockSecurityHandler);\n    (HookErrorHandler as any).mockImplementation(() => mockHookHandler);\n    (ServiceErrorHandler as any).mockImplementation(() => mockServiceHandler);\n    (LibraryErrorHandler as any).mockImplementation(() => mockLibraryHandler);\n    (ErrorPropagationService as any).mockImplementation(() => mockPropagationService);",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\cross-system-propagation.test.tsx",
      "line": 62,
      "column": 26,
      "context": "    (HookErrorHandler as any).mockImplementation(() => mockHookHandler);\n    (ServiceErrorHandler as any).mockImplementation(() => mockServiceHandler);\n    (LibraryErrorHandler as any).mockImplementation(() => mockLibraryHandler);\n    (ErrorPropagationService as any).mockImplementation(() => mockPropagationService);\n  });",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\cross-system-propagation.test.tsx",
      "line": 63,
      "column": 30,
      "context": "    (ServiceErrorHandler as any).mockImplementation(() => mockServiceHandler);\n    (LibraryErrorHandler as any).mockImplementation(() => mockLibraryHandler);\n    (ErrorPropagationService as any).mockImplementation(() => mockPropagationService);\n  });\n",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\cross-system-propagation.test.tsx",
      "line": 291,
      "column": 16,
      "context": "      for (const errorInfo of errors) {\n        const error = new Error(errorInfo.message);\n        (error as any).type = errorInfo.type;\n        await securityHandler.handleError(error);\n      }",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\cross-system-propagation.test.tsx",
      "line": 414,
      "column": 67,
      "context": "      // Should handle null context\n      await expect(\n        propagationService.propagateToSystem('hooks', error, null as any)\n      ).rejects.toThrow();\n",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\cross-system-propagation.test.tsx",
      "line": 419,
      "column": 72,
      "context": "      // Should handle undefined context\n      await expect(\n        propagationService.propagateToSystem('hooks', error, undefined as any)\n      ).rejects.toThrow();\n    });",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "client\\src\\__tests__\\strategic\\error-handling\\cross-system-propagation.test.tsx",
      "line": 439,
      "column": 70,
      "context": "\n      await expect(\n        propagationService.propagateToSystem('hooks', malformedError as any, errorContext)\n      ).rejects.toThrow();\n    });",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\status\\connection-status.tsx",
      "line": 31,
      "column": 37,
      "context": "    // Check connection type if available\n    if ('connection' in navigator) {\n      const connection = (navigator as any).connection;\n      setConnectionType(connection?.effectiveType || 'unknown');\n    }",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\loading\\validation.ts",
      "line": 294,
      "column": 17,
      "context": "  ];\n  if (typeof type === 'string' && validTypes.includes(type)) {\n    return type as any;\n  }\n  return 'component'; // Default fallback",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\loading\\GlobalLoadingProvider.tsx",
      "line": 167,
      "column": 70,
      "context": "  const startOperation = useCallback(\n    async (operation: Omit<LoadingOperation, 'startTime' | 'retryCount'>): Promise<string> => {\n      const result = await dispatch(startLoadingOperation(operation) as any);\n      if (startLoadingOperation.fulfilled.match(result)) {\n        return result.payload.id;",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\loading\\GlobalLoadingProvider.tsx",
      "line": 178,
      "column": 71,
      "context": "  const completeOperation = useCallback(\n    async (id: string, success: boolean = true, error?: string): Promise<void> => {\n      await dispatch(completeLoadingOperation({ id, success, error }) as any);\n    },\n    [dispatch]",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\loading\\errors.ts",
      "line": 207,
      "column": 13,
      "context": "    this.timeout = timeout;\n    if (options?.cause) {\n      (this as any).cause = options.cause;\n    }\n  }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\loading\\errors.ts",
      "line": 234,
      "column": 13,
      "context": "    this.name = 'LoadingNetworkError';\n    if (options?.statusCode) {\n      (this as any).statusCode = options.statusCode;\n    }\n    if (options?.cause) {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\loading\\errors.ts",
      "line": 237,
      "column": 13,
      "context": "    }\n    if (options?.cause) {\n      (this as any).cause = options.cause;\n    }\n  }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\loading\\errors.ts",
      "line": 263,
      "column": 13,
      "context": "    this.name = 'LoadingValidationError';\n    if (options?.cause) {\n      (this as any).cause = options.cause;\n    }\n  }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\dashboard\\DashboardFramework.tsx",
      "line": 229,
      "column": 66,
      "context": "    // Cast layout to include potential missing properties from the type definition\n     \n    const layoutHook = useDashboardLayout(dashboardConfig.layout as any);\n    const { layout, sidebarOpen, toggleSidebar, isMobile, breakpoint } = layoutHook;\n",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\dashboard\\DashboardFramework.tsx",
      "line": 291,
      "column": 42,
      "context": "        const newTheme = { ...dashboardConfig.theme, ...updates };\n         \n        updateConfig?.({ theme: newTheme as any });\n        if (onThemeChange && typeof onThemeChange === 'function') {\n          onThemeChange(updates);",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\dashboard\\DashboardFramework.tsx",
      "line": 415,
      "column": 54,
      "context": "                  // Cast extended sections to base sections type\n                   \n                  sections={dashboardConfig.sections as any}\n                  spacing=\"normal\"\n                  onSectionUpdate={(sectionId, updates) => {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\dashboard\\DashboardFramework.tsx",
      "line": 428,
      "column": 54,
      "context": "                  // Cast extended sections to base sections type\n                   \n                  sections={dashboardConfig.sections as any}\n                  onTabChange={tabId => {\n                    // Handle tab changes",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\dashboard\\AdaptiveDashboard.tsx",
      "line": 204,
      "column": 28,
      "context": "\n        const classification = await personaDetector.detectPersona(\n          userForDetection as any,\n          userActivity,\n          existingProfile",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\dashboard\\action-items.tsx",
      "line": 16,
      "column": 15,
      "context": "    useDashboardActions(data.actionItems);\n    const [showCompleted, setShowCompleted] = React.useState(\n      (config as any)?.showCompletedActions ?? false\n    );\n    const [priorityFilter, setPriorityFilter] = React.useState<ActionPriority | 'all'>('all');",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\infrastructure\\monitoring\\monitoring-integration.ts",
      "line": 417,
      "column": 33,
      "context": "        return acc;\n      }, {} as Record<ClientSystem, boolean>),\n      memoryUsage: (performance as any).memory?.usedJSHeapSize || 0,\n      uptime: Date.now() - startTime\n    };",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\infrastructure\\monitoring\\cross-system-error-analytics.ts",
      "line": 38,
      "column": 26,
      "context": "      errorsBySystem: {},\n      errorsByDomain: {},\n      criticalErrors: [] as any[],\n      trends: [] as any[],\n      insights: [] as any[],",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\infrastructure\\monitoring\\cross-system-error-analytics.ts",
      "line": 39,
      "column": 18,
      "context": "      errorsByDomain: {},\n      criticalErrors: [] as any[],\n      trends: [] as any[],\n      insights: [] as any[],\n      timestamp: new Date(),",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\infrastructure\\monitoring\\cross-system-error-analytics.ts",
      "line": 40,
      "column": 20,
      "context": "      criticalErrors: [] as any[],\n      trends: [] as any[],\n      insights: [] as any[],\n      timestamp: new Date(),\n      overallHealth: 'healthy' as 'healthy' | 'degraded' | 'critical',",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\infrastructure\\monitoring\\cross-system-error-analytics.ts",
      "line": 43,
      "column": 24,
      "context": "      timestamp: new Date(),\n      overallHealth: 'healthy' as 'healthy' | 'degraded' | 'critical',\n      correlations: [] as any[],\n      systems: [] as Array<{\n        system: string;",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\infrastructure\\monitoring\\cross-system-error-analytics.ts",
      "line": 55,
      "column": 15,
      "context": "  \n  identifyCrossSystemPatterns() {\n    return [] as any[];\n  }\n}",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\performance.ts",
      "line": 41,
      "column": 53,
      "context": "\n    if ('memory' in performance) {\n      metricsRef.current.memoryUsage = (performance as any).memory.usedJSHeapSize;\n    }\n  }, [enabled]);",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\performance.ts",
      "line": 107,
      "column": 58,
      "context": "  const leadingEdge = useCallback((time: number) => {\n    lastInvokeTimeRef.current = time;\n    timeoutRef.current = setTimeout(timerExpired, delay) as any;\n    return leading ? invokeFunc(time) : resultRef.current;\n  }, [delay, leading]);",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\performance.ts",
      "line": 129,
      "column": 66,
      "context": "    const timeSinceLastCall = time - lastCallTimeRef.current;\n    const remainingWait = delay - timeSinceLastCall;\n    timeoutRef.current = setTimeout(timerExpired, remainingWait) as any;\n  }, [shouldInvoke, trailingEdge]);\n",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\performance.ts",
      "line": 136,
      "column": 30,
      "context": "    const thisArg = lastThisRef.current;\n\n    lastArgsRef.current = [] as any;\n    lastThisRef.current = null;\n    lastInvokeTimeRef.current = time;",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\performance.ts",
      "line": 156,
      "column": 62,
      "context": "      }\n      if (maxWait !== undefined) {\n        timeoutRef.current = setTimeout(timerExpired, delay) as any;\n        return invokeFunc(lastCallTimeRef.current);\n      }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\performance.ts",
      "line": 161,
      "column": 60,
      "context": "    }\n    if (timeoutRef.current === null) {\n      timeoutRef.current = setTimeout(timerExpired, delay) as any;\n    }\n    return resultRef.current;",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\performance.ts",
      "line": 164,
      "column": 77,
      "context": "    }\n    return resultRef.current;\n  }, [shouldInvoke, leadingEdge, timerExpired, invokeFunc, delay, maxWait]) as any;\n\n  // Cancel method",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\performance.ts",
      "line": 169,
      "column": 39,
      "context": "  debounced.cancel = useCallback(() => {\n    if (timeoutRef.current !== null) {\n      clearTimeout(timeoutRef.current as any);\n    }\n    lastInvokeTimeRef.current = 0;",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\performance.ts",
      "line": 237,
      "column": 14,
      "context": "\n  // Cancel method\n  (throttled as any).cancel = useCallback(() => {\n    if (timeoutRef.current !== null) {\n      clearTimeout(timeoutRef.current);",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\performance.ts",
      "line": 248,
      "column": 14,
      "context": "\n  // Flush method\n  (throttled as any).flush = useCallback(() => {\n    if (timeoutRef.current === null) {\n      return resultRef.current;",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\performance.ts",
      "line": 387,
      "column": 35,
      "context": "  const checkMemory = useCallback(() => {\n    if ('memory' in performance) {\n      const memory = (performance as any).memory;\n      if (memory.usedJSHeapSize > threshold) {\n        cleanup();",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\hooks\\utils\\error-handling.ts",
      "line": 213,
      "column": 41,
      "context": "      }\n\n      const connectionType = (navigator as any).connection?.effectiveType || 'unknown';\n      const isOnline = navigator.onLine;\n",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\design-system\\utils\\performance.ts",
      "line": 213,
      "column": 35,
      "context": "    try {\n      const module = await importFn();\n      return 'default' in (module as any) ? (module as any).default : (module as T);\n    } catch (error) {\n      console.error('Failed to lazy load module:', error);",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\design-system\\utils\\performance.ts",
      "line": 213,
      "column": 53,
      "context": "    try {\n      const module = await importFn();\n      return 'default' in (module as any) ? (module as any).default : (module as T);\n    } catch (error) {\n      console.error('Failed to lazy load module:', error);",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\design-system\\utils\\performance.ts",
      "line": 243,
      "column": 41,
      "context": "  monitorLayoutShifts: (callback: (entries: unknown[]) => void): PerformanceObserver => {\n    const observer = new PerformanceObserver(list => {\n      const entries = list.getEntries() as any[];\n      callback(entries);\n    });",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\design-system\\utils\\performance.ts",
      "line": 265,
      "column": 45,
      "context": "    // Track Cumulative Layout Shift\n    new PerformanceObserver(list => {\n      for (const entry of list.getEntries() as any[]) {\n        if (!entry.hadRecentInput) {\n          cls += entry.value;",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\design-system\\typography\\text.tsx",
      "line": 64,
      "column": 18,
      "context": "      <Component\n        className={cn(textVariants({ variant, size, weight, align }), className)}\n        ref={ref as any}\n        {...props}\n      />",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\design-system\\tokens\\validation.ts",
      "line": 96,
      "column": 45,
      "context": "    fontFamilies: Object.keys(typographyTokens.fontFamily || {}),\n    spacingScale: Object.keys(spacingTokens).filter(k => !k.startsWith('_')),\n    shadowLayers: Object.keys((shadowTokens as any).semantic || {}),\n    borderRadii: Object.keys(borderTokens.radius || {}),\n    breakpoints: Object.keys(breakpointTokens),",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\design-system\\standards\\low-bandwidth.ts",
      "line": 654,
      "column": 33,
      "context": "  if (typeof navigator === 'undefined') return false;\n\n  const connection = (navigator as any).connection;\n  if (!connection) return false;\n",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\design-system\\standards\\interactive-states.ts",
      "line": 195,
      "column": 33,
      "context": "\n    const stateStyles =\n      (interactiveStates[state] as any)?.[component] || (interactiveStates[state] as any)?.default;\n\n    return {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\design-system\\standards\\interactive-states.ts",
      "line": 195,
      "column": 83,
      "context": "\n    const stateStyles =\n      (interactiveStates[state] as any)?.[component] || (interactiveStates[state] as any)?.default;\n\n    return {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\design-system\\media\\Logo.tsx",
      "line": 28,
      "column": 99,
      "context": "    return (\n      <div className={cn(\"flex items-center\", className)}>\n        <ChanukaLogo size={typeof size === 'number' ? size : sizeMap[size]} variant={brandVariant as any} />\n      </div>\n    );",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\design-system\\interactive\\Calendar.tsx",
      "line": 343,
      "column": 103,
      "context": "          selected={selected instanceof Date ? selected : selected?.from}\n          onSelect={handleSelect}\n          mode={(selected && typeof selected === 'object' && 'from' in selected ? 'range' : 'single') as any}\n          disabled={isDateDisabled}\n          {...props}",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\data\\mock\\realtime.ts",
      "line": 151,
      "column": 27,
      "context": "      authorId: user.id,\n      authorName: getUserName(user),\n      authorAvatar: (user as any).avatar,\n      isExpert,\n      content: faker.lorem.paragraph(2),",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\data\\mock\\discussions.ts",
      "line": 81,
      "column": 38,
      "context": "      parentId,\n      authorId: typeof user.id === 'string' ? parseInt(user.id, 10) || faker.number.int() : user.id,\n      authorName: user.name || (user as any).name || 'Anonymous',\n      authorAvatar: (user as any).avatar || faker.image.avatar(),\n      content: generateCommentContent(isExpert),",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\data\\mock\\discussions.ts",
      "line": 82,
      "column": 27,
      "context": "      authorId: typeof user.id === 'string' ? parseInt(user.id, 10) || faker.number.int() : user.id,\n      authorName: user.name || (user as any).name || 'Anonymous',\n      authorAvatar: (user as any).avatar || faker.image.avatar(),\n      content: generateCommentContent(isExpert),\n      createdAt: generateDateInRange(30, 0),",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\data\\mock\\discussions.ts",
      "line": 108,
      "column": 16,
      "context": "      comment.replies = generateNestedComments(billId, threadId, comment.id, depth + 1, maxDepth, replyCount);\n      // Cast to any to assign readonly property\n      (comment as any).replyCount = comment.replies.length;\n    }\n",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\data\\mock\\discussions.ts",
      "line": 207,
      "column": 7,
      "context": "      // reporterId: ... \n      // types might differentiate\n    } as any;\n  });\n};",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\data\\mock\\community.ts",
      "line": 74,
      "column": 37,
      "context": "      isExpertActivity && allExperts.some(e => e.id === user.id)\n        ? {\n            verificationType: (user as any).verificationType || 'domain',\n            credibilityScore: (user as any).credibilityScore || 0.7,\n            specializations: (user as any).specializations || ['Policy Analysis'],",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\data\\mock\\community.ts",
      "line": 75,
      "column": 37,
      "context": "        ? {\n            verificationType: (user as any).verificationType || 'domain',\n            credibilityScore: (user as any).credibilityScore || 0.7,\n            specializations: (user as any).specializations || ['Policy Analysis'],\n          }",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\data\\mock\\community.ts",
      "line": 76,
      "column": 36,
      "context": "            verificationType: (user as any).verificationType || 'domain',\n            credibilityScore: (user as any).credibilityScore || 0.7,\n            specializations: (user as any).specializations || ['Policy Analysis'],\n          }\n        : undefined;",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\data\\mock\\community.ts",
      "line": 104,
      "column": 25,
      "context": "      userId: user.id,\n      userName: user.name || `User ${user.id}`,\n      userAvatar: (user as any).avatar || faker.image.avatar(),\n      expertInfo: expertInfo ? {\n        isVerified: true,",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\data\\mock\\bills.ts",
      "line": 129,
      "column": 7,
      "context": "    role: s.isPrimary ? ('primary' as const) : ('co-sponsor' as const),\n    \n  })) as any; // Cast to avoid position mismatch issues for now, or refine Sponsor type\n};\n",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\data\\mock\\bills.ts",
      "line": 190,
      "column": 24,
      "context": "    introducedDate,\n    lastActionDate: lastUpdated, // Renamed from lastUpdated\n    sponsors: sponsors as any, // Cast sponsors to avoid strict check on 'position'\n    constitutionalIssues, // Mapped from flags\n    ...engagement,",
      "category": "type_assertion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\components\\performance\\PerformanceMonitor.tsx",
      "line": 173,
      "column": 46,
      "context": "    const coreWebVitals = currentMetrics.coreWebVitals;\n    const memoryUsage =\n      'memory' in performance ? (performance as any).memory?.usedJSHeapSize || 0 : 0;\n\n    // Calculate load time based on navigation timing",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\components\\home\\RecentActivity.tsx",
      "line": 94,
      "column": 60,
      "context": "                    <div className=\"flex items-center gap-2 mb-2\">\n                      <h4 className=\"font-semibold text-gray-900\">{activity.title}</h4>\n                      <Badge variant={activity.statusColor as any} className=\"text-xs\">\n                        {activity.status}\n                      </Badge>",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\users\\services\\dashboard-service.ts",
      "line": 447,
      "column": 7,
      "context": "      // Shared Profile mapping (optional but good for future)\n      // profile: { ... } - types don't require it yet in interfaces.ts\n    } as any; // Cast to any to avoid strict structural checks if interface definitions drift (e.g. AuthUser vs User)\n  }\n",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\search\\services\\intelligent-search.ts",
      "line": 518,
      "column": 33,
      "context": "    query: string\n  ): void {\n    const recentData = response as any[];\n    if (Array.isArray(recentData)) {\n      recentData.forEach((item: any) => {",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\search\\services\\intelligent-search.ts",
      "line": 541,
      "column": 34,
      "context": "    query: string\n  ): void {\n    const popularData = response as any[];\n    if (Array.isArray(popularData)) {\n      popularData.forEach((item: any) => {",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\monitoring\\model\\performance-benchmarking.ts",
      "line": 350,
      "column": 35,
      "context": "  private getMemoryUsage(): number {\n    if ('memory' in performance) {\n      const memory = (performance as any).memory;\n      return memory.usedJSHeapSize || 0;\n    }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\monitoring\\model\\continuous-performance-monitor.ts",
      "line": 144,
      "column": 35,
      "context": "  private checkMemoryUsage(): void {\n    if ('memory' in performance) {\n      const memory = (performance as any).memory;\n      const usedMemory = memory.usedJSHeapSize;\n",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\community\\hooks\\useDiscussion.ts",
      "line": 10,
      "column": 38,
      "context": " * - Resolves mock thread creation (lines 82-96)\n * - Implements complete moderation workflow (lines 217-240)\n * - Eliminates type casting issues (as any usage)\n * - Unifies React Query + WebSocket coordination\n */",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\community\\hooks\\useDiscussion.ts",
      "line": 192,
      "column": 29,
      "context": "    const reportData: any = {\n      commentId,\n      reason: violationType as any, // Temporary mapping until ViolationType is standard\n      description: description || reason\n    };",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\community\\hooks\\useCommunityIntegration.ts",
      "line": 123,
      "column": 27,
      "context": "      return communityApiService.reportComment({\n        commentId: parseInt(data.commentId, 10),\n        reason: apiReason as any, \n        details: data.reason\n      });",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\bills\\services\\tracking.ts",
      "line": 79,
      "column": 20,
      "context": "      case 'status_change':\n        if (data.oldStatus && data.newStatus) {\n          (updates as any).status = data.newStatus as\n            | 'drafted'\n            | 'introduced'",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\bills\\services\\tracking.ts",
      "line": 96,
      "column": 20,
      "context": "      case 'new_comment':\n        if (data.commentCount !== undefined) {\n          (updates as any).commentCount = data.commentCount;\n        }\n        break;",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\bills\\services\\tracking.ts",
      "line": 115,
      "column": 16,
      "context": "    // Handle engagement metrics\n    if (data.viewCount !== undefined) {\n      (updates as any).viewCount = data.viewCount;\n    }\n    if (data.commentCount !== undefined) {",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\bills\\services\\tracking.ts",
      "line": 118,
      "column": 16,
      "context": "    }\n    if (data.commentCount !== undefined) {\n      (updates as any).commentCount = data.commentCount;\n    }\n    if (data.shareCount !== undefined) {",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\bills\\services\\tracking.ts",
      "line": 121,
      "column": 16,
      "context": "    }\n    if (data.shareCount !== undefined) {\n      (updates as any).shares = data.shareCount; // Assuming 'shares' is the property name in Bill, or shareCount? Bill usually uses 'shares'? Checking Bill type later.\n      // Wait, Bill usually has `engagement` object or similar.\n      // But let's assume Bill has these props or I need to check.",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\bills\\ui\\bills-dashboard.tsx",
      "line": 726,
      "column": 38,
      "context": "\n  // Get user level for personalized content, with a safe default\n  const userLevel = (userPreferences as any)?.level || 'novice';\n  const isNoviceUser = userLevel === 'novice';\n",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\bills\\pages\\BillsPortalPage.tsx",
      "line": 121,
      "column": 44,
      "context": "        return urgency === UrgencyLevel.HIGH || urgency === UrgencyLevel.CRITICAL;\n      }).length,\n      trending: bills.filter(bill => (bill as any).trending).length,\n      saved: bills.filter(bill => (bill as any).saved).length,\n    };",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\bills\\pages\\BillsPortalPage.tsx",
      "line": 122,
      "column": 41,
      "context": "      }).length,\n      trending: bills.filter(bill => (bill as any).trending).length,\n      saved: bills.filter(bill => (bill as any).saved).length,\n    };\n  }, [bills, totalBills]);",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\analytics\\model\\offline-analytics.ts",
      "line": 99,
      "column": 34,
      "context": "      url: window.location.href,\n      session_id: this.session_id,\n      connectionType: (navigator as any).connection?.effectiveType,\n      isOffline: !navigator.onLine,\n    };",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\analytics\\hooks\\use-journey-tracker.ts",
      "line": 97,
      "column": 60,
      "context": "    (start_date?: Date, end_date?: Date): JourneyAnalytics => {\n      const timeRange = start_date && end_date ? { start: start_date, end: end_date } : undefined;\n      return tracker.current.getJourneyAnalytics(timeRange as any);\n    },\n    []",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\analytics\\hooks\\use-journey-tracker.ts",
      "line": 239,
      "column": 60,
      "context": "    (start_date?: Date, end_date?: Date): JourneyAnalytics => {\n      const timeRange = start_date && end_date ? { start: start_date, end: end_date } : undefined;\n      return tracker.current.getJourneyAnalytics(timeRange as any);\n    },\n    []",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\__tests__\\unified-security.test.ts",
      "line": 95,
      "column": 67,
      "context": "    it('should handle CSP violations', async () => {\n      // Test through public interface - simulate violation event\n      const violationEvent = new Event('securitypolicyviolation') as any;\n      violationEvent.documentURI = 'https://example.com';\n      violationEvent.violatedDirective = 'script-src';",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\core\\security\\__tests__\\unified-security.test.ts",
      "line": 295,
      "column": 49,
      "context": "      // Test CSP error inference\n      const cspError = new Error('CSP violation detected');\n      const cspSecurityError = (errorMiddleware as any).createSecurityError(\n        cspError, 'test-operation', 'TestComponent'\n      );",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\core\\security\\__tests__\\unified-security.test.ts",
      "line": 302,
      "column": 56,
      "context": "      // Test validation error inference\n      const validationError = new Error('Input validation failed');\n      const validationSecurityError = (errorMiddleware as any).createSecurityError(\n        validationError, 'test-operation', 'TestComponent'\n      );",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "client\\src\\core\\security\\unified\\input-sanitizer.ts",
      "line": 94,
      "column": 32,
      "context": "    // Add hooks for threat detection with properly typed parameters\n    DOMPurify.addHook(\n      'beforeSanitizeElements' as any,\n      ((node: Element, data: DOMPurifyHookData) => {\n        this.detectElementThreats(node, data);",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\unified\\input-sanitizer.ts",
      "line": 97,
      "column": 10,
      "context": "      ((node: Element, data: DOMPurifyHookData) => {\n        this.detectElementThreats(node, data);\n      }) as any\n    );\n",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\unified\\input-sanitizer.ts",
      "line": 101,
      "column": 34,
      "context": "\n    DOMPurify.addHook(\n      'beforeSanitizeAttributes' as any,\n      ((node: Element, data: DOMPurifyHookData) => {\n        this.detectAttributeThreats(node, data);",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\unified\\input-sanitizer.ts",
      "line": 104,
      "column": 10,
      "context": "      ((node: Element, data: DOMPurifyHookData) => {\n        this.detectAttributeThreats(node, data);\n      }) as any\n    );\n  }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\unified\\error-middleware.ts",
      "line": 29,
      "column": 109,
      "context": "    if (config) {\n      // Re-initialize handler with new config if needed\n      this.errorHandler = new SecurityErrorHandler({ ...this.errorHandler.getErrorStatistics(), ...config } as any);\n      this.errorLogger = new SecurityLogger(config.logLevel || 'error');\n    }",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\unified\\error-middleware.ts",
      "line": 68,
      "column": 64,
      "context": "  ): SecurityError {\n    // SecurityError is a type (not a runtime class). Detect by shape instead of instanceof.\n    if (error && typeof error === 'object' && 'type' in (error as any) && 'severity' in (error as any)) {\n      return error as SecurityError;\n    }",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\unified\\error-middleware.ts",
      "line": 68,
      "column": 96,
      "context": "  ): SecurityError {\n    // SecurityError is a type (not a runtime class). Detect by shape instead of instanceof.\n    if (error && typeof error === 'object' && 'type' in (error as any) && 'severity' in (error as any)) {\n      return error as SecurityError;\n    }",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\unified\\error-middleware.ts",
      "line": 119,
      "column": 44,
      "context": "  private shouldThrowError(error: SecurityError): boolean {\n    // Don't throw for low-severity errors in permissive mode\n    const handlerMode = (this.errorHandler as any)?.config?.mode;\n    return error.severity !== 'low' || handlerMode === 'strict';\n  }",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\unified\\csp-manager.ts",
      "line": 71,
      "column": 13,
      "context": "\n    // Store nonce for reference\n    (window as any).__CSP_NONCE__ = this.nonce;\n    (window as any).__CSP_POLICY__ = cspHeader;\n",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\unified\\csp-manager.ts",
      "line": 72,
      "column": 13,
      "context": "    // Store nonce for reference\n    (window as any).__CSP_NONCE__ = this.nonce;\n    (window as any).__CSP_POLICY__ = cspHeader;\n\n    logger.info('Unified CSP Manager initialized with policy');",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\unified\\csp-manager.ts",
      "line": 201,
      "column": 15,
      "context": "    // Set up reporting endpoint\n    if (typeof window !== 'undefined') {\n      (window as any).__reportCSPViolation__ = (violation: CSPViolation) => {\n        this.handleCSPViolation(violation);\n      };",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\unified\\csp-manager.ts",
      "line": 329,
      "column": 13,
      "context": "  refreshNonce(): string {\n    this.nonce = this.generateNonce();\n    (window as any).__CSP_NONCE__ = this.nonce;\n    this.setupCSP(); // Reapply CSP with new nonce\n    return this.nonce;",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\unified\\csp-manager.ts",
      "line": 352,
      "column": 28,
      "context": "   */\n  isSourceAllowed(directive: string, source: string): boolean {\n    const policy = (window as any).__CSP_POLICY__;\n    if (!policy) return false;\n",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\migration\\compatibility-layer.ts",
      "line": 108,
      "column": 32,
      "context": "        enabled: true,\n        reportOnly: false,\n        directives: directives as any || STANDARD_CSP_CONFIG.development,\n        reportUri: '/api/security/csp-violations',\n      });",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\migration\\compatibility-layer.ts",
      "line": 237,
      "column": 50,
      "context": "        enabled: legacyConfig.enableCSP,\n        reportOnly: process.env.NODE_ENV === 'development',\n        directives: legacyConfig.csp?.directives as any || STANDARD_CSP_CONFIG.development,\n        nonce: legacyConfig.csp?.nonce,\n      },",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\migration\\compatibility-layer.ts",
      "line": 267,
      "column": 80,
      "context": "    // Initialize legacy security utilities\n    if (config.enableCSP) {\n      const cspHeader = securityUtils.generateCSPHeader(config.csp?.directives as any);\n      // Apply CSP header (would be done via HTTP headers in real implementation)\n      console.log('Legacy CSP initialized:', cspHeader);",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\security\\migration\\compatibility-layer.ts",
      "line": 293,
      "column": 55,
      "context": "\n  generateCSPHeader(directives?: Record<string, string[]>): string {\n    return securityUtils.generateCSPHeader(directives as any);\n  }\n",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\services\\notifications.ts",
      "line": 149,
      "column": 28,
      "context": "  private handleNotificationMessage(message: WebSocketMessage): void {\n    try {\n      const data = message as any;\n\n      const notification: WebSocketNotification = {",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\services\\notifications.ts",
      "line": 183,
      "column": 28,
      "context": "  private handleNotificationReadMessage(message: WebSocketMessage): void {\n    try {\n      const data = message as any;\n      const notificationId = data.notification_id || data.notificationId || data.id;\n",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\services\\notifications.ts",
      "line": 202,
      "column": 28,
      "context": "  private handleNotificationClearMessage(message: WebSocketMessage): void {\n    try {\n      const data = message as any;\n\n      if (data.clear_all) {",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\services\\community.ts",
      "line": 330,
      "column": 28,
      "context": "    try {\n      // Process discussion-specific messages\n      const data = message as any;\n      const update: CommentUpdate = {\n        id: data.comment_id || data.commentId || `comment_${Date.now()}`,",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\services\\community.ts",
      "line": 365,
      "column": 28,
      "context": "  private handleTypingIndicatorMessage(message: WebSocketMessage): void {\n    try {\n      const data = message as any;\n      const indicator: TypingIndicator = {\n        userId: data.user_id || data.userId || 'unknown',",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\services\\community.ts",
      "line": 406,
      "column": 28,
      "context": "  private handleCommentUpdateMessage(message: WebSocketMessage): void {\n    try {\n      const data = message as any;\n      const update: CommentUpdate = {\n        id: data.comment_id || data.commentId || `comment_${Date.now()}`,",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\services\\community.ts",
      "line": 439,
      "column": 28,
      "context": "  private handleVoteUpdateMessage(message: WebSocketMessage): void {\n    try {\n      const data = message as any;\n      const voteType = data.vote_type || data.voteType || data.vote || 'abstain';\n      const update: VoteUpdate = {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\services\\community.ts",
      "line": 472,
      "column": 28,
      "context": "  private handleExpertMessage(message: WebSocketMessage): void {\n    try {\n      const data = message as any;\n\n      logger.debug('Processed expert activity', {",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\services\\community.ts",
      "line": 492,
      "column": 28,
      "context": "  private handleModerationMessage(message: WebSocketMessage): void {\n    try {\n      const data = message as any;\n\n      logger.debug('Processed moderation event', {",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\hooks\\use-websocket.ts",
      "line": 76,
      "column": 24,
      "context": "        const newNotification: RealTimeNotification = {\n          id: `notification_${Date.now()}`,\n          type: 'info' as any, // Simplified for fallback\n          title: 'Bill Update',\n          message: \"A bill you're following has been updated\",",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\hooks\\use-websocket.ts",
      "line": 112,
      "column": 31,
      "context": "        if (message.data) {\n          const notification: RealTimeNotification = {\n            id: (message.data as any).id || `notification_${Date.now()}`,\n            type: (message.data as any).type || 'community_activity',\n            title: (message.data as any).title || 'Notification',",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\hooks\\use-websocket.ts",
      "line": 113,
      "column": 33,
      "context": "          const notification: RealTimeNotification = {\n            id: (message.data as any).id || `notification_${Date.now()}`,\n            type: (message.data as any).type || 'community_activity',\n            title: (message.data as any).title || 'Notification',\n            message: (message.data as any).message || '',",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\hooks\\use-websocket.ts",
      "line": 114,
      "column": 34,
      "context": "            id: (message.data as any).id || `notification_${Date.now()}`,\n            type: (message.data as any).type || 'community_activity',\n            title: (message.data as any).title || 'Notification',\n            message: (message.data as any).message || '',\n            priority: (message.data as any).priority || 'medium',",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\hooks\\use-websocket.ts",
      "line": 115,
      "column": 36,
      "context": "            type: (message.data as any).type || 'community_activity',\n            title: (message.data as any).title || 'Notification',\n            message: (message.data as any).message || '',\n            priority: (message.data as any).priority || 'medium',\n            created_at: (message.data as any).timestamp || new Date().toISOString(),",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\hooks\\use-websocket.ts",
      "line": 116,
      "column": 37,
      "context": "            title: (message.data as any).title || 'Notification',\n            message: (message.data as any).message || '',\n            priority: (message.data as any).priority || 'medium',\n            created_at: (message.data as any).timestamp || new Date().toISOString(),\n            read: false,",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\hooks\\use-websocket.ts",
      "line": 117,
      "column": 39,
      "context": "            message: (message.data as any).message || '',\n            priority: (message.data as any).priority || 'medium',\n            created_at: (message.data as any).timestamp || new Date().toISOString(),\n            read: false,\n          } as RealTimeNotification;",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\hooks\\use-websocket.ts",
      "line": 125,
      "column": 27,
      "context": "\n      case 'bill_update':\n        if ((message.data as any)?.billId) {\n          const activity = {\n            id: `activity_${Date.now()}`,",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\realtime\\hooks\\use-websocket.ts",
      "line": 130,
      "column": 36,
      "context": "            type: 'bill_updated',\n            timestamp: new Date().toISOString(),\n            bill_id: (message.data as any).billId.toString(),\n          };\n          setRecentActivity(prev => [activity, ...prev.slice(0, 19)]);",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\hooks\\use-navigation-performance.ts",
      "line": 36,
      "column": 63,
      "context": "\n          entries.forEach(entry => {\n            if (entry.entryType === 'layout-shift' && !(entry as any).hadRecentInput) {\n              totalShift += (entry as any).value;\n            }",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\navigation\\hooks\\use-navigation-performance.ts",
      "line": 37,
      "column": 36,
      "context": "          entries.forEach(entry => {\n            if (entry.entryType === 'layout-shift' && !(entry as any).hadRecentInput) {\n              totalShift += (entry as any).value;\n            }\n          });",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\loading\\utils\\connection-utils.ts",
      "line": 52,
      "column": 35,
      "context": "export function detectConnectionType(): ConnectionInfo {\n  if ('connection' in navigator) {\n    const connection = (navigator as any).connection;\n    return {\n      online: navigator.onLine,",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\error\\middleware\\hooks-middleware.ts",
      "line": 292,
      "column": 26,
      "context": "    const recoveryStrategies = this.getHookRecoveryStrategies(error, hookContext);\n\n    return new (AppError as any)(\n      error.message,\n      error.code,",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\error\\middleware\\hooks-middleware.ts",
      "line": 350,
      "column": 26,
      "context": "    const severity = this.determineHookErrorSeverity(errorCode, hookContext);\n\n    return new (AppError as any)(\n      error.message,\n      errorCode,",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\error\\middleware\\hooks-middleware.ts",
      "line": 527,
      "column": 39,
      "context": "    // Check for performance degradation\n    if (context.performanceMetrics.renderTime && context.performanceMetrics.renderTime > this.config.performanceThreshold * 2) {\n      const perfError = new (AppError as any)(\n        `Hook performance degradation detected: ${context.hookName}`,\n        HookErrorCode.HOOK_PERFORMANCE_DEGRADATION,",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\error\\middleware\\hooks-middleware.ts",
      "line": 552,
      "column": 39,
      "context": "    }\n\n    const memoryError = new (AppError as any)(\n      `Potential memory leak detected in hook: ${context.hookName}`,\n      HookErrorCode.HOOK_MEMORY_LEAK,",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\error\\middleware\\hooks-middleware.ts",
      "line": 576,
      "column": 43,
      "context": "    }\n\n    const concurrentError = new (AppError as any)(\n      `Concurrent state updates detected in hook: ${context.hookName}`,\n      HookErrorCode.HOOK_CONCURRENT_UPDATE,",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\error\\components\\example.tsx",
      "line": 34,
      "column": 57,
      "context": "      <h2 className=\"text-red-800 font-semibold text-lg\">Application Error</h2>\n      <p className=\"text-red-600 mt-2\">{error.message}</p>\n      {process.env.NODE_ENV === 'development' && (error as any).stack && (\n        <details className=\"mt-4\">\n          <summary className=\"cursor-pointer text-red-700 font-medium\">Stack Trace</summary>",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\error\\components\\example.tsx",
      "line": 37,
      "column": 86,
      "context": "        <details className=\"mt-4\">\n          <summary className=\"cursor-pointer text-red-700 font-medium\">Stack Trace</summary>\n          <pre className=\"mt-2 text-xs bg-red-100 p-3 rounded overflow-auto\">{(error as any).stack}</pre>\n        </details>\n      )}",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\community\\hooks\\useUnifiedDiscussion.ts",
      "line": 7,
      "column": 27,
      "context": " * - Mock thread creation from comments data (lines 82-96)\n * - Incomplete moderation implementations (lines 217-240)\n * - Type casting issues (as any usage)\n * - React Query + WebSocket event coordination\n */",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\api\\services\\user.service.ts",
      "line": 40,
      "column": 20,
      "context": "    return contractApiClient.callWithParams(\r\n      UserEndpoints.getById,\r\n      { id: userId as any }, // Cast to branded type\r\n      undefined\r\n    );\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\api\\services\\user.service.ts",
      "line": 54,
      "column": 20,
      "context": "    return contractApiClient.callWithParams(\r\n      UserEndpoints.update,\r\n      { id: userId as any }, // Cast to branded type\r\n      request\r\n    );\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\api\\services\\user.service.ts",
      "line": 75,
      "column": 20,
      "context": "    return contractApiClient.callWithParams(\r\n      UserEndpoints.delete,\r\n      { id: userId as any }, // Cast to branded type\r\n      undefined\r\n    );\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\api\\services\\bill.service.ts",
      "line": 42,
      "column": 20,
      "context": "    return contractApiClient.callWithParams(\r\n      BillEndpoints.getById,\r\n      { id: billId as any }, // Cast to branded type\r\n      undefined\r\n    );\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\api\\services\\bill.service.ts",
      "line": 56,
      "column": 20,
      "context": "    return contractApiClient.callWithParams(\r\n      BillEndpoints.update,\r\n      { id: billId as any }, // Cast to branded type\r\n      request\r\n    );\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\api\\services\\bill.service.ts",
      "line": 77,
      "column": 20,
      "context": "    return contractApiClient.callWithParams(\r\n      BillEndpoints.delete,\r\n      { id: billId as any }, // Cast to branded type\r\n      undefined\r\n    );\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\api\\services\\bill.service.ts",
      "line": 88,
      "column": 20,
      "context": "    return contractApiClient.callWithParams(\r\n      BillEndpoints.getEngagement,\r\n      { id: billId as any }, // Cast to branded type\r\n      undefined\r\n    );\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\navigation\\utils\\navigation-utils.ts",
      "line": 12,
      "column": 57,
      "context": "  return {\n    ...item,\n    icon: typeof item.icon === 'string' ? ((() => null) as any) : (item.icon as any),\n    section: (item.section === 'system' ? 'tools' : item.section) || 'tools', // Map system to tools, provide default\n    badge: typeof item.badge === 'string' ? parseInt(item.badge, 10) || undefined : item.badge,",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\navigation\\utils\\navigation-utils.ts",
      "line": 12,
      "column": 78,
      "context": "  return {\n    ...item,\n    icon: typeof item.icon === 'string' ? ((() => null) as any) : (item.icon as any),\n    section: (item.section === 'system' ? 'tools' : item.section) || 'tools', // Map system to tools, provide default\n    badge: typeof item.badge === 'string' ? parseInt(item.badge, 10) || undefined : item.badge,",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\navigation\\utils\\navigation-utils.ts",
      "line": 15,
      "column": 37,
      "context": "    section: (item.section === 'system' ? 'tools' : item.section) || 'tools', // Map system to tools, provide default\n    badge: typeof item.badge === 'string' ? parseInt(item.badge, 10) || undefined : item.badge,\n    allowedRoles: item.allowedRoles as any, // Type assertion to resolve conflict\n  };\n}",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\navigation\\performance\\NavigationPerformanceDashboard.tsx",
      "line": 139,
      "column": 51,
      "context": "        </div>\n        <div className=\"flex items-center gap-2\">\n          <Badge variant={performanceStatus.color as any}>\n            {performanceStatus.status.toUpperCase()}\n          </Badge>",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\navigation\\hooks\\useRouteAccess.ts",
      "line": 36,
      "column": 53,
      "context": "    const navUserRole: UserRole = contextRole === 'user' ? 'citizen' : (contextRole as UserRole);\n\n    return checkRouteAccess(path, navUserRole, user as any);\n  } catch (error) {\n    // Handle validation errors",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\mobile\\interaction\\PullToRefresh.tsx",
      "line": 147,
      "column": 24,
      "context": "      // Dynamic styles required for animation (cannot be moved to CSS)\n       \n      style={pullStyle as any}\n    >\n      {/* Hidden live region for screen reader announcements */}",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\mobile\\interaction\\PullToRefresh.tsx",
      "line": 163,
      "column": 31,
      "context": "        // Dynamic styles required for animation (cannot be moved to CSS)\n         \n        style={indicatorStyle as any}\n        role=\"status\"\n        aria-label={state === 'refreshing' ? 'Refreshing content' : 'Pull to refresh'}",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\loading\\utils\\connection-utils.ts",
      "line": 31,
      "column": 16,
      "context": "export function getNetworkConnection(): any {\n  return (\n    (navigator as any).connection ||\n    (navigator as any).mozConnection ||\n    (navigator as any).webkitConnection",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\loading\\utils\\connection-utils.ts",
      "line": 32,
      "column": 16,
      "context": "  return (\n    (navigator as any).connection ||\n    (navigator as any).mozConnection ||\n    (navigator as any).webkitConnection\n  );",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\loading\\utils\\connection-utils.ts",
      "line": 33,
      "column": 16,
      "context": "    (navigator as any).connection ||\n    (navigator as any).mozConnection ||\n    (navigator as any).webkitConnection\n  );\n}",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\loading\\hooks\\useTimeoutAwareLoading.ts",
      "line": 397,
      "column": 72,
      "context": "\n      // Store the configuration instead of the hook result\n      setOperations(prev => ({ ...prev, [operationId]: operationConfig as any }));\n      return operationConfig as any;\n    },",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\loading\\hooks\\useTimeoutAwareLoading.ts",
      "line": 398,
      "column": 30,
      "context": "      // Store the configuration instead of the hook result\n      setOperations(prev => ({ ...prev, [operationId]: operationConfig as any }));\n      return operationConfig as any;\n    },\n    [defaultTimeout, onAnyTimeout, onAllComplete, operations]",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\loading\\examples\\GlobalLoadingExample.tsx",
      "line": 103,
      "column": 32,
      "context": "const AppExample: React.FC = () => {\n  return (\n    <Provider store={mockStore as any}>\n      <GlobalLoadingProvider>\n        <div className=\"min-h-screen bg-gray-50\">",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\dashboard\\widgets\\DashboardWidget.tsx",
      "line": 272,
      "column": 16,
      "context": "    loading: false,\n    error: null as string | null,\n    data: null as any,\n    lastRefresh: null as Date | null,\n  });",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\dashboard\\hooks\\useDashboard.ts",
      "line": 71,
      "column": 33,
      "context": "  const dashboardData: DashboardData = useMemo(\n    () => ({\n      summary: (billsQuery.data as any)?.summary || {\n        billsTracked: 0,\n        actionsNeeded: 0,",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\dashboard\\hooks\\useDashboard.ts",
      "line": 80,
      "column": 38,
      "context": "        lastUpdated: new Date(),\n      },\n      actionItems: ((billsQuery.data as any)?.actionItems as ActionItem[]) || [],\n      trackedTopics: ((billsQuery.data as any)?.trackedTopics as TrackedTopic[]) || [],\n      isLoading: billsQuery.isLoading,",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\lib\\ui\\dashboard\\hooks\\useDashboard.ts",
      "line": 81,
      "column": 40,
      "context": "      },\n      actionItems: ((billsQuery.data as any)?.actionItems as ActionItem[]) || [],\n      trackedTopics: ((billsQuery.data as any)?.trackedTopics as TrackedTopic[]) || [],\n      isLoading: billsQuery.isLoading,\n      error: billsQuery.error,",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\users\\ui\\profile\\UserProfileSection.tsx",
      "line": 77,
      "column": 96,
      "context": "              <div data-testid=\"profile-name\">\n                <label className=\"text-sm font-medium text-slate-500\">Name</label>\n                <p className=\"text-slate-900\">{user.profile?.displayName || user.name || (user as any).username || 'User'}</p>\n              </div>\n              <div data-testid=\"profile-email\">",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\users\\ui\\profile\\UserProfileSection.tsx",
      "line": 111,
      "column": 44,
      "context": "                <label className=\"text-sm font-medium text-slate-500\">Member Since</label>\n                <p className=\"text-slate-900\">\n                  {user.createdAt || (user as any).created_at\n                    ? new Date(user.createdAt || (user as any).created_at).toLocaleDateString()\n                    : 'January 15, 2023'}",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\users\\ui\\profile\\UserProfileSection.tsx",
      "line": 112,
      "column": 56,
      "context": "                <p className=\"text-slate-900\">\n                  {user.createdAt || (user as any).created_at\n                    ? new Date(user.createdAt || (user as any).created_at).toLocaleDateString()\n                    : 'January 15, 2023'}\n                </p>",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\users\\ui\\onboarding\\UserJourneyOptimizer.tsx",
      "line": 15,
      "column": 10,
      "context": "import React, { useState } from 'react';\nconst { Target, Users, CheckCircle, Shield, ArrowLeft, Sparkles, ArrowRight } =\n  Lucide as any as Record<string, React.ComponentType<any>>;\n\nimport {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\community\\ui\\discussion\\CommentForm.tsx",
      "line": 149,
      "column": 24,
      "context": "      if (e.ctrlKey && e.key === 'Enter') {\n        e.preventDefault();\n        handleSubmit(e as any);\n      }\n    },",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\bills\\ui\\tracking\\real-time-tracker.tsx",
      "line": 104,
      "column": 47,
      "context": "  const updatePreferences = (prefs: BillTrackingPreferences) => {\n    // In a real app, this would verify with backend\n    logger.info('Updating preferences', prefs as any);\n  };\n    ",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\bills\\ui\\tracking\\real-time-tracker.tsx",
      "line": 129,
      "column": 13,
      "context": "            component: 'RealTimeBillTracker',\n            error: error?.message || String(error)\n          } as any\n        );\n        toast.error('Failed to connect to real-time updates');",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\bills\\ui\\tracking\\real-time-tracker.tsx",
      "line": 161,
      "column": 59,
      "context": "    updatePreferences(preferences);\n    // Cast preferences to Record<string, unknown> to satisfy LogContext if needed, or just object\n    logger.info('Preferences updated', { ...preferences } as any);\n    toast.success('Preferences updated successfully');\n  }, [preferences, updatePreferences]);",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\error\\components\\utils\\error-reporter.ts",
      "line": 52,
      "column": 16,
      "context": "    generateReport: (error: BaseError, _metadata?: Record<string, unknown>): ErrorReport => {\n      const errorId =\n        (error as any).errorId ||\n        `err_${Date.now()}_${Math.random().toString(36).substring(2, 11)}`;\n",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\error\\components\\utils\\error-reporter.ts",
      "line": 59,
      "column": 50,
      "context": "      // Note: recoveryStrategies may not be present in all ErrorMetadata instances\n       \n      const recoveryStrategies = (error.metadata as any)?.recoveryStrategies as\n        | RecoveryStrategy[]\n        | undefined;",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\error\\components\\utils\\error-normalizer.ts",
      "line": 26,
      "column": 26,
      "context": "  }\n\n  const message = (error as any)?.message || String(error || 'Unknown error occurred');\n  const originalStack = (error as any)?.stack;\n",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\core\\error\\components\\utils\\error-normalizer.ts",
      "line": 27,
      "column": 32,
      "context": "\n  const message = (error as any)?.message || String(error || 'Unknown error occurred');\n  const originalStack = (error as any)?.stack;\n\n  let normalizedError: BaseError;",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\bills\\ui\\analysis\\conflict-of-interest\\ConflictNetworkVisualization.tsx",
      "line": 362,
      "column": 69,
      "context": "  const handleZoomIn = () => {\n    const svg = d3.select(svgRef.current);\n    svg.transition().call(d3.zoom<SVGSVGElement, unknown>().scaleBy as any, 1.5);\n  };\n",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\bills\\ui\\analysis\\conflict-of-interest\\ConflictNetworkVisualization.tsx",
      "line": 367,
      "column": 69,
      "context": "  const handleZoomOut = () => {\n    const svg = d3.select(svgRef.current);\n    svg.transition().call(d3.zoom<SVGSVGElement, unknown>().scaleBy as any, 1 / 1.5);\n  };\n",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "client\\src\\features\\bills\\ui\\analysis\\conflict-of-interest\\ConflictNetworkVisualization.tsx",
      "line": 372,
      "column": 71,
      "context": "  const handleResetZoom = () => {\n    const svg = d3.select(svgRef.current);\n    svg.transition().call(d3.zoom<SVGSVGElement, unknown>().transform as any, d3.zoomIdentity);\n  };\n",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\utils\\db-init.ts",
      "line": 52,
      "column": 20,
      "context": "    }, {\r\n      message: error instanceof Error ? error.message : String(error),\r\n      code: (error as any)?.code,\r\n      detail: (error as any)?.detail\r\n    });\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\utils\\db-init.ts",
      "line": 53,
      "column": 22,
      "context": "      message: error instanceof Error ? error.message : String(error),\r\n      code: (error as any)?.code,\r\n      detail: (error as any)?.detail\r\n    });\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\utils\\db-init.ts",
      "line": 96,
      "column": 23,
      "context": "      operation: 'health_check'\r\n    }, {\r\n      message: (error as any).message || 'Unknown error'\r\n    });\r\n    return {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\utils\\db-init.ts",
      "line": 102,
      "column": 42,
      "context": "      tablesExist: false,\r\n      canWrite: false,\r\n      message: `Database error: ${(error as any).message || 'Unknown error'}`\r\n    };\r\n  }\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\utils\\db-init.ts",
      "line": 122,
      "column": 23,
      "context": "      operation: 'table_check'\r\n    }, {\r\n      message: (error as any).message || 'Unknown error'\r\n    });\r\n    return false;\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\utils\\db-helpers.ts",
      "line": 104,
      "column": 35,
      "context": "    Object.keys(normalized).forEach(key => {\r\n      if (key.toLowerCase().includes('row') && key.toLowerCase().includes('number')) {\r\n        const value = (normalized as any)[key];\r\n        if (value !== null && value !== undefined) {\r\n          const numValue = typeof value === 'string' ? parseInt(value, 10) : Number(value);\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\utils\\db-helpers.ts",
      "line": 108,
      "column": 25,
      "context": "          const numValue = typeof value === 'string' ? parseInt(value, 10) : Number(value);\r\n          if (!isNaN(numValue)) {\r\n            (normalized as any)[key] = numValue;\r\n          } else {\r\n            logger.warn('Failed to normalize row number', {\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\utils\\db-helpers.ts",
      "line": 115,
      "column": 27,
      "context": "              key,\r\n              value,\r\n              rowId: (row as any).id || 'unknown'\r\n            });\r\n          }\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\utils\\db-helpers.ts",
      "line": 146,
      "column": 44,
      "context": "\r\n  data.forEach(item => {\r\n    const timestamp = item[timestampField] as any;\r\n    if (!(timestamp instanceof Date)) {\r\n      logger.warn('Invalid timestamp in groupByTime', {\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\storage\\user-storage-with-transformers.example.ts",
      "line": 191,
      "column": 20,
      "context": "      email: userData.email,\r\n      username: userData.username,\r\n      role: 'user' as any,\r\n      status: 'active' as any,\r\n      profile: null,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\storage\\user-storage-with-transformers.example.ts",
      "line": 192,
      "column": 24,
      "context": "      username: userData.username,\r\n      role: 'user' as any,\r\n      status: 'active' as any,\r\n      profile: null,\r\n      preferences: {},\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\storage\\user-storage-with-transformers.example.ts",
      "line": 195,
      "column": 34,
      "context": "      profile: null,\r\n      preferences: {},\r\n      verification: 'unverified' as any,\r\n      isActive: true,\r\n      createdAt: new Date(),\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\storage\\bill-storage-with-transformers.example.ts",
      "line": 108,
      "column": 22,
      "context": "    const [created] = await this.db\r\n      .insert(bills)\r\n      .values(dbBill as any)\r\n      .returning();\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\storage\\bill-storage-with-transformers.example.ts",
      "line": 271,
      "column": 31,
      "context": "      title: billData.title,\r\n      summary: billData.summary,\r\n      status: billData.status as any,\r\n      chamber: 'house' as any,\r\n      billType: 'bill' as any,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\storage\\bill-storage-with-transformers.example.ts",
      "line": 272,
      "column": 24,
      "context": "      summary: billData.summary,\r\n      status: billData.status as any,\r\n      chamber: 'house' as any,\r\n      billType: 'bill' as any,\r\n      priority: 'medium' as any,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\storage\\bill-storage-with-transformers.example.ts",
      "line": 273,
      "column": 24,
      "context": "      status: billData.status as any,\r\n      chamber: 'house' as any,\r\n      billType: 'bill' as any,\r\n      priority: 'medium' as any,\r\n      introductionDate: new Date(),\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\storage\\bill-storage-with-transformers.example.ts",
      "line": 274,
      "column": 26,
      "context": "      chamber: 'house' as any,\r\n      billType: 'bill' as any,\r\n      priority: 'medium' as any,\r\n      introductionDate: new Date(),\r\n      congress: 118,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\storage\\bill-storage-with-transformers.example.ts",
      "line": 278,
      "column": 37,
      "context": "      congress: 118,\r\n      session: 1,\r\n      sponsorId: billData.sponsorId as any,\r\n      timeline: [],\r\n      engagement: {\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\storage\\bill-storage-with-transformers.example.ts",
      "line": 306,
      "column": 22,
      "context": "    const updated: Bill = {\r\n      ...bill,\r\n      status: status as any,\r\n      updatedAt: new Date(),\r\n    };\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\routes\\regulatory-monitoring.ts",
      "line": 392,
      "column": 23,
      "context": "    {\r\n      source: 'database',\r\n      requestId: (req as any).traceId,\r\n      executionTime: Date.now() - (req as any).startTime\r\n    }\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\routes\\regulatory-monitoring.ts",
      "line": 393,
      "column": 40,
      "context": "      source: 'database',\r\n      requestId: (req as any).traceId,\r\n      executionTime: Date.now() - (req as any).startTime\r\n    }\r\n  );\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\validation-middleware.ts",
      "line": 154,
      "column": 33,
      "context": "      // Replace request data with validated data\r\n      // This ensures type safety and strips unknown fields if configured\r\n      req[target] = result.data as any;\r\n\r\n      next();\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\privacy-middleware.ts",
      "line": 240,
      "column": 10,
      "context": "\n    // Add retention preferences to request for use by other middleware/routes\n    (req as any).dataRetentionPrefs = preferences.dataRetention;\n\n    next();",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\privacy-middleware.ts",
      "line": 259,
      "column": 12,
      "context": "    const parts = originalIP.split('.');\n    if (parts.length === 4) {\n      (req as any).ip = `${parts[0]}.${parts[1]}.${parts[2]}.0`;\n    }\n  }",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\privacy-middleware.ts",
      "line": 266,
      "column": 12,
      "context": "    const parts = originalIP.split(':');\n    if (parts.length >= 4) {\n      (req as any).ip = `${parts.slice(0, 4).join(':')}::`;\n    }\n  }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\error-management.ts",
      "line": 42,
      "column": 8,
      "context": "\r\n  // Store on request for easy access\r\n  (req as any).correlationId = correlationId;\r\n\r\n  next();\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\error-management.ts",
      "line": 52,
      "column": 54,
      "context": "    url: req.url,\r\n    ip: req.ip,\r\n    correlationId: getCurrentCorrelationId() || (req as any).correlationId || '',\r\n  };\r\n}\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\circuit-breaker-middleware.ts",
      "line": 323,
      "column": 37,
      "context": "  const circuitBreaker = circuitBreakers.get(serviceName);\r\n  if (circuitBreaker) {\r\n    circuitBreaker.forceState(state as any);\r\n    logger.warn('Circuit breaker state forced', {\r\n      component: 'CircuitBreakerMiddleware',\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\boom-error-middleware.ts",
      "line": 53,
      "column": 25,
      "context": "          operation: req.method + ' ' + req.path,\n          requestId: req.headers['x-request-id'] as string,\n          user_id: (req as any).user?.id\n        }\n      );",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\boom-error-middleware.ts",
      "line": 88,
      "column": 25,
      "context": "          operation: req.method + ' ' + req.path,\n          requestId: req.headers['x-request-id'] as string,\n          user_id: (req as any).user?.id\n        }\n      );",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\boom-error-middleware.ts",
      "line": 108,
      "column": 25,
      "context": "          operation: req.method + ' ' + req.path,\n          requestId: req.headers['x-request-id'] as string,\n          user_id: (req as any).user?.id\n        }\n      );",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\boom-error-middleware.ts",
      "line": 129,
      "column": 25,
      "context": "          operation: req.method + ' ' + req.path,\n          requestId: req.headers['x-request-id'] as string,\n          user_id: (req as any).user?.id\n        }\n      );",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\boom-error-middleware.ts",
      "line": 149,
      "column": 25,
      "context": "          operation: req.method + ' ' + req.path,\n          requestId: req.headers['x-request-id'] as string,\n          user_id: (req as any).user?.id\n        }\n      );",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\boom-error-middleware.ts",
      "line": 168,
      "column": 25,
      "context": "          operation: req.method + ' ' + req.path,\n          requestId: req.headers['x-request-id'] as string,\n          user_id: (req as any).user?.id\n        }\n      );",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\boom-error-middleware.ts",
      "line": 213,
      "column": 23,
      "context": "        path: req.path,\n        method: req.method,\n        user_id: (req as any).user?.id,\n        requestId: req.headers['x-request-id']\n      });",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\boom-error-middleware.ts",
      "line": 267,
      "column": 23,
      "context": "    metadata: {\n      service: 'legislative-platform',\n      requestId: (req as any).requestId || req.headers['x-request-id'] as string\n    }\n  };",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\boom-error-middleware.ts",
      "line": 302,
      "column": 19,
      "context": "    path: req.path,\n    method: req.method,\n    user_id: (req as any).user?.id,\n    requestId: req.headers['x-request-id'],\n    userAgent: req.headers['user-agent'],",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\boom-error-middleware.ts",
      "line": 343,
      "column": 10,
      "context": "    req.headers['x-request-id'] = requestId;\n    // Also set it as a property for easier access\n    (req as any).requestId = requestId;\n  } else {\n    (req as any).requestId = req.headers['x-request-id'];",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\boom-error-middleware.ts",
      "line": 345,
      "column": 10,
      "context": "    (req as any).requestId = requestId;\n  } else {\n    (req as any).requestId = req.headers['x-request-id'];\n  }\n",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\boom-error-middleware.ts",
      "line": 349,
      "column": 8,
      "context": "\n  // Add timestamp\n  (req as any).startTime = Date.now();\n\n  next();",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\api-contract-validation.ts",
      "line": 145,
      "column": 42,
      "context": "\r\n      // Attach validated params to request\r\n      req.params = paramsValidation.data as any;\r\n\r\n      // Validate request body if not GET/DELETE\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\api-contract-validation.ts",
      "line": 212,
      "column": 40,
      "context": "\r\n      // Attach validated query to request\r\n      req.query = queryValidation.data as any;\r\n\r\n      // Continue to next middleware\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\api-contract-validation.ts",
      "line": 257,
      "column": 42,
      "context": "\r\n      // Attach validated params to request\r\n      req.params = paramsValidation.data as any;\r\n\r\n      // Validate query parameters\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\api-contract-validation.ts",
      "line": 277,
      "column": 40,
      "context": "\r\n      // Attach validated query to request\r\n      req.query = queryValidation.data as any;\r\n\r\n      // Validate request body if not GET/DELETE\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\ai-middleware.ts",
      "line": 59,
      "column": 21,
      "context": "      startTime,\r\n      requestId,\r\n      user_id: (req as any).user?.id,\r\n      cached: false\r\n     };\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\middleware\\ai-middleware.ts",
      "line": 255,
      "column": 52,
      "context": "  return {\r\n    valid: errors.length === 0,\r\n    errors: errors.length > 0 ? errors : undefined as any\r\n  };\r\n}\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\config\\index.ts",
      "line": 714,
      "column": 46,
      "context": "    // may not be set or are intentionally short.\r\n    if (!isProd()) {\r\n      rawConfig.auth = rawConfig.auth || ({} as any);\r\n      const safeJwt = getEnvVar('JWT_SECRET', 'development-jwt-secret-change-in-production-please-change-in-production-2025');\r\n      const safeSession = getEnvVar('SESSION_SECRET', 'development-session-secret-change-in-production-please-change-2025');\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\tests\\utils\\logger.ts",
      "line": 18,
      "column": 37,
      "context": "    performanceMetrics: { averageResponseTime: 0, slowRequests: 0 }\r\n  }),\r\n  queryLogs: (_filters?: any) => [] as any[],\r\n  logPerformance: (_operation: string, _duration: number, _meta?: any) => {},\r\n  logSecurity: (_event: string, _user_id?: string, _meta?: any) => {},\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\tests\\integration\\websocket-backward-compatibility.test.ts",
      "line": 271,
      "column": 39,
      "context": "\r\n      // Verify data types\r\n      expect(typeof (analysis.process as any).rss).toBe('number');\r\n      expect(typeof (analysis.process as any).heapTotal).toBe('number');\r\n      expect(typeof (analysis.process as any).heapUsed).toBe('number');\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\tests\\integration\\websocket-backward-compatibility.test.ts",
      "line": 272,
      "column": 39,
      "context": "      // Verify data types\r\n      expect(typeof (analysis.process as any).rss).toBe('number');\r\n      expect(typeof (analysis.process as any).heapTotal).toBe('number');\r\n      expect(typeof (analysis.process as any).heapUsed).toBe('number');\r\n      expect(typeof (analysis.analysis as any).heapUsedPercent).toBe('number');\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\tests\\integration\\websocket-backward-compatibility.test.ts",
      "line": 273,
      "column": 39,
      "context": "      expect(typeof (analysis.process as any).rss).toBe('number');\r\n      expect(typeof (analysis.process as any).heapTotal).toBe('number');\r\n      expect(typeof (analysis.process as any).heapUsed).toBe('number');\r\n      expect(typeof (analysis.analysis as any).heapUsedPercent).toBe('number');\r\n    });\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\tests\\integration\\websocket-backward-compatibility.test.ts",
      "line": 274,
      "column": 40,
      "context": "      expect(typeof (analysis.process as any).heapTotal).toBe('number');\r\n      expect(typeof (analysis.process as any).heapUsed).toBe('number');\r\n      expect(typeof (analysis.analysis as any).heapUsedPercent).toBe('number');\r\n    });\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\tests\\integration\\websocket-backward-compatibility.test.ts",
      "line": 279,
      "column": 44,
      "context": "    it('should calculate heap usage percentage correctly', () => {\r\n      const analysis = service.forceMemoryAnalysis();\r\n      const processInfo = analysis.process as any;\r\n      const analysisInfo = analysis.analysis as any;\r\n      const { heapUsed, heapTotal } = processInfo;\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "server\\tests\\integration\\websocket-backward-compatibility.test.ts",
      "line": 280,
      "column": 46,
      "context": "      const analysis = service.forceMemoryAnalysis();\r\n      const processInfo = analysis.process as any;\r\n      const analysisInfo = analysis.analysis as any;\r\n      const { heapUsed, heapTotal } = processInfo;\r\n      const expectedPercent = (heapUsed / heapTotal) * 100;\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "server\\tests\\integration\\websocket-backward-compatibility.test.ts",
      "line": 340,
      "column": 38,
      "context": "    it('should handle null/undefined parameters gracefully', () => {\r\n      expect(() => {\r\n        service.isUserConnected(null as any);\r\n        service.getConnectionCount(undefined as any);\r\n        service.sendUserNotification('test', null as any);\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "server\\tests\\integration\\websocket-backward-compatibility.test.ts",
      "line": 341,
      "column": 46,
      "context": "      expect(() => {\r\n        service.isUserConnected(null as any);\r\n        service.getConnectionCount(undefined as any);\r\n        service.sendUserNotification('test', null as any);\r\n        service.broadcastBillUpdate(123, undefined as any);\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "server\\tests\\integration\\websocket-backward-compatibility.test.ts",
      "line": 342,
      "column": 51,
      "context": "        service.isUserConnected(null as any);\r\n        service.getConnectionCount(undefined as any);\r\n        service.sendUserNotification('test', null as any);\r\n        service.broadcastBillUpdate(123, undefined as any);\r\n      }).not.toThrow();\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\tests\\integration\\websocket-backward-compatibility.test.ts",
      "line": 343,
      "column": 52,
      "context": "        service.getConnectionCount(undefined as any);\r\n        service.sendUserNotification('test', null as any);\r\n        service.broadcastBillUpdate(123, undefined as any);\r\n      }).not.toThrow();\r\n    });\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\security\\input-validation-service.ts",
      "line": 186,
      "column": 12,
      "context": "\r\n      // Replace the original input with validated/sanitized data\r\n      (req as any)[source] = validation.data;\r\n      next();\r\n    };\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\security\\data-privacy-service.ts",
      "line": 427,
      "column": 48,
      "context": "    numericFields.forEach(field => {\r\n      if (!excludeFields.includes(field)) {\r\n        const values = items.map(item => (item as any)[field]).filter(v => typeof v === 'number');\r\n        if (values.length > 0) {\r\n          aggregated[`${field}_avg`] = values.reduce((a, b) => a + b, 0) / values.length;\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\security\\data-privacy-service.ts",
      "line": 446,
      "column": 25,
      "context": "    const excludeFields = [...this.SENSITIVE_FIELDS, ...additionalExcludes];\r\n    \r\n    Object.entries(item as any).forEach(([key, value]) => {\r\n      if (!excludeFields.some(field => key.toLowerCase().includes(field.toLowerCase()))) {\r\n        result[key] = value;\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\validation-integration.ts",
      "line": 103,
      "column": 50,
      "context": "\n  if (errors.length === 0) {\n    return { success: true, data: validatedItems as any };\n  }\n",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\schema-generators.ts",
      "line": 126,
      "column": 36,
      "context": "  config: SchemaTransformConfig<T>\n): Promise<U> {\n  let transformed: any = { ...data as any };\n\n  // Apply field mapping",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\schema-generators.ts",
      "line": 254,
      "column": 36,
      "context": "      const fieldValidations = await Promise.all(\n        Object.entries(context.fieldRules).map(async ([field, fieldSchema]) => {\n          const fieldValue = (data as any)?.[field];\n          const result = await fieldSchema.parseAsync(fieldValue);\n          return [field, result] as const;",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration.ts",
      "line": 192,
      "column": 19,
      "context": "    typeof value === 'object' &&\n    value !== null &&\n    typeof (value as any).id === 'string' &&\n    typeof (value as any).email === 'string' &&\n    typeof (value as any).role === 'string' &&",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration.ts",
      "line": 193,
      "column": 19,
      "context": "    value !== null &&\n    typeof (value as any).id === 'string' &&\n    typeof (value as any).email === 'string' &&\n    typeof (value as any).role === 'string' &&\n    typeof (value as any).is_verified === 'boolean' &&",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration.ts",
      "line": 194,
      "column": 19,
      "context": "    typeof (value as any).id === 'string' &&\n    typeof (value as any).email === 'string' &&\n    typeof (value as any).role === 'string' &&\n    typeof (value as any).is_verified === 'boolean' &&\n    typeof (value as any).created_at === 'object' &&",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration.ts",
      "line": 195,
      "column": 19,
      "context": "    typeof (value as any).email === 'string' &&\n    typeof (value as any).role === 'string' &&\n    typeof (value as any).is_verified === 'boolean' &&\n    typeof (value as any).created_at === 'object' &&\n    (value as any).created_at instanceof Date",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration.ts",
      "line": 196,
      "column": 19,
      "context": "    typeof (value as any).role === 'string' &&\n    typeof (value as any).is_verified === 'boolean' &&\n    typeof (value as any).created_at === 'object' &&\n    (value as any).created_at instanceof Date\n  );",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration.ts",
      "line": 197,
      "column": 12,
      "context": "    typeof (value as any).is_verified === 'boolean' &&\n    typeof (value as any).created_at === 'object' &&\n    (value as any).created_at instanceof Date\n  );\n}",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 661,
      "column": 19,
      "context": "    typeof value === 'object' &&\n    value !== null &&\n    typeof (value as any).id === 'string' &&\n    typeof (value as any).bill_number === 'string' &&\n    typeof (value as any).title === 'string' &&",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 662,
      "column": 19,
      "context": "    value !== null &&\n    typeof (value as any).id === 'string' &&\n    typeof (value as any).bill_number === 'string' &&\n    typeof (value as any).title === 'string' &&\n    typeof (value as any).status === 'string' &&",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 663,
      "column": 19,
      "context": "    typeof (value as any).id === 'string' &&\n    typeof (value as any).bill_number === 'string' &&\n    typeof (value as any).title === 'string' &&\n    typeof (value as any).status === 'string' &&\n    typeof (value as any).chamber === 'string' &&",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 664,
      "column": 19,
      "context": "    typeof (value as any).bill_number === 'string' &&\n    typeof (value as any).title === 'string' &&\n    typeof (value as any).status === 'string' &&\n    typeof (value as any).chamber === 'string' &&\n    typeof (value as any).created_at === 'object' &&",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 665,
      "column": 19,
      "context": "    typeof (value as any).title === 'string' &&\n    typeof (value as any).status === 'string' &&\n    typeof (value as any).chamber === 'string' &&\n    typeof (value as any).created_at === 'object' &&\n    (value as any).created_at instanceof Date",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 666,
      "column": 19,
      "context": "    typeof (value as any).status === 'string' &&\n    typeof (value as any).chamber === 'string' &&\n    typeof (value as any).created_at === 'object' &&\n    (value as any).created_at instanceof Date\n  );",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 667,
      "column": 12,
      "context": "    typeof (value as any).chamber === 'string' &&\n    typeof (value as any).created_at === 'object' &&\n    (value as any).created_at instanceof Date\n  );\n}",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 675,
      "column": 19,
      "context": "    typeof value === 'object' &&\n    value !== null &&\n    typeof (value as any).id === 'string' &&\n    typeof (value as any).name === 'string' &&\n    typeof (value as any).chamber === 'string' &&",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 676,
      "column": 19,
      "context": "    value !== null &&\n    typeof (value as any).id === 'string' &&\n    typeof (value as any).name === 'string' &&\n    typeof (value as any).chamber === 'string' &&\n    typeof (value as any).is_active === 'boolean' &&",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 677,
      "column": 19,
      "context": "    typeof (value as any).id === 'string' &&\n    typeof (value as any).name === 'string' &&\n    typeof (value as any).chamber === 'string' &&\n    typeof (value as any).is_active === 'boolean' &&\n    typeof (value as any).created_at === 'object' &&",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 678,
      "column": 19,
      "context": "    typeof (value as any).name === 'string' &&\n    typeof (value as any).chamber === 'string' &&\n    typeof (value as any).is_active === 'boolean' &&\n    typeof (value as any).created_at === 'object' &&\n    (value as any).created_at instanceof Date",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 679,
      "column": 19,
      "context": "    typeof (value as any).chamber === 'string' &&\n    typeof (value as any).is_active === 'boolean' &&\n    typeof (value as any).created_at === 'object' &&\n    (value as any).created_at instanceof Date\n  );",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 680,
      "column": 12,
      "context": "    typeof (value as any).is_active === 'boolean' &&\n    typeof (value as any).created_at === 'object' &&\n    (value as any).created_at instanceof Date\n  );\n}",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 688,
      "column": 19,
      "context": "    typeof value === 'object' &&\n    value !== null &&\n    typeof (value as any).id === 'string' &&\n    typeof (value as any).name === 'string' &&\n    typeof (value as any).county === 'string' &&",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 689,
      "column": 19,
      "context": "    value !== null &&\n    typeof (value as any).id === 'string' &&\n    typeof (value as any).name === 'string' &&\n    typeof (value as any).county === 'string' &&\n    typeof (value as any).is_active === 'boolean' &&",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 690,
      "column": 19,
      "context": "    typeof (value as any).id === 'string' &&\n    typeof (value as any).name === 'string' &&\n    typeof (value as any).county === 'string' &&\n    typeof (value as any).is_active === 'boolean' &&\n    typeof (value as any).created_at === 'object' &&",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 691,
      "column": 19,
      "context": "    typeof (value as any).name === 'string' &&\n    typeof (value as any).county === 'string' &&\n    typeof (value as any).is_active === 'boolean' &&\n    typeof (value as any).created_at === 'object' &&\n    (value as any).created_at instanceof Date",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 692,
      "column": 19,
      "context": "    typeof (value as any).county === 'string' &&\n    typeof (value as any).is_active === 'boolean' &&\n    typeof (value as any).created_at === 'object' &&\n    (value as any).created_at instanceof Date\n  );",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 693,
      "column": 12,
      "context": "    typeof (value as any).is_active === 'boolean' &&\n    typeof (value as any).created_at === 'object' &&\n    (value as any).created_at instanceof Date\n  );\n}",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 701,
      "column": 19,
      "context": "    typeof value === 'object' &&\n    value !== null &&\n    typeof (value as any).id === 'string' &&\n    typeof (value as any).name === 'string' &&\n    typeof (value as any).chamber === 'string' &&",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 702,
      "column": 19,
      "context": "    value !== null &&\n    typeof (value as any).id === 'string' &&\n    typeof (value as any).name === 'string' &&\n    typeof (value as any).chamber === 'string' &&\n    typeof (value as any).is_active === 'boolean' &&",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 703,
      "column": 19,
      "context": "    typeof (value as any).id === 'string' &&\n    typeof (value as any).name === 'string' &&\n    typeof (value as any).chamber === 'string' &&\n    typeof (value as any).is_active === 'boolean' &&\n    typeof (value as any).created_at === 'object' &&",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 704,
      "column": 19,
      "context": "    typeof (value as any).name === 'string' &&\n    typeof (value as any).chamber === 'string' &&\n    typeof (value as any).is_active === 'boolean' &&\n    typeof (value as any).created_at === 'object' &&\n    (value as any).created_at instanceof Date",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 705,
      "column": 19,
      "context": "    typeof (value as any).chamber === 'string' &&\n    typeof (value as any).is_active === 'boolean' &&\n    typeof (value as any).created_at === 'object' &&\n    (value as any).created_at instanceof Date\n  );",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\schema\\integration-extended.ts",
      "line": 706,
      "column": 12,
      "context": "    typeof (value as any).is_active === 'boolean' &&\n    typeof (value as any).created_at === 'object' &&\n    (value as any).created_at instanceof Date\n  );\n}",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\observability\\index.ts",
      "line": 272,
      "column": 22,
      "context": "export const getMonitoringService = () => MonitoringService.getInstance();\r\nexport const resetMonitoringService = () => {\r\n  (MonitoringService as any).instance = undefined;\r\n};\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\observability\\external-api-management.ts",
      "line": 68,
      "column": 33,
      "context": "      // Provide more detailed error information\r\n      const errorMessage = error instanceof Error ? error.message : 'An unexpected error occurred';\r\n      const statusCode = (error as any).statusCode || 500;\r\n      \r\n      return res.status(statusCode).json(ApiResponseWrapper.error(errorMessage, 'API_ERROR', statusCode));\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\observability\\audit-log.ts",
      "line": 47,
      "column": 21,
      "context": "    const auditEntry: AuditLogEntry = {\r\n      timestamp: new Date(),\r\n      user_id: (req as any).user?.id,\r\n      action: `${req.method} ${req.path}`,\r\n      resource: req.path,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\observability\\audit-log.ts",
      "line": 56,
      "column": 24,
      "context": "      statusCode: res.statusCode,\r\n      duration,\r\n      session_id: (req as any).session?.id,\r\n      correlationId: (req as any).correlationId,\r\n      sensitive: isSensitiveEndpoint(req.path, req.method),\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\observability\\audit-log.ts",
      "line": 57,
      "column": 27,
      "context": "      duration,\r\n      session_id: (req as any).session?.id,\r\n      correlationId: (req as any).correlationId,\r\n      sensitive: isSensitiveEndpoint(req.path, req.method),\r\n      risk_level: determineRiskLevel(req, res),\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\observability\\audit-log.ts",
      "line": 205,
      "column": 22,
      "context": "    ip: req?.ip || req?.connection?.remoteAddress || 'unknown',\r\n    user_agent: req?.get('User-Agent'),\r\n    session_id: (req as any)?.session?.id,\r\n    correlationId: (req as any)?.correlationId,\r\n    sensitive: true,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\observability\\audit-log.ts",
      "line": 206,
      "column": 25,
      "context": "    user_agent: req?.get('User-Agent'),\r\n    session_id: (req as any)?.session?.id,\r\n    correlationId: (req as any)?.correlationId,\r\n    sensitive: true,\r\n    risk_level: 'high' as const,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\notifications\\smart-notification-filter.ts",
      "line": 250,
      "column": 64,
      "context": "    if (typeKey) {\r\n        // Check if the specific tracking type is enabled in the combined preferences\r\n        enabled = preferences.tracking_types?.includes(typeKey as any) ?? false; // Check the array\r\n    }\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\notifications\\notification-scheduler.ts",
      "line": 420,
      "column": 44,
      "context": "      }))\r\n      .filter(userData => {\r\n        const prefs = userData.preferences as any;\r\n        return prefs?.billTracking?.advancedSettings?.digestSchedule?.enabled === true;\r\n      });\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\notifications\\notification-orchestrator.ts",
      "line": 595,
      "column": 53,
      "context": "                'sms': 'sms'\r\n              };\r\n              return channelMap[channel] || channel as any;\r\n            }),\r\n          _perBillSettingsApplied: false\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\notifications\\notification-orchestrator.ts",
      "line": 1036,
      "column": 40,
      "context": "        recommendedChannels: Object.entries(currentCombinedPrefs.billTracking.notificationChannels)\r\n          .filter(([, enabled]) => enabled)\r\n          .map(([channel]) => channel) as any,\r\n        shouldBatch: false,\r\n        reasons: ['Digest Delivery'],\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\notifications\\notification-channels.ts",
      "line": 217,
      "column": 56,
      "context": "        id: crypto.randomUUID(),\r\n        user_id: request.user_id,\r\n        notification_type: (request.metadata?.category as any) || 'bill_update',\r\n        title: request.content.title,\r\n        message: request.content.message,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\notifications\\notification-channels.ts",
      "line": 264,
      "column": 20,
      "context": "        logger.warn('WebSocket delivery failed, but notification was saved:', {\r\n          component: 'ChannelService'\r\n        }, wsError as any);\r\n      }\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\notifications\\email-service.ts",
      "line": 874,
      "column": 41,
      "context": "        // Check if service is actually connected (not in fallback)\r\n        if ('getStatus' in service) {\r\n          const status = await (service as any).getStatus();\r\n          if (status?.connected) {\r\n            logger.info(` Email service initialized with provider: ${provider}`);\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\notifications\\email-service.ts",
      "line": 879,
      "column": 66,
      "context": "            return service;\r\n          }\r\n        } else if (!('isInFallbackMode' in service) || !(service as any).isInFallbackMode?.()) {\r\n          logger.info(` Email service initialized with provider: ${provider}`);\r\n          return service;\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\repository-deployment-validator.ts",
      "line": 476,
      "column": 116,
      "context": "      }\r\n    } catch (error) {\r\n      logger.error('Error validating user data consistency', { component: 'RepositoryDeploymentValidator' }, error as any);\r\n    }\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\repository-deployment-validator.ts",
      "line": 504,
      "column": 116,
      "context": "      }\r\n    } catch (error) {\r\n      logger.error('Error validating bill data consistency', { component: 'RepositoryDeploymentValidator' }, error as any);\r\n    }\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\repository-deployment-validator.ts",
      "line": 528,
      "column": 122,
      "context": "      }\r\n    } catch (error) {\r\n      logger.error('Error validating engagement data consistency', { component: 'RepositoryDeploymentValidator' }, error as any);\r\n    }\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\phase1-deployment-orchestrator.ts",
      "line": 194,
      "column": 22,
      "context": "      deploymentId: this.deploymentId,\r\n      executionTime: Date.now() - this.startTime.getTime(),\r\n      components: {} as any,\r\n      systemMetrics: {} as any,\r\n      abTestingResults: {} as any,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\phase1-deployment-orchestrator.ts",
      "line": 195,
      "column": 25,
      "context": "      executionTime: Date.now() - this.startTime.getTime(),\r\n      components: {} as any,\r\n      systemMetrics: {} as any,\r\n      abTestingResults: {} as any,\r\n      validationSummary: {} as any,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\phase1-deployment-orchestrator.ts",
      "line": 196,
      "column": 28,
      "context": "      components: {} as any,\r\n      systemMetrics: {} as any,\r\n      abTestingResults: {} as any,\r\n      validationSummary: {} as any,\r\n      timestamp: new Date()\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\phase1-deployment-orchestrator.ts",
      "line": 197,
      "column": 29,
      "context": "      systemMetrics: {} as any,\r\n      abTestingResults: {} as any,\r\n      validationSummary: {} as any,\r\n      timestamp: new Date()\r\n    };\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\phase1-deployment-orchestrator.ts",
      "line": 267,
      "column": 26,
      "context": "          deploymentId: this.deploymentId,\r\n          timestamp: new Date(),\r\n          components: {} as any,\r\n          systemHealth: 'healthy',\r\n          alerts: monitoringService.getActiveAlerts().length\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\deployment-orchestrator.ts",
      "line": 325,
      "column": 93,
      "context": "      return validationPassed && thresholdsPassed;\r\n    } catch (error) {\r\n      logger.error('Phase validation error', { component: 'DeploymentOrchestrator' }, error as any);\r\n      return false;\r\n    }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\deployment-orchestrator.ts",
      "line": 403,
      "column": 96,
      "context": "        await this.performMonitoringCheck();\r\n      } catch (error) {\r\n        logger.error('Monitoring check failed', { component: 'DeploymentOrchestrator' }, error as any);\r\n      }\r\n    }, this.deploymentPlan.monitoringInterval * 1000);\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\deployment-orchestrator.ts",
      "line": 458,
      "column": 86,
      "context": "      });\r\n    } catch (error) {\r\n      logger.error('Rollback failed', { component: 'DeploymentOrchestrator' }, error as any);\r\n      throw error;\r\n    }\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\deployment-monitoring-dashboard.ts",
      "line": 125,
      "column": 111,
      "context": "          this.cleanupHistoricalData();\r\n        } catch (error) {\r\n          logger.error('Error during monitoring cycle', { component: 'DeploymentMonitoringDashboard' }, error as any);\r\n        }\r\n      }, this.config.refreshInterval * 1000);\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\deployment-monitoring-dashboard.ts",
      "line": 243,
      "column": 102,
      "context": "      });\r\n    } catch (error) {\r\n      logger.error('Error collecting metrics', { component: 'DeploymentMonitoringDashboard' }, error as any);\r\n    }\r\n  }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\migration\\deployment-monitoring-dashboard.ts",
      "line": 377,
      "column": 103,
      "context": "        callback(alert);\r\n      } catch (error) {\r\n        logger.error('Error in alert callback', { component: 'DeploymentMonitoringDashboard' }, error as any);\r\n      }\r\n    });\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\integration\\service-orchestrator.ts",
      "line": 323,
      "column": 16,
      "context": "      try {\r\n        const structureExtractor = new StructureExtractorService(\r\n          null as any, // Would be properly injected\r\n          null as any,\r\n          null as any\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\integration\\service-orchestrator.ts",
      "line": 324,
      "column": 16,
      "context": "        const structureExtractor = new StructureExtractorService(\r\n          null as any, // Would be properly injected\r\n          null as any,\r\n          null as any\r\n        );\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\integration\\service-orchestrator.ts",
      "line": 325,
      "column": 16,
      "context": "          null as any, // Would be properly injected\r\n          null as any,\r\n          null as any\r\n        );\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\recovery-patterns.ts",
      "line": 138,
      "column": 38,
      "context": "\r\n    return new Promise((resolve, reject) => {\r\n      this.queuedTasks.push({ fn: fn as any, resolve, reject });\r\n    });\r\n  }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\migration-example.ts",
      "line": 61,
      "column": 18,
      "context": "      const standardizedError = legacyHandler.createError(\r\n        error,\r\n        'system' as any,\r\n        serviceContext\r\n      );\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\migration-example.ts",
      "line": 118,
      "column": 43,
      "context": "    }\r\n\r\n    return { ok: true, value: undefined } as any;\r\n  }\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\migration-example.ts",
      "line": 236,
      "column": 75,
      "context": "    } else {\r\n      // Use legacy approach\r\n      const standardizedError = legacyHandler.createError(error, 'system' as any, context);\r\n      return legacyHandler.toErrorResponse(standardizedError);\r\n    }\r",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\error-configuration.ts",
      "line": 24,
      "column": 23,
      "context": "  async report(error: Error, context?: ErrorContext): Promise<void> {\r\n    const metadata = {\r\n      errorId: (error as any).errorId,\r\n      domain: (error as any).domain,\r\n      severity: (error as any).severity,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\error-configuration.ts",
      "line": 25,
      "column": 22,
      "context": "    const metadata = {\r\n      errorId: (error as any).errorId,\r\n      domain: (error as any).domain,\r\n      severity: (error as any).severity,\r\n      correlationId: context?.correlationId,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\error-configuration.ts",
      "line": 26,
      "column": 24,
      "context": "      errorId: (error as any).errorId,\r\n      domain: (error as any).domain,\r\n      severity: (error as any).severity,\r\n      correlationId: context?.correlationId,\r\n      userId: context?.userId,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\error-configuration.ts",
      "line": 63,
      "column": 30,
      "context": "\r\n  async handle(error: Error): Promise<{ recovered: boolean; newError?: Error }> {\r\n    const errorCode = (error as any).code || 'INTERNAL_SERVER_ERROR';\r\n\r\n    // Don't recover from client errors (4xx)\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\error-configuration.ts",
      "line": 66,
      "column": 38,
      "context": "\r\n    // Don't recover from client errors (4xx)\r\n    if (ERROR_STATUS_CODES[errorCode as any] >= 400 && ERROR_STATUS_CODES[errorCode as any] < 500) {\r\n      return { recovered: false, newError: error };\r\n    }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\error-configuration.ts",
      "line": 66,
      "column": 85,
      "context": "\r\n    // Don't recover from client errors (4xx)\r\n    if (ERROR_STATUS_CODES[errorCode as any] >= 400 && ERROR_STATUS_CODES[errorCode as any] < 500) {\r\n      return { recovered: false, newError: error };\r\n    }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\error-configuration.ts",
      "line": 164,
      "column": 46,
      "context": "export function buildErrorResponse(error: Error, context: ErrorContext) {\r\n  const code = detectErrorCode(error);\r\n  const statusCode = ERROR_STATUS_CODES[code as any] || 500;\r\n  const message = ERROR_MESSAGES[code as any] || error.message;\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\errors\\error-configuration.ts",
      "line": 165,
      "column": 39,
      "context": "  const code = detectErrorCode(error);\r\n  const statusCode = ERROR_STATUS_CODES[code as any] || 500;\r\n  const message = ERROR_MESSAGES[code as any] || error.message;\r\n\r\n  return {\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\database\\monitoring.ts",
      "line": 207,
      "column": 64,
      "context": "        // Record pool health metrics\r\n        for (const [poolName, status] of Object.entries(healthStatuses)) {\r\n          pm.recordMetric('db.pool.connections.total', (status as any).totalConnections, {\r\n            pool: poolName,\r\n            component: 'database_monitoring'\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\database\\monitoring.ts",
      "line": 211,
      "column": 63,
      "context": "            component: 'database_monitoring'\r\n          });\r\n          pm.recordMetric('db.pool.connections.idle', (status as any).idleConnections, {\r\n            pool: poolName,\r\n            component: 'database_monitoring'\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\database\\monitoring.ts",
      "line": 215,
      "column": 66,
      "context": "            component: 'database_monitoring'\r\n          });\r\n          pm.recordMetric('db.pool.connections.waiting', (status as any).waitingClients, {\r\n            pool: poolName,\r\n            component: 'database_monitoring'\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\database\\monitoring.ts",
      "line": 221,
      "column": 54,
      "context": "\r\n          // Record health status\r\n          pm.recordMetric('db.pool.healthy', (status as any).isHealthy ? 1 : 0, {\r\n            pool: poolName,\r\n            component: 'database_monitoring'\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\database\\monitoring.ts",
      "line": 229,
      "column": 72,
      "context": "\r\n      // Analyze health status and identify critical issues\r\n      const criticalIssues = this.analyzeHealthStatuses(healthStatuses as any);\r\n\r\n      if (criticalIssues.length > 0) {\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\database\\monitoring.ts",
      "line": 234,
      "column": 46,
      "context": "        this.handleCriticalIssues(criticalIssues);\r\n      } else {\r\n        this.logHealthyStatus(healthStatuses as any);\r\n      }\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\database\\monitoring.ts",
      "line": 239,
      "column": 54,
      "context": "      // Track health state changes for alerting\r\n      if (this.config.alertOnHealthChange) {\r\n        this.detectHealthStateChanges(healthStatuses as any);\r\n      }\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\config\\manager.ts",
      "line": 734,
      "column": 15,
      "context": "\r\n        // Store watcher reference for cleanup\r\n        (this as any)[`_watcher_${file}`] = watcher;\r\n      }\r\n    }\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\config\\index.ts",
      "line": 75,
      "column": 47,
      "context": "\r\n        const errorMessage = `Configuration validation failed: ${errors.map(e => `${e.path}: ${e.message}`).join(', ')}`;\r\n        const error = new Error(errorMessage) as any;\r\n        error.validationErrors = errors;\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\single-flight-cache.ts",
      "line": 756,
      "column": 46,
      "context": "    this.fallbackCache.clear();\r\n    \r\n    if (this.adapter && typeof (this.adapter as any).destroy === 'function') {\r\n      (this.adapter as any).destroy();\r\n    }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\single-flight-cache.ts",
      "line": 757,
      "column": 21,
      "context": "    \r\n    if (this.adapter && typeof (this.adapter as any).destroy === 'function') {\r\n      (this.adapter as any).destroy();\r\n    }\r\n  }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\interfaces.ts",
      "line": 635,
      "column": 61,
      "context": " *       return new MultiTierCacheAdapter(config);\r\n *     default:\r\n *       throw new Error(`Unsupported cache type: ${(config as any).type}`);\r\n *   }\r\n * }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\factory.ts",
      "line": 140,
      "column": 22,
      "context": "  // For now, return the base adapter directly to avoid interface conflicts\r\n  // TODO: Fix SingleFlightCache interface compatibility\r\n  return baseAdapter as any;\r\n}\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\factory.ts",
      "line": 168,
      "column": 60,
      "context": " */\r\nexport function resetDefaultCache(): void {\r\n  if (defaultCacheInstance && typeof (defaultCacheInstance as any).destroy === 'function') {\r\n    (defaultCacheInstance as any).destroy();\r\n  }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\factory.ts",
      "line": 169,
      "column": 27,
      "context": "export function resetDefaultCache(): void {\r\n  if (defaultCacheInstance && typeof (defaultCacheInstance as any).destroy === 'function') {\r\n    (defaultCacheInstance as any).destroy();\r\n  }\r\n  defaultCacheInstance = null;\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\caching-service.ts",
      "line": 335,
      "column": 25,
      "context": "\r\n      // For now, we'll cast it - this needs to be fixed in the factory\r\n      return ok(service as any as CacheAdapter);\r\n    } catch (error) {\r\n      return err(new CacheOperationError('Failed to create cache adapter', error as Error));\r",
      "category": "type_assertion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\cache-factory.ts",
      "line": 228,
      "column": 25,
      "context": "\r\n    try {\r\n      if (typeof (cache as any).destroy === 'function') {\r\n        await (cache as any).destroy();\r\n      }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\cache-factory.ts",
      "line": 229,
      "column": 22,
      "context": "    try {\r\n      if (typeof (cache as any).destroy === 'function') {\r\n        await (cache as any).destroy();\r\n      }\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\cache-factory.ts",
      "line": 311,
      "column": 27,
      "context": "\r\n      for (const [, cache] of this.cacheInstances) {\r\n        if (typeof (cache as any).invalidateByTags === 'function') {\r\n          const count = await (cache as any).invalidateByTags(tags);\r\n          totalInvalidated += count;\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\cache-factory.ts",
      "line": 312,
      "column": 38,
      "context": "      for (const [, cache] of this.cacheInstances) {\r\n        if (typeof (cache as any).invalidateByTags === 'function') {\r\n          const count = await (cache as any).invalidateByTags(tags);\r\n          totalInvalidated += count;\r\n        }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\cache-factory.ts",
      "line": 335,
      "column": 25,
      "context": "\r\n    for (const [name, cache] of this.cacheInstances) {\r\n      if (typeof (cache as any).getHealth === 'function') {\r\n        cacheHealth[name] = await (cache as any).getHealth();\r\n      }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\cache-factory.ts",
      "line": 336,
      "column": 42,
      "context": "    for (const [name, cache] of this.cacheInstances) {\r\n      if (typeof (cache as any).getHealth === 'function') {\r\n        cacheHealth[name] = await (cache as any).getHealth();\r\n      }\r\n    }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\search\\SearchController.ts",
      "line": 55,
      "column": 35,
      "context": "        page: req.query.page ? Number(req.query.page) : 1,\r\n        limit: req.query.limit ? Number(req.query.limit) : 10,\r\n        sortBy: (req.query.sortBy as any) ?? 'relevance',\r\n        sortOrder: (req.query.sortOrder as any) ?? 'desc',\r\n      },\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\search\\SearchController.ts",
      "line": 56,
      "column": 41,
      "context": "        limit: req.query.limit ? Number(req.query.limit) : 10,\r\n        sortBy: (req.query.sortBy as any) ?? 'relevance',\r\n        sortOrder: (req.query.sortOrder as any) ?? 'desc',\r\n      },\r\n      options: {\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\search\\SearchController.ts",
      "line": 62,
      "column": 43,
      "context": "        includeHighlights: req.query.highlights === 'true',\r\n        minRelevanceScore: req.query.minScore ? Number(req.query.minScore) : undefined,\r\n        searchType: (req.query.searchType as any) ?? 'simple',\r\n      },\r\n    };\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\search\\SearchController.ts",
      "line": 251,
      "column": 35,
      "context": "        page: req.query.page ? Number(req.query.page) : 1,\r\n        limit: req.query.limit ? Number(req.query.limit) : 10,\r\n        sortBy: (req.query.sortBy as any) ?? 'relevance',\r\n        sortOrder: (req.query.sortOrder as any) ?? 'desc',\r\n      },\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\search\\SearchController.ts",
      "line": 252,
      "column": 41,
      "context": "        limit: req.query.limit ? Number(req.query.limit) : 10,\r\n        sortBy: (req.query.sortBy as any) ?? 'relevance',\r\n        sortOrder: (req.query.sortOrder as any) ?? 'desc',\r\n      },\r\n      options,\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\search\\SearchController.OLD.ts",
      "line": 35,
      "column": 35,
      "context": "        page: req.query.page ? Number(req.query.page) : 1,\r\n        limit: req.query.limit ? Number(req.query.limit) : 10,\r\n        sortBy: (req.query.sortBy as any) ?? 'relevance',\r\n        sortOrder: (req.query.sortOrder as any) ?? 'desc',\r\n      },\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\search\\SearchController.OLD.ts",
      "line": 36,
      "column": 41,
      "context": "        limit: req.query.limit ? Number(req.query.limit) : 10,\r\n        sortBy: (req.query.sortBy as any) ?? 'relevance',\r\n        sortOrder: (req.query.sortOrder as any) ?? 'desc',\r\n      },\r\n      options: {\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\search\\SearchController.OLD.ts",
      "line": 42,
      "column": 43,
      "context": "        includeHighlights: req.query.highlights === 'true',\r\n        minRelevanceScore: req.query.minScore ? Number(req.query.minScore) : undefined,\r\n        searchType: (req.query.searchType as any) ?? 'simple',\r\n      },\r\n    };\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\search\\SearchController.OLD.ts",
      "line": 108,
      "column": 35,
      "context": "        page: req.query.page ? Number(req.query.page) : 1,\r\n        limit: req.query.limit ? Number(req.query.limit) : 10,\r\n        sortBy: (req.query.sortBy as any) ?? 'relevance',\r\n        sortOrder: (req.query.sortOrder as any) ?? 'desc',\r\n      },\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\search\\SearchController.OLD.ts",
      "line": 109,
      "column": 41,
      "context": "        limit: req.query.limit ? Number(req.query.limit) : 10,\r\n        sortBy: (req.query.sortBy as any) ?? 'relevance',\r\n        sortOrder: (req.query.sortOrder as any) ?? 'desc',\r\n      },\r\n      options,\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.ts",
      "line": 59,
      "column": 26,
      "context": "\r\n  try {\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.ts",
      "line": 96,
      "column": 65,
      "context": "      domain: ErrorDomain.SYSTEM,\r\n      severity: ErrorSeverity.HIGH,\r\n      details: { component: 'notification-routes', userId: (req as any).user?.id }\r\n    });\r\n  }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.ts",
      "line": 157,
      "column": 26,
      "context": "  try {\r\n    const notification_id = req.params.id;\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.ts",
      "line": 213,
      "column": 26,
      "context": "  try {\r\n    const { notification_ids } = req.body;\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.ts",
      "line": 246,
      "column": 65,
      "context": "      domain: ErrorDomain.SYSTEM,\r\n      severity: ErrorSeverity.HIGH,\r\n      details: { component: 'notification-routes', userId: (req as any).user?.id }\r\n    });\r\n  }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.ts",
      "line": 259,
      "column": 26,
      "context": "  try {\r\n    const notification_id = req.params.id;\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.ts",
      "line": 315,
      "column": 26,
      "context": "  try {\r\n    const notification_id = req.params.id;\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.ts",
      "line": 374,
      "column": 26,
      "context": "\r\n  try {\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.ts",
      "line": 401,
      "column": 65,
      "context": "      domain: ErrorDomain.SYSTEM,\r\n      severity: ErrorSeverity.HIGH,\r\n      details: { component: 'notification-routes', userId: (req as any).user?.id }\r\n    });\r\n  }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.ts",
      "line": 417,
      "column": 26,
      "context": "\r\n  try {\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.ts",
      "line": 444,
      "column": 65,
      "context": "      domain: ErrorDomain.SYSTEM,\r\n      severity: ErrorSeverity.HIGH,\r\n      details: { component: 'notification-routes', userId: (req as any).user?.id }\r\n    });\r\n  }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.ts",
      "line": 456,
      "column": 26,
      "context": "\r\n  try {\r\n    const user_id = (req as any).user?.id;\r\n    const data = req.body;\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.ts",
      "line": 494,
      "column": 65,
      "context": "      domain: ErrorDomain.SYSTEM,\r\n      severity: ErrorSeverity.HIGH,\r\n      details: { component: 'notification-routes', userId: (req as any).user?.id }\r\n    });\r\n  }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.ts",
      "line": 506,
      "column": 26,
      "context": "\r\n  try {\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.ts",
      "line": 533,
      "column": 65,
      "context": "      domain: ErrorDomain.SYSTEM,\r\n      severity: ErrorSeverity.HIGH,\r\n      details: { component: 'notification-routes', userId: (req as any).user?.id }\r\n    });\r\n  }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.OLD.ts",
      "line": 92,
      "column": 26,
      "context": "\r\n  try {\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.OLD.ts",
      "line": 163,
      "column": 26,
      "context": "  try {\r\n    const notification_id = req.params.id;\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.OLD.ts",
      "line": 195,
      "column": 26,
      "context": "  try {\r\n    const { notification_ids } = req.body;\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.OLD.ts",
      "line": 223,
      "column": 26,
      "context": "  try {\r\n    const notification_id = req.params.id;\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.OLD.ts",
      "line": 255,
      "column": 26,
      "context": "  try {\r\n    const notification_id = req.params.id;\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.OLD.ts",
      "line": 290,
      "column": 26,
      "context": "\r\n  try {\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.OLD.ts",
      "line": 317,
      "column": 26,
      "context": "\r\n  try {\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.OLD.ts",
      "line": 340,
      "column": 26,
      "context": "\r\n  try {\r\n    const user_id = (req as any).user?.id;\r\n    const data = req.body;\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\notifications\\notification-router.OLD.ts",
      "line": 376,
      "column": 26,
      "context": "\r\n  try {\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\market\\market.service.ts",
      "line": 22,
      "column": 34,
      "context": "      commodity_id: productId, // Mapped to commodity_id\r\n      price_reported: price.toString(),\r\n      location_county: (location as any) || 'nairobi', // Default or sanitized\r\n      trust_weight: '1.0', // Default for anonymous\r\n      created_at: new Date()\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\government-data\\routes.ts",
      "line": 245,
      "column": 19,
      "context": "    const status = {\r\n      overall: 'healthy',\r\n      sources: [] as any[],\r\n      lastSync: new Date(),\r\n      nextScheduledSync: new Date(Date.now() + 3600000) // 1 hour from now\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\social-integration.ts",
      "line": 322,
      "column": 26,
      "context": "      // Save the social profile connection to database\r\n      await db.insert(userSocialProfile).values({\r\n        user_id: user_id as any, // UUID type\r\n        provider: platform,\r\n        providerId: profileData.id,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.ts",
      "line": 79,
      "column": 18,
      "context": "    // Fetch comments with applied filters\r\n    const result = await commentService.getBillComments(bill_id, {\r\n      sort: sort as any,\r\n      expertOnly,\r\n      commentType,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.ts",
      "line": 112,
      "column": 26,
      "context": "  try {\r\n    const data = req.body;\r\n    const user_id = (req as any).user?.id;\r\n\r\n    // Verify user authentication\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.ts",
      "line": 168,
      "column": 62,
      "context": "      domain: ErrorDomain.SYSTEM,\r\n      severity: ErrorSeverity.HIGH,\r\n      details: { component: 'community-routes', userId: (req as any).user?.id }\r\n    });\r\n  }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.ts",
      "line": 192,
      "column": 18,
      "context": "\r\n    const replies = await commentService.getCommentReplies(parent_id, {\r\n      sort: sort as any,\r\n      limit,\r\n      offset\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.ts",
      "line": 224,
      "column": 26,
      "context": "    const comment_id = parseInt(req.params.id);\r\n    const data = req.body;\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.ts",
      "line": 281,
      "column": 26,
      "context": "  try {\r\n    const comment_id = parseInt(req.params.id);\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.ts",
      "line": 404,
      "column": 26,
      "context": "    const comment_id = parseInt(req.params.id);\r\n    const data = req.body;\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.ts",
      "line": 466,
      "column": 26,
      "context": "    const comment_id = parseInt(req.params.id);\r\n    const data = req.body;\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.ts",
      "line": 584,
      "column": 62,
      "context": "      domain: ErrorDomain.SYSTEM,\r\n      severity: ErrorSeverity.HIGH,\r\n      details: { component: 'community-routes', userId: (req as any).user?.id }\r\n    });\r\n  }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.OLD.ts",
      "line": 106,
      "column": 18,
      "context": "    // Fetch comments with applied filters\r\n    const result = await commentService.getBillComments(bill_id, {\r\n      sort: sort as any,\r\n      expertOnly,\r\n      commentType,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.OLD.ts",
      "line": 128,
      "column": 26,
      "context": "  try {\r\n    const data = req.body;\r\n    const user_id = (req as any).user?.id;\r\n\r\n    // Verify user authentication\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.OLD.ts",
      "line": 186,
      "column": 18,
      "context": "\r\n    const replies = await commentService.getCommentReplies(parent_id, {\r\n      sort: sort as any,\r\n      limit,\r\n      offset\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.OLD.ts",
      "line": 207,
      "column": 26,
      "context": "    const comment_id = parseInt(req.params.id);\r\n    const data = req.body;\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.OLD.ts",
      "line": 246,
      "column": 26,
      "context": "  try {\r\n    const comment_id = parseInt(req.params.id);\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.OLD.ts",
      "line": 328,
      "column": 26,
      "context": "    const comment_id = parseInt(req.params.id);\r\n    const data = req.body;\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\community.OLD.ts",
      "line": 372,
      "column": 26,
      "context": "    const comment_id = parseInt(req.params.id);\r\n    const data = req.body;\r\n    const user_id = (req as any).user?.id;\r\n\r\n    if (!user_id) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\community\\comment.ts",
      "line": 594,
      "column": 12,
      "context": "        };\r\n      },\r\n      null as any,\r\n      `updateComment:${comment_id}`\r\n    );\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\voting-pattern-analysis.ts",
      "line": 66,
      "column": 10,
      "context": "    'read',\n    req,\n    (req as any).user?.id,\n    relevantPatterns.length,\n    true",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\voting-pattern-analysis.ts",
      "line": 106,
      "column": 10,
      "context": "    'read',\n    req,\n    (req as any).user?.id,\n    1,\n    true",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\voting-pattern-analysis.ts",
      "line": 129,
      "column": 10,
      "context": "    'read',\n    req,\n    (req as any).user?.id,\n    analysis.length,\n    true",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\voting-pattern-analysis.ts",
      "line": 203,
      "column": 10,
      "context": "    'read',\n    req,\n    (req as any).user?.id,\n    Object.keys(correlations.alignmentScores).length,\n    true",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\voting-pattern-analysis.ts",
      "line": 219,
      "column": 75,
      "context": " */\nrouter.use((err: Error, req: Request, res: Response, next: NextFunction) => {\n  return handleRouteError(res, err, 'handle voting pattern request', (req as any).user?.id);\n});\n",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\voting-pattern-analysis-router.ts",
      "line": 81,
      "column": 10,
      "context": "    'read',\r\n    req,\r\n    (req as any).user?.id,\r\n    relevantPatterns.length,\r\n    true\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\voting-pattern-analysis-router.ts",
      "line": 121,
      "column": 10,
      "context": "    'read',\r\n    req,\r\n    (req as any).user?.id,\r\n    1,\r\n    true\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\voting-pattern-analysis-router.ts",
      "line": 144,
      "column": 10,
      "context": "    'read',\r\n    req,\r\n    (req as any).user?.id,\r\n    analysis.length,\r\n    true\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\voting-pattern-analysis-router.ts",
      "line": 218,
      "column": 10,
      "context": "    'read',\r\n    req,\r\n    (req as any).user?.id,\r\n    Object.keys(correlations.alignmentScores).length,\r\n    true\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\voting-pattern-analysis-router.ts",
      "line": 234,
      "column": 75,
      "context": " */\r\nrouter.use((err: Error, req: Request, res: Response, next: NextFunction) => {\r\n  return handleRouteError(res, err, 'handle voting pattern request', (req as any).user?.id);\r\n});\r\n\r",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\sponsorship.routes.ts",
      "line": 24,
      "column": 92,
      "context": "        ApiResponseWrapper.createMetadata(startTime, 'database'));\r\n    } catch (error) {\r\n      logger.error('Error fetching sponsorship analysis:', { component: 'Chanuka' }, error as any);\r\n      return ApiError(res, { code: 'INTERNAL_ERROR', message: 'Failed to fetch sponsorship analysis' }, 500,\r\n        ApiResponseWrapper.createMetadata(startTime, 'database'));\r",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\sponsorship.routes.ts",
      "line": 39,
      "column": 96,
      "context": "        ApiResponseWrapper.createMetadata(startTime, 'database'));\r\n    } catch (error) {\r\n      logger.error('Error fetching primary sponsor analysis:', { component: 'Chanuka' }, error as any);\r\n      return ApiError(res, { code: 'INTERNAL_ERROR', message: 'Failed to fetch primary sponsor analysis' }, 500,\r\n        ApiResponseWrapper.createMetadata(startTime, 'database'));\r",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\sponsorship.routes.ts",
      "line": 54,
      "column": 92,
      "context": "        ApiResponseWrapper.createMetadata(startTime, 'database'));\r\n    } catch (error) {\r\n      logger.error('Error fetching co-sponsors analysis:', { component: 'Chanuka' }, error as any);\r\n      return ApiError(res, { code: 'INTERNAL_ERROR', message: 'Failed to fetch co-sponsors analysis' }, 500,\r\n        ApiResponseWrapper.createMetadata(startTime, 'database'));\r",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\sponsorship.routes.ts",
      "line": 69,
      "column": 98,
      "context": "        ApiResponseWrapper.createMetadata(startTime, 'database'));\r\n    } catch (error) {\r\n      logger.error('Error fetching financial network analysis:', { component: 'Chanuka' }, error as any);\r\n      return ApiError(res, { code: 'INTERNAL_ERROR', message: 'Failed to fetch financial network analysis' }, 500,\r\n        ApiResponseWrapper.createMetadata(startTime, 'database'));\r",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\bills-router.OLD.ts",
      "line": 112,
      "column": 17,
      "context": "    'read',\r\n    req,\r\n    String((req as any).user?.id || ''),\r\n    bills.length,\r\n    true\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\bills-router.OLD.ts",
      "line": 158,
      "column": 10,
      "context": "    'read',\r\n    req,\r\n    (req as any).user?.id,\r\n    1,\r\n    true\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\bills-router.OLD.ts",
      "line": 224,
      "column": 72,
      "context": "   const idResult = parseIntParam(req.params.id, 'Bill ID');\r\n   if (!idResult.valid) {\r\n     return ApiValidationError(res, [{ field: 'id', message: (idResult as any).error }]);\r\n   }\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\bills-router.OLD.ts",
      "line": 247,
      "column": 72,
      "context": "   const idResult = parseIntParam(req.params.id, 'Bill ID');\r\n   if (!idResult.valid) {\r\n     return ApiValidationError(res, [{ field: 'id', message: (idResult as any).error }]);\r\n   }\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\bills-router.OLD.ts",
      "line": 262,
      "column": 40,
      "context": "  let comments = commentsRaw.slice();\r\n  if (highlighted === 'true') {\r\n    comments = comments.filter(c => (c as any).isHighlighted === true);\r\n  }\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\bills-router.OLD.ts",
      "line": 291,
      "column": 72,
      "context": "   const idResult = parseIntParam(req.params.id, 'Bill ID');\r\n   if (!idResult.valid) {\r\n     return ApiValidationError(res, [{ field: 'id', message: (idResult as any).error }]);\r\n   }\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\bills-router.OLD.ts",
      "line": 298,
      "column": 88,
      "context": "     const parent_idResult = parseIntParam(req.body.parent_id.toString(), 'Parent Comment ID');\r\n     if (!parent_idResult.valid) {\r\n       return ApiValidationError(res, [{ field: 'parent_id', message: (parent_idResult as any).error }]);\r\n     }\r\n   }\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\bills-router.OLD.ts",
      "line": 332,
      "column": 80,
      "context": "   const idResult = parseIntParam(req.params.comment_id, 'Comment ID');\r\n   if (!idResult.valid) {\r\n     return ApiValidationError(res, [{ field: 'comment_id', message: (idResult as any).error }]);\r\n   }\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\bills-router.OLD.ts",
      "line": 354,
      "column": 80,
      "context": "   const idResult = parseIntParam(req.params.comment_id, 'Comment ID');\r\n   if (!idResult.valid) {\r\n     return ApiValidationError(res, [{ field: 'comment_id', message: (idResult as any).error }]);\r\n   }\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\bills-router.OLD.ts",
      "line": 385,
      "column": 80,
      "context": "   const idResult = parseIntParam(req.params.comment_id, 'Comment ID');\r\n   if (!idResult.valid) {\r\n     return ApiValidationError(res, [{ field: 'comment_id', message: (idResult as any).error }]);\r\n   }\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\bills-router.OLD.ts",
      "line": 416,
      "column": 80,
      "context": "   const idResult = parseIntParam(req.params.comment_id, 'Comment ID');\r\n   if (!idResult.valid) {\r\n     return ApiValidationError(res, [{ field: 'comment_id', message: (idResult as any).error }]);\r\n   }\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\bills-router-migrated.ts",
      "line": 123,
      "column": 17,
      "context": "    'read',\r\n    req,\r\n    String((req as any).user?.id || ''),\r\n    bills.length,\r\n    true\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\bills-router-migrated.ts",
      "line": 164,
      "column": 10,
      "context": "    'read',\r\n    req,\r\n    (req as any).user?.id,\r\n    1,\r\n    true\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\bills-router-migrated.ts",
      "line": 274,
      "column": 40,
      "context": "  let comments = commentsRaw.slice();\r\n  if (highlighted === 'true') {\r\n    comments = comments.filter(c => (c as any).isHighlighted === true);\r\n  }\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\bill-tracking.routes.ts",
      "line": 95,
      "column": 53,
      "context": "    const validSortBy = ['date_tracked', 'last_updated', 'engagement'] as const;\r\n    const sortByValue = req.query.sortBy as string;\r\n    const sortBy = validSortBy.includes(sortByValue as any) ? sortByValue as 'date_tracked' | 'last_updated' | 'engagement' : 'date_tracked';\r\n    const validSortOrder = ['asc', 'desc'] as const;\r\n    const sortOrderValue = req.query.sortOrder as string;\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\bill-tracking.routes.ts",
      "line": 98,
      "column": 62,
      "context": "    const validSortOrder = ['asc', 'desc'] as const;\r\n    const sortOrderValue = req.query.sortOrder as string;\r\n    const sortOrder = validSortOrder.includes(sortOrderValue as any) ? sortOrderValue as 'asc' | 'desc' : 'desc';\r\n\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\argument-intelligence\\argument-intelligence-router.ts",
      "line": 44,
      "column": 6,
      "context": "  argumentIntelligenceService,\n  // Fix for missing 8th argument (briefRepo) required by ArgumentProcessor\n  {} as any\n);\n",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\argument-intelligence\\argument-intelligence-router.ts",
      "line": 345,
      "column": 56,
      "context": "    const args = await argumentIntelligenceService.getArgumentsForBill(bill_id);\n    // Cast coalitionFinder to any to access private method buildStakeholderProfiles\n    const stakeholderProfiles = await (coalitionFinder as any).buildStakeholderProfiles(args);\n\n    const opportunities = await coalitionFinder.discoverCoalitionOpportunities(bill_id, stakeholderProfiles);",
      "category": "type_assertion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\transparency-dashboard.ts",
      "line": 114,
      "column": 27,
      "context": "      logger.error(`Error calculating transparency score for sponsor ${sponsor_id}`, { component: 'transparency-dashboard', sponsor_id, error });\r\n      try {\r\n        if ((errorTracker as any)?.trackRequestError) {\r\n          (errorTracker as any).trackRequestError(error instanceof Error ? error : new Error(String(error)), undefined as any, 'medium', 'calculateTransparencyScore');\r\n        } else if ((errorTracker as any)?.capture) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\transparency-dashboard.ts",
      "line": 115,
      "column": 25,
      "context": "      try {\r\n        if ((errorTracker as any)?.trackRequestError) {\r\n          (errorTracker as any).trackRequestError(error instanceof Error ? error : new Error(String(error)), undefined as any, 'medium', 'calculateTransparencyScore');\r\n        } else if ((errorTracker as any)?.capture) {\r\n          (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'transparency-dashboard', sponsor_id });\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\transparency-dashboard.ts",
      "line": 115,
      "column": 120,
      "context": "      try {\r\n        if ((errorTracker as any)?.trackRequestError) {\r\n          (errorTracker as any).trackRequestError(error instanceof Error ? error : new Error(String(error)), undefined as any, 'medium', 'calculateTransparencyScore');\r\n        } else if ((errorTracker as any)?.capture) {\r\n          (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'transparency-dashboard', sponsor_id });\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\transparency-dashboard.ts",
      "line": 116,
      "column": 34,
      "context": "        if ((errorTracker as any)?.trackRequestError) {\r\n          (errorTracker as any).trackRequestError(error instanceof Error ? error : new Error(String(error)), undefined as any, 'medium', 'calculateTransparencyScore');\r\n        } else if ((errorTracker as any)?.capture) {\r\n          (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'transparency-dashboard', sponsor_id });\r\n        }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\transparency-dashboard.ts",
      "line": 117,
      "column": 25,
      "context": "          (errorTracker as any).trackRequestError(error instanceof Error ? error : new Error(String(error)), undefined as any, 'medium', 'calculateTransparencyScore');\r\n        } else if ((errorTracker as any)?.capture) {\r\n          (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'transparency-dashboard', sponsor_id });\r\n        }\r\n      } catch (reportErr) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\regulatory-change-monitoring.ts",
      "line": 417,
      "column": 27,
      "context": "      logger.error(`Error resolving alert ${alertId}`, { component: 'regulatory-change-monitoring', alertId, error });\r\n      try {\r\n        if ((errorTracker as any)?.capture) {\r\n          (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'regulatory-change-monitoring', alertId });\r\n        }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\regulatory-change-monitoring.ts",
      "line": 418,
      "column": 25,
      "context": "      try {\r\n        if ((errorTracker as any)?.capture) {\r\n          (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'regulatory-change-monitoring', alertId });\r\n        }\r\n      } catch (reportErr) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\regulatory-change-monitoring.ts",
      "line": 488,
      "column": 27,
      "context": "      logger.error(`Error analyzing stakeholder impact for regulation ${regulationId}`, { component: 'regulatory-change-monitoring', regulationId, error });\r\n      try {\r\n        if ((errorTracker as any)?.capture) {\r\n          (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'regulatory-change-monitoring', regulationId });\r\n        }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\regulatory-change-monitoring.ts",
      "line": 489,
      "column": 25,
      "context": "      try {\r\n        if ((errorTracker as any)?.capture) {\r\n          (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'regulatory-change-monitoring', regulationId });\r\n        }\r\n      } catch (reportErr) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\regulatory-change-monitoring.ts",
      "line": 514,
      "column": 27,
      "context": "      logger.error(`Error identifying strategic opportunities for regulation ${regulationId}`, { component: 'regulatory-change-monitoring', regulationId, error });\r\n      try {\r\n        if ((errorTracker as any)?.capture) {\r\n          (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'regulatory-change-monitoring', regulationId });\r\n        }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\regulatory-change-monitoring.ts",
      "line": 515,
      "column": 25,
      "context": "      try {\r\n        if ((errorTracker as any)?.capture) {\r\n          (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'regulatory-change-monitoring', regulationId });\r\n        }\r\n      } catch (reportErr) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\ml-analysis.ts",
      "line": 34,
      "column": 25,
      "context": "\r\n    try {\r\n      if ((errorTracker as any)?.capture) {\r\n        (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), {\r\n          component: 'ml-analysis',\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\ml-analysis.ts",
      "line": 35,
      "column": 23,
      "context": "    try {\r\n      if ((errorTracker as any)?.capture) {\r\n        (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), {\r\n          component: 'ml-analysis',\r\n          analysis_type\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\engagement-analytics.ts",
      "line": 674,
      "column": 28,
      "context": "    }));\r\n\r\n    return formattedTrends as any;\r\n  }\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analysis\\analysis.routes.ts",
      "line": 180,
      "column": 42,
      "context": "    // Transform results for frontend consumption\r\n    const historyResults = historyRecords.map((record: any) => {\r\n      const resultsData = record.results as any;\r\n      return {\r\n        dbId: record.id,\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analysis\\analysis.routes.OLD.ts",
      "line": 107,
      "column": 48,
      "context": "        // Transform results for frontend consumption, extracting key info from JSONB\r\n        const historyResults = historyRecords.map(record => {\r\n            const resultsData = record.results as any; // Cast to access potential fields\r\n            return {\r\n                dbId: record.id, // Include DB record ID\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\admin\\external-api-dashboard.ts",
      "line": 53,
      "column": 19,
      "context": "    error !== null &&\r\n    'message' in error &&\r\n    typeof (error as any).message === 'string'\r\n  );\r\n};\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\admin\\admin.ts",
      "line": 216,
      "column": 22,
      "context": "      await db\r\n        .update(user)\r\n        .set(updates as any)\r\n        .where(eq(users.id, user_id));\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\accountability\\ledger.service.ts",
      "line": 41,
      "column": 31,
      "context": "      entry_number: entryNumber,\n      entity_name: actor,\n      violation_type: (action as any) || 'bribery', // Cast to enum type needed if not validating strict enums upstream\n      description: resource,\n      estimated_loss_amount: estimatedLoss,",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\accountability\\ledger.service.ts",
      "line": 64,
      "column": 79,
      "context": "    if (filters.action) {\n      // Cast action to match the enum type expected by Drizzle\n      conditions.push(eq(shadow_ledger_entries.violation_type, filters.action as any));\n    }\n",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\utils\\circular-buffer.ts",
      "line": 590,
      "column": 27,
      "context": "   * Check if at least one item satisfies the test function.\r\n   * \r\n   * Returns true as soon as any item passes the test, without checking\r\n   * the remaining items. This is more efficient than filter() when you\r\n   * only need to know if any items match.\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\utils\\circular-buffer.ts",
      "line": 613,
      "column": 28,
      "context": "   * Check if all items satisfy the test function.\r\n   * \r\n   * Returns false as soon as any item fails the test, without checking\r\n   * the remaining items. Returns true only if all items pass the test.\r\n   * \r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\monitoring\\metrics-reporter.test.ts",
      "line": 370,
      "column": 55,
      "context": "    it('should throw error for unsupported format', () => {\r\n      expect(() => {\r\n        metricsReporter.exportMetrics({ format: 'xml' as any });\r\n      }).toThrow('Unsupported format: xml');\r\n    });\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\websocket-service.ts",
      "line": 622,
      "column": 19,
      "context": "      try {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        (listener as any)(...args);\r\n      } catch (error) {\r\n        this.logError(`Error in ${event} event listener:`, error);\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\database\\graph\\sync-executor.ts",
      "line": 602,
      "column": 52,
      "context": "        and(\n          eq(graph_sync_status.entity_type, entityType),\n          eq(graph_sync_status.entity_id, entityId as any)\n        )\n      );",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\database\\graph\\sync-executor.ts",
      "line": 641,
      "column": 59,
      "context": "      case 'User':\n        return await db.query.users.findFirst({\n          where: (users, { eq }) => eq(users.id, entityId as any),\n        });\n      case 'Person':",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\database\\graph\\sync-executor.ts",
      "line": 645,
      "column": 65,
      "context": "      case 'Person':\n        return await db.query.sponsors.findFirst({\n          where: (sponsors, { eq }) => eq(sponsors.id, entityId as any),\n        });\n      case 'Bill':",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\database\\graph\\sync-executor.ts",
      "line": 649,
      "column": 59,
      "context": "      case 'Bill':\n        return await db.query.bills.findFirst({\n          where: (bills, { eq }) => eq(bills.id, entityId as any),\n        });\n      default:",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\validation\\validation-services-init.ts",
      "line": 76,
      "column": 25,
      "context": "      // Note: We'll need to get the pool from the database instance\r\n      // This might need adjustment based on your database setup\r\n      pool = dbInstance as any; // Type assertion - adjust based on actual implementation\r\n    }\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\errors\\error-tracker.ts",
      "line": 290,
      "column": 21,
      "context": "  ): string {\r\n    const context: ErrorContext = {\r\n      traceId: (req as any).traceId,\r\n      user_id: (req as any).user?.id,\r\n      url: req.originalUrl || req.url,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\errors\\error-tracker.ts",
      "line": 291,
      "column": 21,
      "context": "    const context: ErrorContext = {\r\n      traceId: (req as any).traceId,\r\n      user_id: (req as any).user?.id,\r\n      url: req.originalUrl || req.url,\r\n      method: req.method,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\errors\\error-tracker.ts",
      "line": 611,
      "column": 19,
      "context": "    if (typeof error === 'string') return undefined;\r\n    \r\n    return (error as any).code || \r\n           (error as any).errno || \r\n           (error as any).status || \r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\errors\\error-tracker.ts",
      "line": 612,
      "column": 19,
      "context": "    \r\n    return (error as any).code || \r\n           (error as any).errno || \r\n           (error as any).status || \r\n           undefined;\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\errors\\error-tracker.ts",
      "line": 613,
      "column": 19,
      "context": "    return (error as any).code || \r\n           (error as any).errno || \r\n           (error as any).status || \r\n           undefined;\r\n  }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\errors\\error-tracker.ts",
      "line": 818,
      "column": 25,
      "context": "      const alertMessage = `Alert triggered: ${rule.name} - ${JSON.stringify(stats)}`;\r\n      const baseError = new BaseError(alertMessage, {\r\n        domain: 'alert' as any,\r\n        severity: 'high' as any,\r\n        source: 'error-tracker',\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\errors\\error-tracker.ts",
      "line": 819,
      "column": 26,
      "context": "      const baseError = new BaseError(alertMessage, {\r\n        domain: 'alert' as any,\r\n        severity: 'high' as any,\r\n        source: 'error-tracker',\r\n        correlationId: `alert_${Date.now()}`,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\errors\\error-tracker.ts",
      "line": 911,
      "column": 65,
      "context": "\r\n      // Check severity filter\r\n      if (filter.severity && !filter.severity.includes(severity as any)) continue;\r\n\r\n      // Check category filter\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\errors\\error-tracker.ts",
      "line": 914,
      "column": 65,
      "context": "\r\n      // Check category filter\r\n      if (filter.category && !filter.category.includes(category as any)) continue;\r\n\r\n      // Check minimum occurrences\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\errors\\error-tracker.ts",
      "line": 925,
      "column": 30,
      "context": "          // Convert to BaseError for integration\r\n          const baseError = new BaseError(message, {\r\n            domain: 'system' as any,\r\n            severity: severity as any,\r\n            source: category,\r",
      "category": "type_assertion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\errors\\error-tracker.ts",
      "line": 926,
      "column": 32,
      "context": "          const baseError = new BaseError(message, {\r\n            domain: 'system' as any,\r\n            severity: severity as any,\r\n            source: category,\r\n            correlationId: context.traceId,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\auth\\auth.ts",
      "line": 39,
      "column": 15,
      "context": "  return (req.headers['x-forwarded-for'] as string)?.split(',')[0] ||\r\n         req.headers['x-real-ip'] as string ||\r\n         (req as any).connection?.remoteAddress ||\r\n         (req as any).socket?.remoteAddress ||\r\n         req.ip ||\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\auth\\auth.ts",
      "line": 40,
      "column": 15,
      "context": "         req.headers['x-real-ip'] as string ||\r\n         (req as any).connection?.remoteAddress ||\r\n         (req as any).socket?.remoteAddress ||\r\n         req.ip ||\r\n         'unknown';\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\auth\\auth.OLD.ts",
      "line": 18,
      "column": 15,
      "context": "  return (req.headers['x-forwarded-for'] as string)?.split(',')[0] ||\r\n         req.headers['x-real-ip'] as string ||\r\n         (req as any).connection?.remoteAddress ||\r\n         (req as any).socket?.remoteAddress ||\r\n         req.ip ||\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\auth\\auth.OLD.ts",
      "line": 19,
      "column": 15,
      "context": "         req.headers['x-real-ip'] as string ||\r\n         (req as any).connection?.remoteAddress ||\r\n         (req as any).socket?.remoteAddress ||\r\n         req.ip ||\r\n         'unknown';\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\auth\\auth-service.ts",
      "line": 389,
      "column": 57,
      "context": "      // Invalidate session by setting expiration to now\r\n      // We need to find the session by user_id from the token\r\n      const decoded = jwt.verify(token, this.jwtSecret) as any;\r\n      await db\r\n        .update(sessions)\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\auth\\auth-service.ts",
      "line": 415,
      "column": 74,
      "context": "    try {\r\n      // Verify refresh token\r\n      const decoded = jwt.verify(refresh_token, this.refreshTokenSecret) as any;\r\n\r\n      // Find session by user_id from decoded token\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\core\\auth\\auth-service.ts",
      "line": 693,
      "column": 57,
      "context": "  async verifyToken(token: string): Promise<AuthResult> {\r\n    try {\r\n      const decoded = jwt.verify(token, this.jwtSecret) as any;\r\n\r\n      // Check if session is still active\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\utilities\\cache-warmer.ts",
      "line": 157,
      "column": 35,
      "context": "    if (this.backgroundTimer) {\r\n      clearInterval(this.backgroundTimer);\r\n      this.backgroundTimer = null as any;\r\n      this.emit('background:stop');\r\n    }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\monitoring\\metrics-collector.ts",
      "line": 45,
      "column": 30,
      "context": "    if (this.intervalId) {\r\n      clearInterval(this.intervalId);\r\n      this.intervalId = null as any;\r\n    }\r\n  }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\cache\\clustering\\cluster-manager.ts",
      "line": 241,
      "column": 39,
      "context": "    if (this.healthCheckInterval) {\r\n      clearInterval(this.healthCheckInterval);\r\n      this.healthCheckInterval = null as any;\r\n    }\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\adapters\\mappings\\user-mapping.ts",
      "line": 105,
      "column": 45,
      "context": "    \r\n    // This type assertion bridges the gap between what TypeScript infers and what\r\n    // we know to be true. It's safer than 'as any' because we're being specific\r\n    // about what type we're asserting to, and it matches the interface contract\r\n    return result as Partial<UserRow>;\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\domain\\user-profile.ts",
      "line": 560,
      "column": 60,
      "context": "              user_id: sanitizedUserId,\r\n              verification_type: 'identity',\r\n              verification_data: sanitizedVerificationData as any,\r\n              verification_documents: Array.isArray((sanitizedVerificationData as any).verificationDocuments) ? (sanitizedVerificationData as any).verificationDocuments : undefined,\r\n              verification_status: sanitizedVerificationData.verification_status,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\domain\\user-profile.ts",
      "line": 561,
      "column": 80,
      "context": "              verification_type: 'identity',\r\n              verification_data: sanitizedVerificationData as any,\r\n              verification_documents: Array.isArray((sanitizedVerificationData as any).verificationDocuments) ? (sanitizedVerificationData as any).verificationDocuments : undefined,\r\n              verification_status: sanitizedVerificationData.verification_status,\r\n              submitted_at: new Date(),\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\domain\\user-profile.ts",
      "line": 561,
      "column": 140,
      "context": "              verification_type: 'identity',\r\n              verification_data: sanitizedVerificationData as any,\r\n              verification_documents: Array.isArray((sanitizedVerificationData as any).verificationDocuments) ? (sanitizedVerificationData as any).verificationDocuments : undefined,\r\n              verification_status: sanitizedVerificationData.verification_status,\r\n              submitted_at: new Date(),\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\domain\\user-profile.ts",
      "line": 775,
      "column": 84,
      "context": "  async updateUserEngagement(user_id: string, bill_id: string, engagement_type: 'view' | 'comment' | 'share') {\r\n    const sanitizedUserId = this.sanitizeUserId(user_id);\r\n    const sanitizedBillId = typeof bill_id === 'string' ? bill_id.trim() : bill_id as any;\r\n\r\n    const result = await databaseService.withFallback(\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\domain\\citizen-verification.ts",
      "line": 96,
      "column": 62,
      "context": "      bill_id: verification_data.bill_id,\r\n      citizenId: verification_data.citizenId,\r\n      verification_type: verification_data.verification_type as any,\r\n      verification_status,\r\n      confidence,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\domain\\citizen-verification.ts",
      "line": 361,
      "column": 28,
      "context": "    const existing = row[0];\r\n    if (!existing) return;\r\n    const data = (existing as any).verification_data || {};\r\n    const endorsements = (data.endorsements || 0) + 1;\r\n    data.endorsements = endorsements;\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\domain\\citizen-verification.ts",
      "line": 381,
      "column": 28,
      "context": "    const existing = row[0];\r\n    if (!existing) return;\r\n    const data = (existing as any).verification_data || {};\r\n    const disputes = (data.disputes || 0) + 1;\r\n    data.disputes = disputes;\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\domain\\citizen-verification.ts",
      "line": 399,
      "column": 28,
      "context": "    const existing = row[0];\r\n    if (!existing) return;\r\n    const data = (existing as any).verification_data || {};\r\n\r\n    const endorsements = data.endorsements || 0;\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\domain\\citizen-verification.ts",
      "line": 422,
      "column": 28,
      "context": "    const existing = row[0];\r\n    if (!existing) return;\r\n    const data = (existing as any).verification_data || {};\r\n\r\n    if ((data.disputes || 0) > (data.endorsements || 0) && (data.disputes || 0) > 3) {\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\domain\\citizen-verification.ts",
      "line": 443,
      "column": 23,
      "context": "    // Map DB rows into domain shape by pulling data out of verification_data\r\n    return results.map((r: any) => {\r\n      const data = (r as any).verification_data || {};\r\n      return {\r\n        id: r.id,\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\domain\\citizen-verification.ts",
      "line": 565,
      "column": 23,
      "context": "\r\n    return results.map((r: any) => {\r\n      const data = (r as any).verification_data || {};\r\n      return {\r\n        id: r.id,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\application\\verification.ts",
      "line": 185,
      "column": 43,
      "context": "      // If claim or reasoning provided, merge into verification_data JSONB\r\n      if (claim !== undefined || reasoning !== undefined) {\r\n        updateData.verification_data = {} as any;\r\n        if (claim !== undefined) updateData.verification_data.claim = claim;\r\n        if (reasoning !== undefined) updateData.verification_data.reasoning = reasoning;\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\application\\verification.OLD.ts",
      "line": 174,
      "column": 43,
      "context": "      // If claim or reasoning provided, merge into verification_data JSONB\r\n      if (claim !== undefined || reasoning !== undefined) {\r\n        updateData.verification_data = {} as any;\r\n        if (claim !== undefined) updateData.verification_data.claim = claim;\r\n        if (reasoning !== undefined) updateData.verification_data.reasoning = reasoning;\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\application\\users.ts",
      "line": 299,
      "column": 11,
      "context": "          interests: interestEntities,\r\n          verifications: aggregate.verifications\r\n        } as any);\r\n\r\n        return updatedAggregate;\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\application\\user-service-direct.ts",
      "line": 53,
      "column": 36,
      "context": "      avatar_url: row.avatar_url || undefined,\r\n      website: row.website || undefined,\r\n      preferences: row.preferences as any || {},\r\n      privacy_settings: row.privacy_settings as any || {},\r\n      created_at: row.created_at,\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\application\\user-service-direct.ts",
      "line": 54,
      "column": 46,
      "context": "      website: row.website || undefined,\r\n      preferences: row.preferences as any || {},\r\n      privacy_settings: row.privacy_settings as any || {},\r\n      created_at: row.created_at,\r\n      updated_at: row.updated_at\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\application\\user-application-service.ts",
      "line": 71,
      "column": 42,
      "context": "    this.verificationOperationsUseCase = new VerificationOperationsUseCase(\r\n      this.userService,\r\n      this.userVerificationDomainService as any\r\n    );\r\n  }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\application\\user-application-service.ts",
      "line": 150,
      "column": 68,
      "context": "    return users.map(user => ({\r\n      id: user.id,\r\n      name: typeof user.name === 'string' ? user.name : (user.name as any).toString(),\r\n      role: typeof user.role === 'string' ? user.role : (user.role as any).toString(),\r\n      verification_status: typeof user.verification_status === 'string' ? user.verification_status : (user.verification_status as any).toString(),\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\application\\user-application-service.ts",
      "line": 151,
      "column": 68,
      "context": "      id: user.id,\r\n      name: typeof user.name === 'string' ? user.name : (user.name as any).toString(),\r\n      role: typeof user.role === 'string' ? user.role : (user.role as any).toString(),\r\n      verification_status: typeof user.verification_status === 'string' ? user.verification_status : (user.verification_status as any).toString(),\r\n      reputation_score: user.reputation_score\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\application\\user-application-service.ts",
      "line": 152,
      "column": 128,
      "context": "      name: typeof user.name === 'string' ? user.name : (user.name as any).toString(),\r\n      role: typeof user.role === 'string' ? user.role : (user.role as any).toString(),\r\n      verification_status: typeof user.verification_status === 'string' ? user.verification_status : (user.verification_status as any).toString(),\r\n      reputation_score: user.reputation_score\r\n    }));\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\application\\user-application-service.ts",
      "line": 161,
      "column": 62,
      "context": "      user_id,\r\n      bill_id: verification_data.bill_id,\r\n      verification_type: verification_data.verification_type as any,\r\n      claim: verification_data.claim,\r\n      evidence: verification_data.evidence,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 5,
      "column": 26,
      "context": "\r\nimport { sponsorService } from './sponsor-service-direct';\r\nconst loggerAny = logger as any;\r\nimport type { Bill,Sponsor } from '@server/infrastructure/schema';\r\n// Local helper types used by this service but not exported elsewhere in repo\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 477,
      "column": 94,
      "context": "  if (bill_ids.length === 0) return conflicts;\r\n\r\n  const financialAffiliations = (affiliations || []).filter(a => a.type === 'economic' || (a as any).conflictType === 'financial' || (a as any).conflictType === 'financial_direct' || (a as any).conflictType === 'financial_indirect'); // Broader check\r\n\r\n     for (const affiliation of financialAffiliations) {\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 477,
      "column": 137,
      "context": "  if (bill_ids.length === 0) return conflicts;\r\n\r\n  const financialAffiliations = (affiliations || []).filter(a => a.type === 'economic' || (a as any).conflictType === 'financial' || (a as any).conflictType === 'financial_direct' || (a as any).conflictType === 'financial_indirect'); // Broader check\r\n\r\n     for (const affiliation of financialAffiliations) {\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 477,
      "column": 187,
      "context": "  if (bill_ids.length === 0) return conflicts;\r\n\r\n  const financialAffiliations = (affiliations || []).filter(a => a.type === 'economic' || (a as any).conflictType === 'financial' || (a as any).conflictType === 'financial_direct' || (a as any).conflictType === 'financial_indirect'); // Broader check\r\n\r\n     for (const affiliation of financialAffiliations) {\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 487,
      "column": 59,
      "context": "             if (affectedBills.length > 0) {\r\n         const financialImpact = this.estimateFinancialImpact(sponsor, affiliation, affectedBills.length);\r\n         const conflictType: ConflictType = ((affiliation as any).conflictType === 'financial_direct' || affiliation.type === 'economic') ? 'financial_direct' : 'financial_indirect';\r\n         const severity = this.calculateConflictSeverity(conflictType, financialImpact, {\r\n           multipleAffiliations: financialAffiliations.length > 2,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 610,
      "column": 95,
      "context": "     const conflicts: ConflictDetectionResult[] = [];\r\n\r\n     const expectedDisclosures = (affiliations || []).filter(a => a.type === 'economic' || (a as any).conflictType === 'financial').length;\r\n     const actualDisclosures = (transparency || []).filter(t => (t as any).disclosureType === 'financial' && (t as any).is_verified).length;\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 611,
      "column": 68,
      "context": "\r\n     const expectedDisclosures = (affiliations || []).filter(a => a.type === 'economic' || (a as any).conflictType === 'financial').length;\r\n     const actualDisclosures = (transparency || []).filter(t => (t as any).disclosureType === 'financial' && (t as any).is_verified).length;\r\n\r\n     const completeness = expectedDisclosures > 0 ? actualDisclosures / expectedDisclosures : 1;\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 611,
      "column": 113,
      "context": "\r\n     const expectedDisclosures = (affiliations || []).filter(a => a.type === 'economic' || (a as any).conflictType === 'financial').length;\r\n     const actualDisclosures = (transparency || []).filter(t => (t as any).disclosureType === 'financial' && (t as any).is_verified).length;\r\n\r\n     const completeness = expectedDisclosures > 0 ? actualDisclosures / expectedDisclosures : 1;\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 641,
      "column": 49,
      "context": "  // ============================================================================\r\n  private calculateFinancialRisk(sponsor: Sponsor): number {\r\n    const exposure = this.parseNumeric((sponsor as any).financial_exposure);\r\n    if (exposure <= 0) return 0;\r\n    if (exposure < this.conflictThresholds.financial.low) return 10;\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 652,
      "column": 48,
      "context": "  private calculateAffiliationRisk(affiliations: SponsorAffiliation[]): number {\r\n    if (!affiliations || affiliations.length === 0) return 0;\r\n    const direct = affiliations.filter(a => (a as any).conflictType === 'financial' || (a as any).conflictType === 'ownership').length;\r\n    const indirect = affiliations.filter(a => (a as any).conflictType === 'influence' || (a as any).conflictType === 'representation').length;\r\n    let risk = direct * 20 + indirect * 10;\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 652,
      "column": 91,
      "context": "  private calculateAffiliationRisk(affiliations: SponsorAffiliation[]): number {\r\n    if (!affiliations || affiliations.length === 0) return 0;\r\n    const direct = affiliations.filter(a => (a as any).conflictType === 'financial' || (a as any).conflictType === 'ownership').length;\r\n    const indirect = affiliations.filter(a => (a as any).conflictType === 'influence' || (a as any).conflictType === 'representation').length;\r\n    let risk = direct * 20 + indirect * 10;\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 653,
      "column": 50,
      "context": "    if (!affiliations || affiliations.length === 0) return 0;\r\n    const direct = affiliations.filter(a => (a as any).conflictType === 'financial' || (a as any).conflictType === 'ownership').length;\r\n    const indirect = affiliations.filter(a => (a as any).conflictType === 'influence' || (a as any).conflictType === 'representation').length;\r\n    let risk = direct * 20 + indirect * 10;\r\n    if (affiliations.length > this.conflictThresholds.affiliation.critical_count) risk += 30;\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 653,
      "column": 93,
      "context": "    if (!affiliations || affiliations.length === 0) return 0;\r\n    const direct = affiliations.filter(a => (a as any).conflictType === 'financial' || (a as any).conflictType === 'ownership').length;\r\n    const indirect = affiliations.filter(a => (a as any).conflictType === 'influence' || (a as any).conflictType === 'representation').length;\r\n    let risk = direct * 20 + indirect * 10;\r\n    if (affiliations.length > this.conflictThresholds.affiliation.critical_count) risk += 30;\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 661,
      "column": 83,
      "context": "\r\n  private calculateTransparencyRisk(transparency: SponsorTransparency[], affiliations: SponsorAffiliation[]): number {\r\n    const expected = (affiliations || []).filter(a => a.type === 'economic' || (a as any).conflictType === 'financial').length;\r\n    if (expected === 0) return 0;\r\n    const actual = (transparency || []).filter(t => (t as any).disclosureType === 'financial' && (t as any).is_verified).length;\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 663,
      "column": 56,
      "context": "    const expected = (affiliations || []).filter(a => a.type === 'economic' || (a as any).conflictType === 'financial').length;\r\n    if (expected === 0) return 0;\r\n    const actual = (transparency || []).filter(t => (t as any).disclosureType === 'financial' && (t as any).is_verified).length;\r\n    const completeness = actual / expected;\r\n    return Math.round((1 - completeness) * 100);\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 663,
      "column": 101,
      "context": "    const expected = (affiliations || []).filter(a => a.type === 'economic' || (a as any).conflictType === 'financial').length;\r\n    if (expected === 0) return 0;\r\n    const actual = (transparency || []).filter(t => (t as any).disclosureType === 'financial' && (t as any).is_verified).length;\r\n    const completeness = actual / expected;\r\n    return Math.round((1 - completeness) * 100);\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 669,
      "column": 57,
      "context": "\r\n  private calculateBehavioralRisk(sponsor: Sponsor): number {\r\n    const voting_alignment = this.parseNumeric((sponsor as any).voting_alignment);\r\n    if (voting_alignment <= 0) return 10;\r\n    if (voting_alignment > 95 || voting_alignment < 5) return 90;\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 707,
      "column": 57,
      "context": "\r\n  private estimateFinancialImpact(sponsor: Sponsor, affiliation: SponsorAffiliation, billCount: number): number {\r\n    const base = Math.max(0, this.parseNumeric((sponsor as any).financial_exposure));\r\n    let impact = Math.round((base / 10) * Math.max(1, billCount));\r\n    if (affiliation.type === 'economic') impact *= 2;\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 710,
      "column": 22,
      "context": "    let impact = Math.round((base / 10) * Math.max(1, billCount));\r\n    if (affiliation.type === 'economic') impact *= 2;\r\n    if ((affiliation as any).conflictType === 'financial') impact *= 3;\r\n    if (affiliation.role && /director|board|executive|chairman|ceo/i.test(affiliation.role)) impact = Math.round(impact * 1.5);\r\n    return Math.round(impact);\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 771,
      "column": 37,
      "context": "        id: `sponsor:${id}`,\r\n        type: 'sponsor',\r\n        name: sponsor ? `${(sponsor as any).first_name || ''} ${(sponsor as any).last_name || ''}`.trim() || `Sponsor ${id}` : `Sponsor ${id}`,\r\n        conflict_level: this.determineRiskLevel(this.calculateWeightedRiskScore({ financialRisk: this.calculateFinancialRisk(sponsor as any), affiliationRisk: 0, transparencyRisk: 0, behavioralRisk: 0 })),\r\n        size: this.calculateNodeSize('medium'),\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 771,
      "column": 74,
      "context": "        id: `sponsor:${id}`,\r\n        type: 'sponsor',\r\n        name: sponsor ? `${(sponsor as any).first_name || ''} ${(sponsor as any).last_name || ''}`.trim() || `Sponsor ${id}` : `Sponsor ${id}`,\r\n        conflict_level: this.determineRiskLevel(this.calculateWeightedRiskScore({ financialRisk: this.calculateFinancialRisk(sponsor as any), affiliationRisk: 0, transparencyRisk: 0, behavioralRisk: 0 })),\r\n        size: this.calculateNodeSize('medium'),\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 772,
      "column": 134,
      "context": "        type: 'sponsor',\r\n        name: sponsor ? `${(sponsor as any).first_name || ''} ${(sponsor as any).last_name || ''}`.trim() || `Sponsor ${id}` : `Sponsor ${id}`,\r\n        conflict_level: this.determineRiskLevel(this.calculateWeightedRiskScore({ financialRisk: this.calculateFinancialRisk(sponsor as any), affiliationRisk: 0, transparencyRisk: 0, behavioralRisk: 0 })),\r\n        size: this.calculateNodeSize('medium'),\r\n        color: this.severityColors.medium,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 797,
      "column": 21,
      "context": "        // TODO: Implement getBill method\r\n        const b = null; // await this.sponsorService.getBill(bill_id as number);\r\n        if (b && (b as any).title) title = (b as any).title;\r\n       } catch (e) {\r\n        // ignore\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\sponsors\\application\\sponsor-conflict-analysis.service.ts",
      "line": 797,
      "column": 47,
      "context": "        // TODO: Implement getBill method\r\n        const b = null; // await this.sponsorService.getBill(bill_id as number);\r\n        if (b && (b as any).title) title = (b as any).title;\r\n       } catch (e) {\r\n        // ignore\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\search\\engines\\dual-engine-orchestrator.ts",
      "line": 267,
      "column": 9,
      "context": "        pagination: { limit: (options.limit || 20) * 2 }, // Get more for fusion\r\n        options: { searchType: 'fulltext-phase2' },\r\n      } as any);\r\n\r\n      const results = await Promise.race([searchPromise, timeoutPromise]);\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\search\\deployment\\search-deployment.service.ts",
      "line": 711,
      "column": 46,
      "context": "   */\r\n  private calculateOverallDeploymentHealth(status: any): 'healthy' | 'warning' | 'critical' {\r\n    const components = Object.values(status) as any[];\r\n    \r\n    const criticalIssues = components.filter(c => \r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\safeguards\\application\\moderation-service.ts",
      "line": 715,
      "column": 30,
      "context": "\r\n        // Return the number of affected rows (PostgreSQL returns rowCount in result)\r\n        return (overdueItems as any)?.rowCount || 0;\r\n      });\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\recommendation\\infrastructure\\RecommendationRepository.ts",
      "line": 96,
      "column": 17,
      "context": "      .from(bill_engagement)\r\n      .where(inArray(bill_engagement.user_id, user_ids));\r\n    return rows as any[];\r\n  }\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\recommendation\\infrastructure\\RecommendationRepository.ts",
      "line": 119,
      "column": 16,
      "context": "      if (type === 'comment') updates.comment_count++;\r\n      if (type === 'share') updates.share_count++;\r\n      (updates as any).engagement_score = this.calcScore(updates.view_count, updates.comment_count, updates.share_count);\r\n      await db\r\n        .update(bill_engagement)\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\government-data\\services\\government-data-integration.service.ts",
      "line": 571,
      "column": 37,
      "context": "            summary: billData.summary,\r\n            full_text: billData.fullText,\r\n            status: billData.status as any,\r\n            introduced_date: billData.introduced_date,\r\n            committee: billData.committee,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\government-data\\services\\government-data-integration.service.ts",
      "line": 575,
      "column": 58,
      "context": "            committee: billData.committee,\r\n            tags: billData.tags,\r\n            affected_counties: billData.affectedCounties as any,\r\n            updated_at: new Date()\r\n          })\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\government-data\\services\\government-data-integration.service.ts",
      "line": 590,
      "column": 37,
      "context": "            summary: billData.summary,\r\n            full_text: billData.fullText,\r\n            status: billData.status as any,\r\n            introduced_date: billData.introduced_date,\r\n            chamber: billData.chamber as any,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\government-data\\services\\government-data-integration.service.ts",
      "line": 592,
      "column": 39,
      "context": "            status: billData.status as any,\r\n            introduced_date: billData.introduced_date,\r\n            chamber: billData.chamber as any,\r\n            committee: billData.committee,\r\n            tags: billData.tags,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\government-data\\services\\government-data-integration.service.ts",
      "line": 595,
      "column": 58,
      "context": "            committee: billData.committee,\r\n            tags: billData.tags,\r\n            affected_counties: billData.affectedCounties as any,\r\n            created_at: new Date(),\r\n            updated_at: new Date()\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\constitutional-analysis\\application\\constitutional-analysis-service-complete.ts",
      "line": 96,
      "column": 19,
      "context": "        .from(constitutional_provisions)\r\n        .where(eq(constitutional_provisions.id, id))\r\n        .limit(1) as any[];\r\n\r\n      const provision = rows[0];\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\constitutional-analysis\\application\\constitutional-analysis-service-complete.ts",
      "line": 153,
      "column": 49,
      "context": "\r\n      if (conditions.length > 0) {\r\n        query = query.where(and(...conditions)) as any;\r\n      }\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\constitutional-analysis\\application\\constitutional-analysis-service-complete.ts",
      "line": 231,
      "column": 19,
      "context": "        .from(legal_precedents)\r\n        .where(eq(legal_precedents.id, id))\r\n        .limit(1) as any[];\r\n\r\n      const precedent = rows[0];\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\constitutional-analysis\\application\\constitutional-analysis-service-complete.ts",
      "line": 293,
      "column": 137,
      "context": "          conditions.push(eq(legal_precedents.precedent_strength, 'binding'));\r\n        } else if (minRelevanceScore >= 0.6) {\r\n          conditions.push(or(eq(legal_precedents.precedent_strength, 'binding'), eq(legal_precedents.precedent_strength, 'persuasive')) as any);\r\n        }\r\n        // For lower thresholds we don't add a filter since schema lacks a numeric relevance_score\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\constitutional-analysis\\application\\constitutional-analysis-service-complete.ts",
      "line": 311,
      "column": 49,
      "context": "\r\n      if (conditions.length > 0) {\r\n        query = query.where(and(...conditions)) as any;\r\n      }\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\constitutional-analysis\\application\\constitutional-analysis-service-complete.ts",
      "line": 503,
      "column": 19,
      "context": "        .from(expert_review_queue)\r\n        .where(eq(expert_review_queue.analysis_id, request.analysis_id))\r\n        .limit(1) as any[];\r\n\r\n      const existing = existingRows[0];\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\constitutional-analysis\\application\\constitutional-analysis-service-complete.ts",
      "line": 601,
      "column": 17,
      "context": "        )\r\n      )\r\n      .limit(1) as any[];\r\n\r\n    const existing = rows[0];\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\constitutional-analysis\\application\\constitutional-analysis-service-complete.ts",
      "line": 618,
      "column": 20,
      "context": "        updated_at: new Date()\r\n      })\r\n      .returning() as any[];\r\n\r\n    return rows[0];\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 70,
      "column": 41,
      "context": "  const rows = await readDatabase.select({\r\n    sponsorshipId: bill_sponsorships.id,\r\n    sponsorshipType: (bill_sponsorships as any).sponsorshipType ?? (bill_sponsorships as any).type,\r\n    sponsorshipBillId: bill_sponsorships.bill_id ?? (bill_sponsorships as any).bill_id,\r\n    sponsorshipSponsorId: bill_sponsorships.sponsor_id ?? (bill_sponsorships as any).sponsor_id,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 70,
      "column": 87,
      "context": "  const rows = await readDatabase.select({\r\n    sponsorshipId: bill_sponsorships.id,\r\n    sponsorshipType: (bill_sponsorships as any).sponsorshipType ?? (bill_sponsorships as any).type,\r\n    sponsorshipBillId: bill_sponsorships.bill_id ?? (bill_sponsorships as any).bill_id,\r\n    sponsorshipSponsorId: bill_sponsorships.sponsor_id ?? (bill_sponsorships as any).sponsor_id,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 71,
      "column": 72,
      "context": "    sponsorshipId: bill_sponsorships.id,\r\n    sponsorshipType: (bill_sponsorships as any).sponsorshipType ?? (bill_sponsorships as any).type,\r\n    sponsorshipBillId: bill_sponsorships.bill_id ?? (bill_sponsorships as any).bill_id,\r\n    sponsorshipSponsorId: bill_sponsorships.sponsor_id ?? (bill_sponsorships as any).sponsor_id,\r\n    sponsorshipJoinedDate: (bill_sponsorships as any).joined_date ?? (bill_sponsorships as any).created_at,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 72,
      "column": 78,
      "context": "    sponsorshipType: (bill_sponsorships as any).sponsorshipType ?? (bill_sponsorships as any).type,\r\n    sponsorshipBillId: bill_sponsorships.bill_id ?? (bill_sponsorships as any).bill_id,\r\n    sponsorshipSponsorId: bill_sponsorships.sponsor_id ?? (bill_sponsorships as any).sponsor_id,\r\n    sponsorshipJoinedDate: (bill_sponsorships as any).joined_date ?? (bill_sponsorships as any).created_at,\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 73,
      "column": 47,
      "context": "    sponsorshipBillId: bill_sponsorships.bill_id ?? (bill_sponsorships as any).bill_id,\r\n    sponsorshipSponsorId: bill_sponsorships.sponsor_id ?? (bill_sponsorships as any).sponsor_id,\r\n    sponsorshipJoinedDate: (bill_sponsorships as any).joined_date ?? (bill_sponsorships as any).created_at,\r\n\r\n    sponsor_id: sponsors.id,\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 73,
      "column": 89,
      "context": "    sponsorshipBillId: bill_sponsorships.bill_id ?? (bill_sponsorships as any).bill_id,\r\n    sponsorshipSponsorId: bill_sponsorships.sponsor_id ?? (bill_sponsorships as any).sponsor_id,\r\n    sponsorshipJoinedDate: (bill_sponsorships as any).joined_date ?? (bill_sponsorships as any).created_at,\r\n\r\n    sponsor_id: sponsors.id,\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 80,
      "column": 37,
      "context": "    sponsorParty: sponsors.party,\r\n    sponsorConstituency: sponsors.constituency,\r\n    sponsorConflictLevel: (sponsors as any).conflict_level ?? (sponsors as any).conflictLevel,\r\n    sponsorFinancialExposure: (sponsors as any).financial_exposure ?? (sponsors as any).financialExposure,\r\n    sponsorVotingAlignment: (sponsors as any).voting_alignment ?? (sponsors as any).votingAlignment\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 80,
      "column": 73,
      "context": "    sponsorParty: sponsors.party,\r\n    sponsorConstituency: sponsors.constituency,\r\n    sponsorConflictLevel: (sponsors as any).conflict_level ?? (sponsors as any).conflictLevel,\r\n    sponsorFinancialExposure: (sponsors as any).financial_exposure ?? (sponsors as any).financialExposure,\r\n    sponsorVotingAlignment: (sponsors as any).voting_alignment ?? (sponsors as any).votingAlignment\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 81,
      "column": 41,
      "context": "    sponsorConstituency: sponsors.constituency,\r\n    sponsorConflictLevel: (sponsors as any).conflict_level ?? (sponsors as any).conflictLevel,\r\n    sponsorFinancialExposure: (sponsors as any).financial_exposure ?? (sponsors as any).financialExposure,\r\n    sponsorVotingAlignment: (sponsors as any).voting_alignment ?? (sponsors as any).votingAlignment\r\n  })\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 81,
      "column": 81,
      "context": "    sponsorConstituency: sponsors.constituency,\r\n    sponsorConflictLevel: (sponsors as any).conflict_level ?? (sponsors as any).conflictLevel,\r\n    sponsorFinancialExposure: (sponsors as any).financial_exposure ?? (sponsors as any).financialExposure,\r\n    sponsorVotingAlignment: (sponsors as any).voting_alignment ?? (sponsors as any).votingAlignment\r\n  })\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 82,
      "column": 39,
      "context": "    sponsorConflictLevel: (sponsors as any).conflict_level ?? (sponsors as any).conflictLevel,\r\n    sponsorFinancialExposure: (sponsors as any).financial_exposure ?? (sponsors as any).financialExposure,\r\n    sponsorVotingAlignment: (sponsors as any).voting_alignment ?? (sponsors as any).votingAlignment\r\n  })\r\n    .from(sponsors)\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 82,
      "column": 77,
      "context": "    sponsorConflictLevel: (sponsors as any).conflict_level ?? (sponsors as any).conflictLevel,\r\n    sponsorFinancialExposure: (sponsors as any).financial_exposure ?? (sponsors as any).financialExposure,\r\n    sponsorVotingAlignment: (sponsors as any).voting_alignment ?? (sponsors as any).votingAlignment\r\n  })\r\n    .from(sponsors)\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 85,
      "column": 70,
      "context": "  })\r\n    .from(sponsors)\r\n    .innerJoin(bill_sponsorships, eq(sponsors.id, (bill_sponsorships as any).sponsor_id ?? (bill_sponsorships as any).sponsor_id))\r\n    .where(eq((bill_sponsorships as any).bill_id ?? (bill_sponsorships as any).bill_id, billId));\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 85,
      "column": 111,
      "context": "  })\r\n    .from(sponsors)\r\n    .innerJoin(bill_sponsorships, eq(sponsors.id, (bill_sponsorships as any).sponsor_id ?? (bill_sponsorships as any).sponsor_id))\r\n    .where(eq((bill_sponsorships as any).bill_id ?? (bill_sponsorships as any).bill_id, billId));\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 86,
      "column": 34,
      "context": "    .from(sponsors)\r\n    .innerJoin(bill_sponsorships, eq(sponsors.id, (bill_sponsorships as any).sponsor_id ?? (bill_sponsorships as any).sponsor_id))\r\n    .where(eq((bill_sponsorships as any).bill_id ?? (bill_sponsorships as any).bill_id, billId));\r\n\r\n  if (!rows || rows.length === 0) return [];\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 86,
      "column": 72,
      "context": "    .from(sponsors)\r\n    .innerJoin(bill_sponsorships, eq(sponsors.id, (bill_sponsorships as any).sponsor_id ?? (bill_sponsorships as any).sponsor_id))\r\n    .where(eq((bill_sponsorships as any).bill_id ?? (bill_sponsorships as any).bill_id, billId));\r\n\r\n  if (!rows || rows.length === 0) return [];\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 91,
      "column": 58,
      "context": "\r\n  // Collect sponsor ids for batch loading related data\r\n  const sponsorIds = Array.from(new Set(rows.map(r => (r as any).sponsorshipSponsorId || (r as any).sponsor_id || (r as any).sponsor_id)));\r\n\r\n  // Batch load latest transparency per sponsor\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 91,
      "column": 93,
      "context": "\r\n  // Collect sponsor ids for batch loading related data\r\n  const sponsorIds = Array.from(new Set(rows.map(r => (r as any).sponsorshipSponsorId || (r as any).sponsor_id || (r as any).sponsor_id)));\r\n\r\n  // Batch load latest transparency per sponsor\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 91,
      "column": 118,
      "context": "\r\n  // Collect sponsor ids for batch loading related data\r\n  const sponsorIds = Array.from(new Set(rows.map(r => (r as any).sponsorshipSponsorId || (r as any).sponsor_id || (r as any).sponsor_id)));\r\n\r\n  // Batch load latest transparency per sponsor\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 95,
      "column": 41,
      "context": "  // Batch load latest transparency per sponsor\r\n  const transparencies = await readDatabase.select().from(sponsorTransparency)\r\n    .where(inArray((sponsorTransparency as any).sponsor_id ?? (sponsorTransparency as any).sponsor_id, sponsorIds))\r\n    .orderBy(desc((sponsorTransparency as any).dateReported ?? (sponsorTransparency as any).created_at));\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 95,
      "column": 84,
      "context": "  // Batch load latest transparency per sponsor\r\n  const transparencies = await readDatabase.select().from(sponsorTransparency)\r\n    .where(inArray((sponsorTransparency as any).sponsor_id ?? (sponsorTransparency as any).sponsor_id, sponsorIds))\r\n    .orderBy(desc((sponsorTransparency as any).dateReported ?? (sponsorTransparency as any).created_at));\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 96,
      "column": 40,
      "context": "  const transparencies = await readDatabase.select().from(sponsorTransparency)\r\n    .where(inArray((sponsorTransparency as any).sponsor_id ?? (sponsorTransparency as any).sponsor_id, sponsorIds))\r\n    .orderBy(desc((sponsorTransparency as any).dateReported ?? (sponsorTransparency as any).created_at));\r\n\r\n  const transparencyBySponsor = new Map<string | number, any>();\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 96,
      "column": 85,
      "context": "  const transparencies = await readDatabase.select().from(sponsorTransparency)\r\n    .where(inArray((sponsorTransparency as any).sponsor_id ?? (sponsorTransparency as any).sponsor_id, sponsorIds))\r\n    .orderBy(desc((sponsorTransparency as any).dateReported ?? (sponsorTransparency as any).created_at));\r\n\r\n  const transparencyBySponsor = new Map<string | number, any>();\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 100,
      "column": 20,
      "context": "  const transparencyBySponsor = new Map<string | number, any>();\r\n  for (const t of transparencies) {\r\n    const sid = (t as any).sponsor_id ?? (t as any).sponsor_id;\r\n    if (!transparencyBySponsor.has(sid)) transparencyBySponsor.set(sid, t);\r\n  }\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 100,
      "column": 45,
      "context": "  const transparencyBySponsor = new Map<string | number, any>();\r\n  for (const t of transparencies) {\r\n    const sid = (t as any).sponsor_id ?? (t as any).sponsor_id;\r\n    if (!transparencyBySponsor.has(sid)) transparencyBySponsor.set(sid, t);\r\n  }\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 106,
      "column": 41,
      "context": "  // Batch load affiliations for all sponsors\r\n  const affiliations = await readDatabase.select().from(sponsorAffiliations)\r\n    .where(inArray((sponsorAffiliations as any).sponsor_id ?? (sponsorAffiliations as any).sponsor_id, sponsorIds))\r\n    .orderBy(desc((sponsorAffiliations as any).start_date ?? (sponsorAffiliations as any).created_at));\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 106,
      "column": 84,
      "context": "  // Batch load affiliations for all sponsors\r\n  const affiliations = await readDatabase.select().from(sponsorAffiliations)\r\n    .where(inArray((sponsorAffiliations as any).sponsor_id ?? (sponsorAffiliations as any).sponsor_id, sponsorIds))\r\n    .orderBy(desc((sponsorAffiliations as any).start_date ?? (sponsorAffiliations as any).created_at));\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 107,
      "column": 40,
      "context": "  const affiliations = await readDatabase.select().from(sponsorAffiliations)\r\n    .where(inArray((sponsorAffiliations as any).sponsor_id ?? (sponsorAffiliations as any).sponsor_id, sponsorIds))\r\n    .orderBy(desc((sponsorAffiliations as any).start_date ?? (sponsorAffiliations as any).created_at));\r\n\r\n  const affiliationsBySponsor = new Map<string | number, any[]>();\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 107,
      "column": 83,
      "context": "  const affiliations = await readDatabase.select().from(sponsorAffiliations)\r\n    .where(inArray((sponsorAffiliations as any).sponsor_id ?? (sponsorAffiliations as any).sponsor_id, sponsorIds))\r\n    .orderBy(desc((sponsorAffiliations as any).start_date ?? (sponsorAffiliations as any).created_at));\r\n\r\n  const affiliationsBySponsor = new Map<string | number, any[]>();\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 111,
      "column": 20,
      "context": "  const affiliationsBySponsor = new Map<string | number, any[]>();\r\n  for (const a of affiliations) {\r\n    const sid = (a as any).sponsor_id ?? (a as any).sponsor_id;\r\n    const list = affiliationsBySponsor.get(sid) ?? [];\r\n    list.push(a);\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 111,
      "column": 45,
      "context": "  const affiliationsBySponsor = new Map<string | number, any[]>();\r\n  for (const a of affiliations) {\r\n    const sid = (a as any).sponsor_id ?? (a as any).sponsor_id;\r\n    const list = affiliationsBySponsor.get(sid) ?? [];\r\n    list.push(a);\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 174,
      "column": 36,
      "context": "export async function getSponsorAffiliations(sponsor_id: number): Promise<SponsorAffiliation[]> {\r\n  const rows = await readDatabase.select().from(sponsorAffiliations)\r\n    .where(eq((sponsorAffiliations as any).sponsor_id ?? (sponsorAffiliations as any).sponsor_id, sponsorId))\r\n    .orderBy(desc((sponsorAffiliations as any).start_date ?? (sponsorAffiliations as any).created_at));\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 174,
      "column": 79,
      "context": "export async function getSponsorAffiliations(sponsor_id: number): Promise<SponsorAffiliation[]> {\r\n  const rows = await readDatabase.select().from(sponsorAffiliations)\r\n    .where(eq((sponsorAffiliations as any).sponsor_id ?? (sponsorAffiliations as any).sponsor_id, sponsorId))\r\n    .orderBy(desc((sponsorAffiliations as any).start_date ?? (sponsorAffiliations as any).created_at));\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 175,
      "column": 40,
      "context": "  const rows = await readDatabase.select().from(sponsorAffiliations)\r\n    .where(eq((sponsorAffiliations as any).sponsor_id ?? (sponsorAffiliations as any).sponsor_id, sponsorId))\r\n    .orderBy(desc((sponsorAffiliations as any).start_date ?? (sponsorAffiliations as any).created_at));\r\n\r\n  return rows.map((a: any) => ({\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 175,
      "column": 83,
      "context": "  const rows = await readDatabase.select().from(sponsorAffiliations)\r\n    .where(eq((sponsorAffiliations as any).sponsor_id ?? (sponsorAffiliations as any).sponsor_id, sponsorId))\r\n    .orderBy(desc((sponsorAffiliations as any).start_date ?? (sponsorAffiliations as any).created_at));\r\n\r\n  return rows.map((a: any) => ({\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 194,
      "column": 37,
      "context": "export async function getSectionConflictsForBill(bill_id: number): Promise<any[]> {\r\n  const rows = await readDatabase.select().from(billSectionConflicts)\r\n    .where(eq((billSectionConflicts as any).bill_id ?? (billSectionConflicts as any).bill_id, billId))\r\n    .orderBy((billSectionConflicts as any).section_number ?? (billSectionConflicts as any).sectionNumber);\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 194,
      "column": 78,
      "context": "export async function getSectionConflictsForBill(bill_id: number): Promise<any[]> {\r\n  const rows = await readDatabase.select().from(billSectionConflicts)\r\n    .where(eq((billSectionConflicts as any).bill_id ?? (billSectionConflicts as any).bill_id, billId))\r\n    .orderBy((billSectionConflicts as any).section_number ?? (billSectionConflicts as any).sectionNumber);\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 195,
      "column": 36,
      "context": "  const rows = await readDatabase.select().from(billSectionConflicts)\r\n    .where(eq((billSectionConflicts as any).bill_id ?? (billSectionConflicts as any).bill_id, billId))\r\n    .orderBy((billSectionConflicts as any).section_number ?? (billSectionConflicts as any).sectionNumber);\r\n\r\n  return rows.map((r: any) => ({\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\repositories\\sponsorship-repository.ts",
      "line": 195,
      "column": 84,
      "context": "  const rows = await readDatabase.select().from(billSectionConflicts)\r\n    .where(eq((billSectionConflicts as any).bill_id ?? (billSectionConflicts as any).bill_id, billId))\r\n    .orderBy((billSectionConflicts as any).section_number ?? (billSectionConflicts as any).sectionNumber);\r\n\r\n  return rows.map((r: any) => ({\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\infrastructure\\bill-storage.ts",
      "line": 59,
      "column": 88,
      "context": "      return true;\r\n    } catch (error) {\r\n      logger.error('BillStorage health check failed:', { component: 'Chanuka' }, error as any);\r\n      return false;\r\n    }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\sponsorship-analysis.service.ts",
      "line": 877,
      "column": 22,
      "context": "      ? breakdown.reduce((max, sector) =>\r\n        sector.percentage > max.percentage ? sector : max,\r\n        breakdown[0] as any\r\n      )\r\n      : { sector: 'None', percentage: 0, amount: 0 };\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bills.ts",
      "line": 333,
      "column": 51,
      "context": "\r\n        if (conditions.length > 0) {\r\n          query = query.where(and(...conditions)) as any;\r\n        }\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-tracking.service.ts",
      "line": 575,
      "column": 34,
      "context": "      // Pattern-based invalidation\r\n      if (keyOrPattern.includes('*')) {\r\n        if (typeof (cacheService as any).invalidateByPattern === 'function') {\r\n          return (cacheService as any).invalidateByPattern(keyOrPattern);\r\n        }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-tracking.service.ts",
      "line": 576,
      "column": 32,
      "context": "      if (keyOrPattern.includes('*')) {\r\n        if (typeof (cacheService as any).invalidateByPattern === 'function') {\r\n          return (cacheService as any).invalidateByPattern(keyOrPattern);\r\n        }\r\n        // Fallback: resolve keys then delete\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-tracking.service.ts",
      "line": 579,
      "column": 34,
      "context": "        }\r\n        // Fallback: resolve keys then delete\r\n        if (typeof (cacheService as any).keys === 'function') {\r\n          const keys: string[] = await (cacheService as any).keys(keyOrPattern);\r\n          return Promise.all(keys.map(k => (cacheService as any).del ? (cacheService as any).del(k) : (cacheService as any).delete ? (cacheService as any).delete(k) : Promise.resolve()));\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-tracking.service.ts",
      "line": 580,
      "column": 54,
      "context": "        // Fallback: resolve keys then delete\r\n        if (typeof (cacheService as any).keys === 'function') {\r\n          const keys: string[] = await (cacheService as any).keys(keyOrPattern);\r\n          return Promise.all(keys.map(k => (cacheService as any).del ? (cacheService as any).del(k) : (cacheService as any).delete ? (cacheService as any).delete(k) : Promise.resolve()));\r\n        }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-tracking.service.ts",
      "line": 581,
      "column": 58,
      "context": "        if (typeof (cacheService as any).keys === 'function') {\r\n          const keys: string[] = await (cacheService as any).keys(keyOrPattern);\r\n          return Promise.all(keys.map(k => (cacheService as any).del ? (cacheService as any).del(k) : (cacheService as any).delete ? (cacheService as any).delete(k) : Promise.resolve()));\r\n        }\r\n        return Promise.resolve();\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-tracking.service.ts",
      "line": 581,
      "column": 86,
      "context": "        if (typeof (cacheService as any).keys === 'function') {\r\n          const keys: string[] = await (cacheService as any).keys(keyOrPattern);\r\n          return Promise.all(keys.map(k => (cacheService as any).del ? (cacheService as any).del(k) : (cacheService as any).delete ? (cacheService as any).delete(k) : Promise.resolve()));\r\n        }\r\n        return Promise.resolve();\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-tracking.service.ts",
      "line": 581,
      "column": 117,
      "context": "        if (typeof (cacheService as any).keys === 'function') {\r\n          const keys: string[] = await (cacheService as any).keys(keyOrPattern);\r\n          return Promise.all(keys.map(k => (cacheService as any).del ? (cacheService as any).del(k) : (cacheService as any).delete ? (cacheService as any).delete(k) : Promise.resolve()));\r\n        }\r\n        return Promise.resolve();\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-tracking.service.ts",
      "line": 581,
      "column": 148,
      "context": "        if (typeof (cacheService as any).keys === 'function') {\r\n          const keys: string[] = await (cacheService as any).keys(keyOrPattern);\r\n          return Promise.all(keys.map(k => (cacheService as any).del ? (cacheService as any).del(k) : (cacheService as any).delete ? (cacheService as any).delete(k) : Promise.resolve()));\r\n        }\r\n        return Promise.resolve();\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-tracking.service.ts",
      "line": 585,
      "column": 30,
      "context": "        return Promise.resolve();\r\n      } else {\r\n        return (cacheService as any).del ? (cacheService as any).del(keyOrPattern) : (cacheService as any).delete ? (cacheService as any).delete(keyOrPattern) : Promise.resolve();\r\n      }\r\n    });\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-tracking.service.ts",
      "line": 585,
      "column": 58,
      "context": "        return Promise.resolve();\r\n      } else {\r\n        return (cacheService as any).del ? (cacheService as any).del(keyOrPattern) : (cacheService as any).delete ? (cacheService as any).delete(keyOrPattern) : Promise.resolve();\r\n      }\r\n    });\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-tracking.service.ts",
      "line": 585,
      "column": 100,
      "context": "        return Promise.resolve();\r\n      } else {\r\n        return (cacheService as any).del ? (cacheService as any).del(keyOrPattern) : (cacheService as any).delete ? (cacheService as any).delete(keyOrPattern) : Promise.resolve();\r\n      }\r\n    });\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-tracking.service.ts",
      "line": 585,
      "column": 131,
      "context": "        return Promise.resolve();\r\n      } else {\r\n        return (cacheService as any).del ? (cacheService as any).del(keyOrPattern) : (cacheService as any).delete ? (cacheService as any).delete(keyOrPattern) : Promise.resolve();\r\n      }\r\n    });\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-service.ts",
      "line": 181,
      "column": 9,
      "context": "          riskLevel: \"medium\"\r\n        }\r\n      } as any)\r\n    ];\r\n  }\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-service.ts",
      "line": 371,
      "column": 79,
      "context": "          ];\r\n\r\n          if (filters.status) conditions.push(eq(bills.status, filters.status as any));\r\n          if (filters.category) conditions.push(eq(bills.category, filters.category as any));\r\n          if (filters.sponsor_id) conditions.push(eq(bills.sponsor_id, filters.sponsor_id as any));\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-service.ts",
      "line": 372,
      "column": 85,
      "context": "\r\n          if (filters.status) conditions.push(eq(bills.status, filters.status as any));\r\n          if (filters.category) conditions.push(eq(bills.category, filters.category as any));\r\n          if (filters.sponsor_id) conditions.push(eq(bills.sponsor_id, filters.sponsor_id as any));\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-service.ts",
      "line": 373,
      "column": 91,
      "context": "          if (filters.status) conditions.push(eq(bills.status, filters.status as any));\r\n          if (filters.category) conditions.push(eq(bills.category, filters.category as any));\r\n          if (filters.sponsor_id) conditions.push(eq(bills.sponsor_id, filters.sponsor_id as any));\r\n\r\n          const results = await this.db\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-service.ts",
      "line": 402,
      "column": 44,
      "context": "            .select()\r\n            .from(bills)\r\n            .where(eq(bills.status, status as any))\r\n            .orderBy(desc(bills.created_at));\r\n        }, { service: 'CachedBillService', operation: 'getBillsByStatus' });\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-service.ts",
      "line": 423,
      "column": 48,
      "context": "            .select()\r\n            .from(bills)\r\n            .where(eq(bills.category, category as any))\r\n            .orderBy(desc(bills.created_at));\r\n        }, { service: 'CachedBillService', operation: 'getBillsByCategory' });\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-service.ts",
      "line": 482,
      "column": 79,
      "context": "          const conditions = [];\r\n          \r\n          if (filters.status) conditions.push(eq(bills.status, filters.status as any));\r\n          if (filters.category) conditions.push(eq(bills.category, filters.category as any));\r\n          if (filters.sponsor_id) conditions.push(eq(bills.sponsor_id, filters.sponsor_id as any));\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-service.ts",
      "line": 483,
      "column": 85,
      "context": "          \r\n          if (filters.status) conditions.push(eq(bills.status, filters.status as any));\r\n          if (filters.category) conditions.push(eq(bills.category, filters.category as any));\r\n          if (filters.sponsor_id) conditions.push(eq(bills.sponsor_id, filters.sponsor_id as any));\r\n          \r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-service.ts",
      "line": 484,
      "column": 91,
      "context": "          if (filters.status) conditions.push(eq(bills.status, filters.status as any));\r\n          if (filters.category) conditions.push(eq(bills.category, filters.category as any));\r\n          if (filters.sponsor_id) conditions.push(eq(bills.sponsor_id, filters.sponsor_id as any));\r\n          \r\n          if (filters.search) {\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-service.ts",
      "line": 605,
      "column": 79,
      "context": "      const conditions = [];\r\n\r\n          if (filters.status) conditions.push(eq(bills.status, filters.status as any));\r\n          if (filters.category) conditions.push(eq(bills.category, filters.category as any));\r\n          if (filters.sponsor_id) conditions.push(eq(bills.sponsor_id, filters.sponsor_id as any));\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-service.ts",
      "line": 606,
      "column": 85,
      "context": "\r\n          if (filters.status) conditions.push(eq(bills.status, filters.status as any));\r\n          if (filters.category) conditions.push(eq(bills.category, filters.category as any));\r\n          if (filters.sponsor_id) conditions.push(eq(bills.sponsor_id, filters.sponsor_id as any));\r\n      \r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\application\\bill-service.ts",
      "line": 607,
      "column": 91,
      "context": "          if (filters.status) conditions.push(eq(bills.status, filters.status as any));\r\n          if (filters.category) conditions.push(eq(bills.category, filters.category as any));\r\n          if (filters.sponsor_id) conditions.push(eq(bills.sponsor_id, filters.sponsor_id as any));\r\n      \r\n      if (filters.search) {\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\argument-intelligence\\application\\argument-processor.ts",
      "line": 203,
      "column": 83,
      "context": "      // Map DB arguments to Clustering arguments format\n      // Note: In a real scenario, you'd map the DB entity to the service DTO explicitly.\n      // Assuming billArguments are compatible enough for this context or passing as any for now\n      // to resolve the immediate flow, though strict mapping is better.\n      const argumentsForClustering = billArguments.map(arg => ({",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\services\\engagement.service.ts",
      "line": 311,
      "column": 36,
      "context": "            }));\r\n\r\n            return formattedTrends as any;\r\n          }\r\n        );\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\services\\engagement.service.ts",
      "line": 524,
      "column": 11,
      "context": "    errorTracker.trackRequestError(\r\n      error instanceof Error ? error : new Error(String(error)),\r\n      req as any,\r\n      'high',\r\n      'business_logic'\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\services\\engagement.service.ts",
      "line": 559,
      "column": 11,
      "context": "    errorTracker.trackRequestError(\r\n      error instanceof Error ? error : new Error(String(error)),\r\n      req as any,\r\n      'high',\r\n      'business_logic'\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\services\\engagement.service.ts",
      "line": 619,
      "column": 11,
      "context": "    errorTracker.trackRequestError(\r\n      error instanceof Error ? error : new Error(String(error)),\r\n      req as any,\r\n      'high',\r\n      'business_logic'\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\financial-disclosure\\monitoring.ts",
      "line": 715,
      "column": 57,
      "context": "        .map(([type, threshold]) =>\r\n          and(\r\n            eq(sponsorTransparency.disclosureType, type as any),\r\n            sql`CAST(${sponsorTransparency.amount} AS NUMERIC) > ${threshold}`\r\n          )\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\financial-disclosure\\monitoring.ts",
      "line": 939,
      "column": 77,
      "context": "      const notificationsToCreate = alerts.filter(alert =>\r\n        this.config.alerting.createNotifications &&\r\n        this.config.alerting.notificationSeverities.includes(alert.severity as any)\r\n      );\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\financial-disclosure\\index.ts",
      "line": 243,
      "column": 40,
      "context": "        const options = {\r\n          sponsor_id: req.query.sponsor_id ? Number(req.query.sponsor_id) : undefined,\r\n          severity: req.query.severity as any,\r\n          type: req.query.type as any,\r\n          includeResolved: req.query.includeResolved === 'true',\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\financial-disclosure\\index.ts",
      "line": 244,
      "column": 32,
      "context": "          sponsor_id: req.query.sponsor_id ? Number(req.query.sponsor_id) : undefined,\r\n          severity: req.query.severity as any,\r\n          type: req.query.type as any,\r\n          includeResolved: req.query.includeResolved === 'true',\r\n          limit: req.query.limit ? Number(req.query.limit) : undefined\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\financial-disclosure\\index.ts",
      "line": 652,
      "column": 46,
      "context": "    \r\n    if (err instanceof BaseError) {\r\n      return ApiError(res, err.message, (err as any).statusCode || 500);\r\n    }\r\n    \r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\financial-disclosure\\index.ts",
      "line": 665,
      "column": 25,
      "context": "    });\r\n    try {\r\n      if ((errorTracker as any)?.capture) {\r\n        (errorTracker as any).capture(err instanceof Error ? err : new Error(String(err)), { component: 'financial-disclosure', path: req.path, method: req.method });\r\n      }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\financial-disclosure\\index.ts",
      "line": 666,
      "column": 23,
      "context": "    try {\r\n      if ((errorTracker as any)?.capture) {\r\n        (errorTracker as any).capture(err instanceof Error ? err : new Error(String(err)), { component: 'financial-disclosure', path: req.path, method: req.method });\r\n      }\r\n    } catch (reportErr) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\middleware\\analytics-context.ts",
      "line": 71,
      "column": 25,
      "context": "\r\n    try {\r\n      if ((errorTracker as any)?.trackRequestError) {\r\n        // Track with low severity; no request object context available yet, pass req as any\r\n        (errorTracker as any).trackRequestError(\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\middleware\\analytics-context.ts",
      "line": 72,
      "column": 87,
      "context": "    try {\r\n      if ((errorTracker as any)?.trackRequestError) {\r\n        // Track with low severity; no request object context available yet, pass req as any\r\n        (errorTracker as any).trackRequestError(\r\n          error instanceof Error ? error : new Error(String(error)),\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\middleware\\analytics-context.ts",
      "line": 73,
      "column": 23,
      "context": "      if ((errorTracker as any)?.trackRequestError) {\r\n        // Track with low severity; no request object context available yet, pass req as any\r\n        (errorTracker as any).trackRequestError(\r\n          error instanceof Error ? error : new Error(String(error)),\r\n          req as any,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\middleware\\analytics-context.ts",
      "line": 75,
      "column": 15,
      "context": "        (errorTracker as any).trackRequestError(\r\n          error instanceof Error ? error : new Error(String(error)),\r\n          req as any,\r\n          'low',\r\n          'analytics_context'\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\middleware\\analytics-context.ts",
      "line": 79,
      "column": 32,
      "context": "          'analytics_context'\r\n        );\r\n      } else if ((errorTracker as any)?.capture) {\r\n        (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), {\r\n          component: 'analytics-context',\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\middleware\\analytics-context.ts",
      "line": 80,
      "column": 23,
      "context": "        );\r\n      } else if ((errorTracker as any)?.capture) {\r\n        (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), {\r\n          component: 'analytics-context',\r\n        });\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\config\\analytics.config.ts",
      "line": 335,
      "column": 25,
      "context": "    logger.error('Failed to initialize analytics configuration', { error: error instanceof Error ? error.message : String(error), stack: error instanceof Error ? error.stack : undefined });\r\n    try {\r\n      if ((errorTracker as any)?.capture) {\r\n        (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'analytics-config' });\r\n      }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analytics\\config\\analytics.config.ts",
      "line": 336,
      "column": 23,
      "context": "    try {\r\n      if ((errorTracker as any)?.capture) {\r\n        (errorTracker as any).capture(error instanceof Error ? error : new Error(String(error)), { component: 'analytics-config' });\r\n      }\r\n    } catch (reportErr) {\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analysis\\application\\constitutional-analysis.service.ts",
      "line": 409,
      "column": 31,
      "context": "        // Map common strength values to a numeric proxy for relevance.\r\n        relevance: ((): number => {\r\n          const strength = (p as any).precedent_strength as string | undefined;\r\n          if (!strength) return 50;\r\n          if (strength === 'binding') return 90;\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analysis\\application\\constitutional-analysis.service.ts",
      "line": 417,
      "column": 41,
      "context": "        })(),\r\n        outcome: p.legal_principle || p.case_summary || 'Holding not available',\r\n        applicability: Array.isArray((p as any).constitutional_provisions_involved) && (p as any).constitutional_provisions_involved.length > 0\r\n          ? 'Cites constitutional provisions'\r\n          : 'Summary not available',\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\analysis\\application\\constitutional-analysis.service.ts",
      "line": 417,
      "column": 91,
      "context": "        })(),\r\n        outcome: p.legal_principle || p.case_summary || 'Holding not available',\r\n        applicability: Array.isArray((p as any).constitutional_provisions_involved) && (p as any).constitutional_provisions_involved.length > 0\r\n          ? 'Cites constitutional provisions'\r\n          : 'Summary not available',\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\application\\alert-preferences-service.ts",
      "line": 134,
      "column": 52,
      "context": "      }\r\n\r\n      const currentPreferences = (user.preferences as any) || {};\r\n      const alertPreferences = currentPreferences.alertPreferences || [];\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\application\\alert-preferences-service.ts",
      "line": 221,
      "column": 52,
      "context": "      }\r\n\r\n      const currentPreferences = (user.preferences as any) || {};\r\n      const alertPreferences = currentPreferences.alertPreferences || [];\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\application\\alert-preferences-service.ts",
      "line": 283,
      "column": 52,
      "context": "      }\r\n\r\n      const currentPreferences = (user.preferences as any) || {};\r\n      const alertPreferences = currentPreferences.alertPreferences || [];\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\application\\alert-preferences-service.ts",
      "line": 451,
      "column": 49,
      "context": "        id: notification.id,\r\n        user_id: notification.user_id,\r\n        alert_preference_id: (notification.data as any)?.alert_preference_id || '',\r\n        notification_id: notification.id,\r\n        alert_type: notification.type,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\application\\alert-preferences-service.ts",
      "line": 454,
      "column": 37,
      "context": "        notification_id: notification.id,\r\n        alert_type: notification.type,\r\n        channel: (notification.data as any)?.channel || 'unknown',\r\n        status: (notification.data as any)?.status || 'sent',\r\n        delivery_time: (notification.data as any)?.delivery_time || notification.created_at,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\application\\alert-preferences-service.ts",
      "line": 455,
      "column": 36,
      "context": "        alert_type: notification.type,\r\n        channel: (notification.data as any)?.channel || 'unknown',\r\n        status: (notification.data as any)?.status || 'sent',\r\n        delivery_time: (notification.data as any)?.delivery_time || notification.created_at,\r\n        failure_reason: (notification.data as any)?.failure_reason,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\application\\alert-preferences-service.ts",
      "line": 456,
      "column": 43,
      "context": "        channel: (notification.data as any)?.channel || 'unknown',\r\n        status: (notification.data as any)?.status || 'sent',\r\n        delivery_time: (notification.data as any)?.delivery_time || notification.created_at,\r\n        failure_reason: (notification.data as any)?.failure_reason,\r\n        metadata: (notification.data as any)?.metadata,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\application\\alert-preferences-service.ts",
      "line": 457,
      "column": 44,
      "context": "        status: (notification.data as any)?.status || 'sent',\r\n        delivery_time: (notification.data as any)?.delivery_time || notification.created_at,\r\n        failure_reason: (notification.data as any)?.failure_reason,\r\n        metadata: (notification.data as any)?.metadata,\r\n        created_at: notification.created_at\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\application\\alert-preferences-service.ts",
      "line": 458,
      "column": 38,
      "context": "        delivery_time: (notification.data as any)?.delivery_time || notification.created_at,\r\n        failure_reason: (notification.data as any)?.failure_reason,\r\n        metadata: (notification.data as any)?.metadata,\r\n        created_at: notification.created_at\r\n      }));\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\advocacy\\application\\impact-tracker.ts",
      "line": 530,
      "column": 9,
      "context": "        impactScore,\r\n        updated_at: new Date()\r\n      } as any);\r\n\r\n      logger.info('Campaign impact score updated', { \r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\admin\\moderation\\moderation-orchestrator.service.ts",
      "line": 305,
      "column": 44,
      "context": "          content_type,\r\n          content_id || 0, // In real implementation, this would be the actual content ID\r\n          analysis.detectedIssues[0]?.type as any || 'other',\r\n          `Automated detection: ${analysis.detectedIssues.map(i => i.description).join(', ')}`,\r\n          'system',\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\subscription-manager.test.ts",
      "line": 113,
      "column": 44,
      "context": "    it('should reject invalid WebSocket connection', () => {\r\n      expect(() => {\r\n        subscriptionManager.subscribe(null as any, 123);\r\n      }).toThrow('Invalid or closed WebSocket connection');\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\subscription-manager.test.ts",
      "line": 213,
      "column": 74,
      "context": "      it('should reject non-array bill IDs', () => {\r\n        expect(() => {\r\n          subscriptionManager.batchSubscribe(mockWebSocket1, 'not-array' as any);\r\n        }).toThrow('Bill IDs must be a non-empty array');\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\subscription-manager.test.ts",
      "line": 217,
      "column": 67,
      "context": "\r\n        expect(() => {\r\n          subscriptionManager.batchSubscribe(mockWebSocket1, null as any);\r\n        }).toThrow('Bill IDs must be a non-empty array');\r\n      });\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\subscription-manager.test.ts",
      "line": 223,
      "column": 51,
      "context": "      it('should reject invalid WebSocket connection', () => {\r\n        expect(() => {\r\n          subscriptionManager.batchSubscribe(null as any, [123, 456]);\r\n        }).toThrow('Invalid or closed WebSocket connection');\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\subscription-manager.test.ts",
      "line": 297,
      "column": 76,
      "context": "      it('should reject non-array bill IDs', () => {\r\n        expect(() => {\r\n          subscriptionManager.batchUnsubscribe(mockWebSocket1, 'not-array' as any);\r\n        }).toThrow('Bill IDs must be a non-empty array');\r\n      });\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\operation-queue-manager.test.ts",
      "line": 292,
      "column": 25,
      "context": "    it('should handle unknown operation type', async () => {\r\n      const operation: QueueOperation = {\r\n        type: 'unknown' as any,\r\n        priority: OPERATION_PRIORITIES.NORMAL,\r\n        data: { test: true },\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 80,
      "column": 30,
      "context": "    it('should reject message with invalid type', () => {\r\n      const message: WebSocketMessage = {\r\n        type: 'invalid_type' as any,\r\n        data: { bill_id: 123 },\r\n      };\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 355,
      "column": 30,
      "context": "    it('should handle unknown message type', async () => {\r\n      const message: WebSocketMessage = {\r\n        type: 'unknown_type' as any,\r\n        messageId: 'unknown_test',\r\n      };\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 370,
      "column": 50,
      "context": "  describe('message validation edge cases', () => {\r\n    it('should reject null message', () => {\r\n      expect(messageHandler.validateMessage(null as any)).toBe(false);\r\n    });\r\n\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 374,
      "column": 55,
      "context": "\r\n    it('should reject undefined message', () => {\r\n      expect(messageHandler.validateMessage(undefined as any)).toBe(false);\r\n    });\r\n\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 378,
      "column": 54,
      "context": "\r\n    it('should reject non-object message', () => {\r\n      expect(messageHandler.validateMessage('string' as any)).toBe(false);\r\n      expect(messageHandler.validateMessage(123 as any)).toBe(false);\r\n      expect(messageHandler.validateMessage(true as any)).toBe(false);\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 379,
      "column": 49,
      "context": "    it('should reject non-object message', () => {\r\n      expect(messageHandler.validateMessage('string' as any)).toBe(false);\r\n      expect(messageHandler.validateMessage(123 as any)).toBe(false);\r\n      expect(messageHandler.validateMessage(true as any)).toBe(false);\r\n    });\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 380,
      "column": 50,
      "context": "      expect(messageHandler.validateMessage('string' as any)).toBe(false);\r\n      expect(messageHandler.validateMessage(123 as any)).toBe(false);\r\n      expect(messageHandler.validateMessage(true as any)).toBe(false);\r\n    });\r\n\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 387,
      "column": 9,
      "context": "        type: 123,\r\n        data: { bill_id: 123 },\r\n      } as any;\r\n\r\n      expect(messageHandler.validateMessage(message)).toBe(false);\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 395,
      "column": 41,
      "context": "      const message: WebSocketMessage = {\r\n        type: 'subscribe',\r\n        data: { bill_id: 'not_a_number' as any },\r\n      };\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 413,
      "column": 42,
      "context": "      const message: WebSocketMessage = {\r\n        type: 'batch_subscribe',\r\n        data: { bill_ids: 'not_an_array' as any },\r\n      };\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 422,
      "column": 28,
      "context": "      const message: WebSocketMessage = {\r\n        type: 'auth',\r\n        data: { token: 123 as any },\r\n      };\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 431,
      "column": 46,
      "context": "      const message: WebSocketMessage = {\r\n        type: 'update_preferences',\r\n        data: { preferences: 'not_an_object' as any },\r\n      };\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 442,
      "column": 36,
      "context": "      const message: WebSocketMessage = {\r\n        type: 'subscribe',\r\n        data: { bill_id: 'invalid' as any },\r\n        messageId: 'validation_error_test',\r\n      };\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\websocket\\core\\__tests__\\message-handler.test.ts",
      "line": 457,
      "column": 43,
      "context": "      const message: WebSocketMessage = {\r\n        type: 'batch_subscribe',\r\n        data: { bill_ids: [123, 'invalid' as any, 789] },\r\n        messageId: 'batch_validation_error',\r\n      };\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\database\\graph\\core\\sync-executor.ts",
      "line": 600,
      "column": 52,
      "context": "        and(\n          eq(graph_sync_status.entity_type, entityType),\n          eq(graph_sync_status.entity_id, entityId as any)\n        )\n      );",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\database\\graph\\core\\sync-executor.ts",
      "line": 639,
      "column": 59,
      "context": "      case 'User':\n        return await db.query.users.findFirst({\n          where: (users, { eq }) => eq(users.id, entityId as any),\n        });\n      case 'Person':",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\database\\graph\\core\\sync-executor.ts",
      "line": 643,
      "column": 65,
      "context": "      case 'Person':\n        return await db.query.sponsors.findFirst({\n          where: (sponsors, { eq }) => eq(sponsors.id, entityId as any),\n        });\n      case 'Bill':",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\infrastructure\\database\\graph\\core\\sync-executor.ts",
      "line": 647,
      "column": 59,
      "context": "      case 'Bill':\n        return await db.query.bills.findFirst({\n          where: (bills, { eq }) => eq(bills.id, entityId as any),\n        });\n      default:",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\domain\\services\\user-verification-domain-service.ts",
      "line": 218,
      "column": 67,
      "context": "    }\r\n\r\n    const verificationData = verificationRow[0].verification_data as any;\r\n    if (verificationData.citizenId !== citizenId) {\r\n      return { success: false, errors: ['Unauthorized to update this verification'] };\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\domain\\services\\user-verification-domain-service.ts",
      "line": 323,
      "column": 67,
      "context": "    }\r\n\r\n    const verificationData = verificationRow[0].verification_data as any;\r\n    const endorsements = verificationData.endorsements || [];\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\domain\\services\\user-verification-domain-service.ts",
      "line": 373,
      "column": 67,
      "context": "    }\r\n\r\n    const verificationData = verificationRow[0].verification_data as any;\r\n    const disputes = verificationData.disputes || [];\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\domain\\services\\user-verification-domain-service.ts",
      "line": 425,
      "column": 67,
      "context": "    }\r\n\r\n    const verificationData = verificationRow[0].verification_data as any;\r\n    const verification = CitizenVerification.create({\r\n      id: verificationRow[0].id,\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\domain\\services\\user-verification-domain-service.ts",
      "line": 506,
      "column": 42,
      "context": "\r\n    const verifications = verificationRows.map((row: any) => {\r\n      const data = row.verification_data as any;\r\n      return CitizenVerification.create({\r\n        id: row.id,\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\domain\\services\\user-verification-domain-service.ts",
      "line": 581,
      "column": 42,
      "context": "\r\n    const verifications = verificationRows.map((row: any) => {\r\n      const data = row.verification_data as any;\r\n      return CitizenVerification.create({\r\n        id: row.id,\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\domain\\services\\user-management-domain-service.ts",
      "line": 89,
      "column": 13,
      "context": "\r\n      // Attach password_hash temporarily so service can use it for DB insert\r\n      (user as any).password_hash = userData.password_hash;\r\n      await this.userService.save(user, userData.password_hash);\r\n      return { success: true, user, errors: [] };\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\domain\\services\\profile-domain-service.ts",
      "line": 228,
      "column": 43,
      "context": "    updatedData.updated_at = new Date();\r\n\r\n    return UserProfile.create(updatedData as any);\r\n  }\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\application\\middleware\\validation-middleware.ts",
      "line": 110,
      "column": 86,
      "context": "  const requests = new Map<string, { count: number; resetTime: number }>();\r\n\r\n  return (req: Request, res: Response, next: NextFunction) => { const user_id = (req as any).user?.id || req.ip;\r\n    const now = Date.now();\r\n    const userRequests = requests.get(user_id);\r",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\application\\middleware\\validation-middleware.ts",
      "line": 141,
      "column": 13,
      "context": "// Authentication validation\r\nexport function requireAuthentication(req: Request, res: Response, next: NextFunction) {\r\n  if (!(req as any).user) {\r\n    const startTime = Date.now();\r\n    return res.status(401).json({\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\application\\middleware\\validation-middleware.ts",
      "line": 163,
      "column": 28,
      "context": "export function requireRole(allowedRoles: string[]) {\r\n  return (req: Request, res: Response, next: NextFunction) => {\r\n    const user_role = (req as any).user?.role;\r\n    if (!user_role || !allowedRoles.includes(user_role)) {\r\n      const startTime = Date.now();\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\application\\middleware\\validation-middleware.ts",
      "line": 186,
      "column": 26,
      "context": "// Ownership validation\r\nexport function requireOwnership(resourceIdParam: string) { return (req: Request, res: Response, next: NextFunction) => {\r\n    const user_id = (req as any).user?.id;\r\n    const resourceUserId = req.params[resourceIdParam];\r\n\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\users\\application\\middleware\\validation-middleware.ts",
      "line": 189,
      "column": 44,
      "context": "    const resourceUserId = req.params[resourceIdParam];\r\n\r\n    if (user_id !== resourceUserId && (req as any).user?.role !== 'admin') {\r\n      const startTime = Date.now();\r\n      return res.status(403).json({\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\search\\engines\\core\\postgresql-fulltext.engine.ts",
      "line": 380,
      "column": 53,
      "context": "\r\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n      if (result.data.length > 0 && (result.data[0] as any)?.expanded_query) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return (result.data[0] as any).expanded_query.split(' | ').slice(0, options.maxExpansions);\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\search\\engines\\core\\postgresql-fulltext.engine.ts",
      "line": 382,
      "column": 32,
      "context": "      if (result.data.length > 0 && (result.data[0] as any)?.expanded_query) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return (result.data[0] as any).expanded_query.split(' | ').slice(0, options.maxExpansions);\r\n      }\r\n    } catch (error) {\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\bills\\domain\\services\\bill-domain-service.ts",
      "line": 620,
      "column": 19,
      "context": "      await this.eventPublisher.publish(new BillStatusChangedEvent(\r\n        bill_id,\r\n        'unknown' as any, // We don't know the old status in bulk operations\r\n        newStatus,\r\n        updatedBy\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\domain\\services\\unified-alert-preference-service.ts",
      "line": 736,
      "column": 66,
      "context": "    try {\r\n      const cached = await cacheService.get(cacheKey);\r\n      if (cached !== null && cached !== undefined) return cached as any;\r\n    } catch (err) { logger.warn('Cache read failed for alert stats', { component: 'AlertPreferenceService', user_id, error: err  });\r\n    }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\domain\\services\\unified-alert-preference-service.ts",
      "line": 1041,
      "column": 41,
      "context": "      const mapped = notificationTypeMap[alertType] || { type: 'system_alert' };\r\n\r\n      await (notificationChannelService as any).sendMultiChannelNotification({ user_id,\r\n        type: mapped.type,\r\n        subType: mapped.subType,\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\domain\\services\\unified-alert-preference-service.ts",
      "line": 1046,
      "column": 28,
      "context": "        title: alertData.title || this.getDefaultTitle(alertType),\r\n        message: alertData.message || alertData.description || 'You have a new alert',\r\n        priority: priority as any,\r\n        relatedBillId: (alertData && alertData.bill_id) || undefined,\r\n        metadata: alertData as any\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\domain\\services\\unified-alert-preference-service.ts",
      "line": 1048,
      "column": 29,
      "context": "        priority: priority as any,\r\n        relatedBillId: (alertData && alertData.bill_id) || undefined,\r\n        metadata: alertData as any\r\n       });\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\domain\\services\\unified-alert-preference-service.ts",
      "line": 1146,
      "column": 46,
      "context": "      // Fetch current user preferences\r\n      const [user] = await this.db\r\n        .select({ preferences: (schema.users as any).preferences })\r\n        .from(schema.users)\r\n        .where(eq(schema.users.id, user_id))\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\domain\\services\\unified-alert-preference-service.ts",
      "line": 1151,
      "column": 53,
      "context": "        .limit(1);\r\n\r\n      const currentPreferences = (user?.preferences as any) || {};\r\n      const alertPreferences = currentPreferences.alertPreferences || [];\r\n      \r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\domain\\services\\unified-alert-preference-service.ts",
      "line": 1200,
      "column": 46,
      "context": "    try {\r\n      const [user] = await this.db\r\n        .select({ preferences: (schema.users as any).preferences })\r\n        .from(schema.users)\r\n        .where(eq(schema.users.id, user_id))\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\domain\\services\\unified-alert-preference-service.ts",
      "line": 1205,
      "column": 53,
      "context": "        .limit(1);\r\n\r\n      const currentPreferences = (user?.preferences as any) || {};\r\n      const alertPreferences = currentPreferences.alertPreferences || [];\r\n      \r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\domain\\services\\unified-alert-preference-service.ts",
      "line": 1238,
      "column": 46,
      "context": "    try {\r\n      const [user] = await this.db\r\n        .select({ preferences: (schema.users as any).preferences })\r\n        .from(schema.users)\r\n        .where(eq(schema.users.id, user_id))\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\domain\\services\\unified-alert-preference-service.ts",
      "line": 1247,
      "column": 53,
      "context": "      }\r\n\r\n      const currentPreferences = (user?.preferences as any) || {};\r\n      const alertPreferences = currentPreferences.alertPreferences || [];\r\n      \r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\domain\\services\\unified-alert-preference-service.ts",
      "line": 1272,
      "column": 46,
      "context": "      // Store in user preferences under deliveryLogs array\r\n      const [user] = await this.db\r\n        .select({ preferences: (schema.users as any).preferences })\r\n        .from(schema.users)\r\n        .where(eq(schema.users.id, log.user_id))\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\domain\\services\\unified-alert-preference-service.ts",
      "line": 1277,
      "column": 53,
      "context": "        .limit(1);\r\n\r\n      const currentPreferences = (user?.preferences as any) || {};\r\n      const deliveryLogs = currentPreferences.deliveryLogs || [];\r\n      \r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\domain\\services\\unified-alert-preference-service.ts",
      "line": 1315,
      "column": 46,
      "context": "    try {\r\n      const [user] = await this.db\r\n        .select({ preferences: (schema.users as any).preferences })\r\n        .from(schema.users)\r\n        .where(eq(schema.users.id, user_id))\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\domain\\services\\unified-alert-preference-service.ts",
      "line": 1324,
      "column": 53,
      "context": "      }\r\n\r\n      const currentPreferences = (user?.preferences as any) || {};\r\n      const deliveryLogs = currentPreferences.deliveryLogs || [];\r\n      \r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\domain\\services\\unified-alert-preference-service.ts",
      "line": 1408,
      "column": 41,
      "context": "\r\n      // Send batch notification\r\n      await (notificationChannelService as any).sendMultiChannelNotification({ user_id,\r\n        type: 'digest',\r\n        title: 'Alert Digest',\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\domain\\services\\unified-alert-preference-service.ts",
      "line": 1416,
      "column": 11,
      "context": "          batch: groupedAlerts,\r\n          preferenceId\r\n        } as any,\r\n        relatedBillId: undefined\r\n      });\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\domain\\services\\alert-delivery-service.ts",
      "line": 217,
      "column": 18,
      "context": "      alertType,\r\n      [], // No channels for filtered alerts\r\n      'filtered' as any,\r\n      0,\r\n      new Date(),\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\domain\\services\\alert-delivery-service.ts",
      "line": 246,
      "column": 17,
      "context": "      alertType,\r\n      channels,\r\n      'pending' as any,\r\n      0,\r\n      new Date(),\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "server\\features\\alert-preferences\\domain\\services\\alert-delivery-service.ts",
      "line": 280,
      "column": 14,
      "context": "      alertType,\r\n      channels,\r\n      status as any,\r\n      success ? 0 : 1,\r\n      new Date(),\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\utils\\errors\\transform.ts",
      "line": 25,
      "column": 27,
      "context": "  // PostgreSQL error\r\n  if (error && typeof error === 'object' && 'code' in error) {\r\n    const pgError = error as any;\r\n\r\n    // Unique constraint violation\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\utils\\errors\\transform.ts",
      "line": 158,
      "column": 31,
      "context": "  // Service unavailable\r\n  if (error && typeof error === 'object' && 'status' in error) {\r\n    const statusError = error as any;\r\n    if (statusError.status === 503) {\r\n      return {\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\utils\\errors\\transform.ts",
      "line": 211,
      "column": 78,
      "context": "\r\n  // Database error (check for PostgreSQL error codes)\r\n  if (error && typeof error === 'object' && 'code' in error && typeof (error as any).code === 'string') {\r\n    const code = (error as any).code;\r\n    if (code.startsWith('23') || code.startsWith('42')) {\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\utils\\errors\\transform.ts",
      "line": 212,
      "column": 25,
      "context": "  // Database error (check for PostgreSQL error codes)\r\n  if (error && typeof error === 'object' && 'code' in error && typeof (error as any).code === 'string') {\r\n    const code = (error as any).code;\r\n    if (code.startsWith('23') || code.startsWith('42')) {\r\n      return transformDatabaseError(error);\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\utils\\errors\\transform.ts",
      "line": 220,
      "column": 31,
      "context": "  // HTTP error with status code\r\n  if (error && typeof error === 'object' && 'status' in error) {\r\n    const statusError = error as any;\r\n    const status = statusError.status;\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\utils\\errors\\transform.ts",
      "line": 266,
      "column": 30,
      "context": "  // Error with code property\r\n  if (error && typeof error === 'object' && 'code' in error) {\r\n    const errorCode = (error as any).code as ErrorCode;\r\n    if (errorCode in ERROR_CODES) {\r\n      return {\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\utils\\errors\\transform.ts",
      "line": 270,
      "column": 54,
      "context": "      return {\r\n        code: errorCode,\r\n        message: ERROR_MESSAGES[errorCode] || (error as any).message || 'An error occurred',\r\n        classification: getClassificationFromErrorCode(errorCode),\r\n        correlationId,\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "shared\\utils\\errors\\transform.ts",
      "line": 274,
      "column": 25,
      "context": "        correlationId,\r\n        timestamp: new Date(),\r\n        details: (error as any).details,\r\n      };\r\n    }\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "shared\\types\\performance\\bundle-analysis.ts",
      "line": 711,
      "column": 13,
      "context": "\n    updateBaseline(newBaseline: BundleMetrics): void {\n      (this as any).baseline = newBaseline;\n    },\n",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "shared\\types\\migration\\migration-tools.ts",
      "line": 112,
      "column": 67,
      "context": "  for (const [legacyField, standardField] of Object.entries(fieldMapping)) {\n    if (legacyField in (legacyInstance as object)) {\n      transformedData[standardField as keyof S] = (legacyInstance as any)[legacyField];\n    } else if (logWarnings) {\n      console.warn(`Legacy field '${legacyField}' not found in source object`);",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "shared\\types\\migration\\migration-tools.ts",
      "line": 121,
      "column": 22,
      "context": "  if (addAuditFields) {\n    const now = new Date();\n    (transformedData as any).created_at = now;\n    (transformedData as any).updated_at = now;\n  }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "shared\\types\\migration\\migration-tools.ts",
      "line": 122,
      "column": 22,
      "context": "    const now = new Date();\n    (transformedData as any).created_at = now;\n    (transformedData as any).updated_at = now;\n  }\n",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "shared\\types\\migration\\migration-helpers.ts",
      "line": 294,
      "column": 12,
      "context": "\n    // Add migration context\n    (error as any).migrationContext = {\n      sourceType: sourceItem?.constructor?.name || typeof sourceItem,\n      targetType,",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\types\\api\\factories.ts",
      "line": 318,
      "column": 21,
      "context": "      },\n      validationErrors: apiError instanceof ApiError && 'validationErrors' in apiError\n        ? (apiError as any).validationErrors\n        : undefined,\n    };",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "shared\\ml\\testing\\test-server.ts",
      "line": 76,
      "column": 28,
      "context": "\r\n    const result = await mlOrchestrator.processRequest({\r\n      modelType: modelType as any,\r\n      input,\r\n      options: {\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\ml\\testing\\test-server.ts",
      "line": 113,
      "column": 28,
      "context": "\r\n    const result = await mlOrchestrator.processRequest({\r\n      modelType: modelType as any,\r\n      input: sampleInput,\r\n      options: {\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\ml\\services\\analysis-pipeline.ts",
      "line": 856,
      "column": 42,
      "context": "        if (expression.startsWith('this.')) {\n          const methodName = expression.match(/this\\.(\\w+)/)?.[1];\n          if (methodName && typeof (this as any)[methodName] === 'function') {\n            finalOutput[key] = (this as any)[methodName](stepOutputs);\n          } else {",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\ml\\services\\analysis-pipeline.ts",
      "line": 857,
      "column": 38,
      "context": "          const methodName = expression.match(/this\\.(\\w+)/)?.[1];\n          if (methodName && typeof (this as any)[methodName] === 'function') {\n            finalOutput[key] = (this as any)[methodName](stepOutputs);\n          } else {\n            finalOutput[key] = SafeExpressionEvaluator.evaluate(expression, context);",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\ml\\models\\transparency-scorer.ts",
      "line": 642,
      "column": 39,
      "context": "    \n    const rec = recommendations[dimension];\n    return rec ? { priority: priority as any, ...rec } : null;\n  }\n",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "shared\\ml\\models\\sentiment-analyzer.ts",
      "line": 465,
      "column": 35,
      "context": "        if (tokens.includes(keyword) || text.includes(keyword)) {\n          toxicityScore += 0.2;\n          categories.add(category as any);\n        }\n      }",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "shared\\ml\\models\\real-time-classifier.ts",
      "line": 542,
      "column": 36,
      "context": "          articleScore += 20;\n          affectedArticles.add(article);\n          impactType = (impactType as any) || type;\n        }\n      }",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\ml\\models\\real-time-classifier.ts",
      "line": 696,
      "column": 47,
      "context": "    for (const classification of Object.values(classifications)) {\n      if (typeof classification === 'object' && classification !== null && 'confidence' in classification) {\n        confidenceValues.push((classification as any).confidence);\n      }\n    }",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\ml\\models\\influence-mapper.ts",
      "line": 582,
      "column": 21,
      "context": "      social: 'social',\n    };\n    return (mapping as any)[edge.type as keyof typeof mapping] || 'informational';\n  }\n",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\ml\\models\\engagement-predictor.ts",
      "line": 478,
      "column": 23,
      "context": "    };\n    \n    return (formatMap as any)[userSegment] || 'summary';\n  }\n",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "shared\\ml\\models\\constitutional-analyzer.ts",
      "line": 170,
      "column": 33,
      "context": "          violations.push({\n            provision: article,\n            violationType: type as any,\n            severity,\n            explanation: this.generateViolationExplanation(pattern, article),",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\type-guards.ts",
      "line": 88,
      "column": 51,
      "context": "  static isPromise(value: any): value is Promise<any> {\r\n    return value instanceof Promise ||\r\n           (this.isObject(value) && typeof (value as any).then === 'function');\r\n  }\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\type-guards.ts",
      "line": 171,
      "column": 31,
      "context": "      if (field in obj) {\r\n        try {\r\n          if (!validator((obj as any)[field])) {\r\n            errors.push(`Field '${field}' failed validation`);\r\n          }\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\security-utils.test.ts",
      "line": 66,
      "column": 34,
      "context": "\r\n      it('should handle non-string input', () => {\r\n        expect(sanitizeHtml(null as any)).toBe('');\r\n        expect(sanitizeHtml(undefined as any)).toBe('');\r\n      });\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\core\\utils\\security-utils.test.ts",
      "line": 67,
      "column": 39,
      "context": "      it('should handle non-string input', () => {\r\n        expect(sanitizeHtml(null as any)).toBe('');\r\n        expect(sanitizeHtml(undefined as any)).toBe('');\r\n      });\r\n    });\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\core\\utils\\security-utils.test.ts",
      "line": 421,
      "column": 32,
      "context": "  describe('Edge Cases and Error Handling', () => {\r\n    it('should handle null input in sanitizeHtml', () => {\r\n      expect(sanitizeHtml(null as any)).toBe('');\r\n    });\r\n\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\core\\utils\\security-utils.test.ts",
      "line": 425,
      "column": 37,
      "context": "\r\n    it('should handle undefined input in sanitizeHtml', () => {\r\n      expect(sanitizeHtml(undefined as any)).toBe('');\r\n    });\r\n\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\core\\utils\\security-utils.test.ts",
      "line": 429,
      "column": 31,
      "context": "\r\n    it('should handle non-string input in sanitizeSql', () => {\r\n      expect(sanitizeSql(null as any)).toBe('');\r\n      expect(sanitizeSql(undefined as any)).toBe('');\r\n    });\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\core\\utils\\security-utils.test.ts",
      "line": 430,
      "column": 36,
      "context": "    it('should handle non-string input in sanitizeSql', () => {\r\n      expect(sanitizeSql(null as any)).toBe('');\r\n      expect(sanitizeSql(undefined as any)).toBe('');\r\n    });\r\n\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\core\\utils\\security-utils.test.ts",
      "line": 434,
      "column": 36,
      "context": "\r\n    it('should handle non-string input in sanitizeFilename', () => {\r\n      expect(sanitizeFilename(null as any)).toBe('');\r\n      expect(sanitizeFilename(undefined as any)).toBe('');\r\n    });\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\core\\utils\\security-utils.test.ts",
      "line": 435,
      "column": 41,
      "context": "    it('should handle non-string input in sanitizeFilename', () => {\r\n      expect(sanitizeFilename(null as any)).toBe('');\r\n      expect(sanitizeFilename(undefined as any)).toBe('');\r\n    });\r\n\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\core\\utils\\security-utils.test.ts",
      "line": 439,
      "column": 41,
      "context": "\r\n    it('should handle non-string input in validateEmail', () => {\r\n      const result = validateEmail(null as any);\r\n      expect(result.isValid).toBe(false);\r\n      expect(result.errors).toContain('Email is required');\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\core\\utils\\security-utils.test.ts",
      "line": 445,
      "column": 39,
      "context": "\r\n    it('should handle non-string input in validateUrl', () => {\r\n      const result = validateUrl(null as any);\r\n      expect(result.isValid).toBe(false);\r\n      expect(result.errors).toContain('URL is required');\r",
      "category": "test_code",
      "severity": "low"
    },
    {
      "file": "shared\\core\\utils\\performance-utils.ts",
      "line": 400,
      "column": 48,
      "context": " */\nexport function forceGarbageCollection(): void {\n  if (typeof global !== 'undefined' && (global as any).gc) {\n    (global as any).gc();\n    safeLog.debug('Forced garbage collection', { component: 'performance' });",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\performance-utils.ts",
      "line": 401,
      "column": 13,
      "context": "export function forceGarbageCollection(): void {\n  if (typeof global !== 'undefined' && (global as any).gc) {\n    (global as any).gc();\n    safeLog.debug('Forced garbage collection', { component: 'performance' });\n  }",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\concurrency-migration-router.ts",
      "line": 174,
      "column": 43,
      "context": "        withLock: async <T>(fn: () => Promise<T>) => legacyGlobalMutex.withLock(fn),\r\n        withLimit: async <T>(fn: () => Promise<T>) => legacyApiSemaphore.withPermit(fn),\r\n        getMutex: () => legacyGlobalMutex as any,\r\n        getStats: () => ({\r\n          isLocked: legacyGlobalMutex.isLocked(),\r",
      "category": "api_response",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\common-utils.ts",
      "line": 267,
      "column": 66,
      "context": "    for (const key in source) {\r\n      if (source[key] && typeof source[key] === 'object' && !Array.isArray(source[key])) {\r\n        result[key] = objects.deepMerge(result[key], source[key] as any);\r\n      } else {\r\n        result[key] = source[key] as any;\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\common-utils.ts",
      "line": 269,
      "column": 35,
      "context": "        result[key] = objects.deepMerge(result[key], source[key] as any);\r\n      } else {\r\n        result[key] = source[key] as any;\r\n      }\r\n    }\r",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\browser-logger.ts",
      "line": 330,
      "column": 36,
      "context": "    const childLogger = this.child(context);\r\n    // Replace global logger temporarily (if available)\r\n    const originalLogger = (window as any).browserLogger;\r\n    (window as any).browserLogger = childLogger;\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\browser-logger.ts",
      "line": 331,
      "column": 13,
      "context": "    // Replace global logger temporarily (if available)\r\n    const originalLogger = (window as any).browserLogger;\r\n    (window as any).browserLogger = childLogger;\r\n\r\n    try {\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\browser-logger.ts",
      "line": 336,
      "column": 15,
      "context": "      return fn();\r\n    } finally {\r\n      (window as any).browserLogger = originalLogger;\r\n    }\r\n  }\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\browser-logger.ts",
      "line": 342,
      "column": 36,
      "context": "  async withContextAsync<T>(context: LogContext, fn: () => Promise<T>): Promise<T> {\r\n    const childLogger = this.child(context);\r\n    const originalLogger = (window as any).browserLogger;\r\n    (window as any).browserLogger = childLogger;\r\n\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\browser-logger.ts",
      "line": 343,
      "column": 13,
      "context": "    const childLogger = this.child(context);\r\n    const originalLogger = (window as any).browserLogger;\r\n    (window as any).browserLogger = childLogger;\r\n\r\n    try {\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\browser-logger.ts",
      "line": 348,
      "column": 15,
      "context": "      return await fn();\r\n    } finally {\r\n      (window as any).browserLogger = originalLogger;\r\n    }\r\n  }\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\browser-logger.ts",
      "line": 421,
      "column": 64,
      "context": "    } else if (typeof metadataOrError === 'object' && metadataOrError !== null) {\r\n      // Check if metadataOrError is actually an error\r\n      if (metadataOrError instanceof Error || (metadataOrError as any).stack) {\r\n        error = metadataOrError;\r\n      } else {\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\browser-logger.ts",
      "line": 436,
      "column": 31,
      "context": "          name: errorObj.name,\r\n          stack: errorObj.stack,\r\n          filename: (errorObj as any).filename,\r\n          lineno: (errorObj as any).lineno,\r\n          colno: (errorObj as any).colno,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\browser-logger.ts",
      "line": 437,
      "column": 29,
      "context": "          stack: errorObj.stack,\r\n          filename: (errorObj as any).filename,\r\n          lineno: (errorObj as any).lineno,\r\n          colno: (errorObj as any).colno,\r\n        },\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\browser-logger.ts",
      "line": 438,
      "column": 28,
      "context": "          filename: (errorObj as any).filename,\r\n          lineno: (errorObj as any).lineno,\r\n          colno: (errorObj as any).colno,\r\n        },\r\n        browser: {\r",
      "category": "database_operation",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\browser-logger.ts",
      "line": 485,
      "column": 32,
      "context": "  private getMemoryUsage(): Record<string, unknown> | undefined {\r\n    if ('memory' in performance) {\r\n      const mem = (performance as any).memory;\r\n      return {\r\n        used: mem.usedJSHeapSize,\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\utils\\browser-logger.ts",
      "line": 500,
      "column": 25,
      "context": "  private getConnectionType(): string | undefined {\r\n    if ('connection' in navigator) {\r\n      return (navigator as any).connection?.effectiveType || 'unknown';\r\n    }\r\n    return undefined;\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\types\\testing\\examples\\runtime-validation.example.ts",
      "line": 178,
      "column": 22,
      "context": "      return null;\n    })\n    .filter(Boolean) as any[];\n\n  return {",
      "category": "dynamic_property",
      "severity": "medium"
    },
    {
      "file": "shared\\platform\\kenya\\anonymity\\anonymity-helper.ts",
      "line": 59,
      "column": 27,
      "context": "    allow_direct_messages: true,\r\n    public_profile: true,\r\n    ...((privacy_settings as any) || {})\r\n  };\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\primitives\\types\\branded.ts",
      "line": 22,
      "column": 86,
      "context": " */\r\nexport function isBranded<T, B extends string>(value: unknown, brand: B): value is Brand<T, B> {\r\n  return typeof value === 'object' && value !== null && '__brand' in value && (value as any).__brand === brand;\r\n}\r\n\r",
      "category": "enum_conversion",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\middleware\\auth\\provider.ts",
      "line": 62,
      "column": 14,
      "context": "\r\n        // Attach user to request\r\n        (req as any).user = user;\r\n        (req as any).token = token;\r\n\r",
      "category": "other",
      "severity": "medium"
    },
    {
      "file": "shared\\core\\middleware\\auth\\provider.ts",
      "line": 63,
      "column": 14,
      "context": "        // Attach user to request\r\n        (req as any).user = user;\r\n        (req as any).token = token;\r\n\r\n        next();\r",
      "category": "other",
      "severity": "medium"
    }
  ]
}